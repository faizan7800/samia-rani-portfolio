import{r as reactExports,j as jsxRuntimeExports,a as cx,e as getAugmentedNamespace,c as commonjsGlobal,_ as _objectWithoutPropertiesLoose,f as _setPrototypeOf,R as React,h as _extends}from"./index-n5vQ_biw.js";import{t as toPropertyKey,_ as _typeof,b as _assertThisInitialized,P as PropTypes,c as _defineProperty,B as Button}from"./MainNavigation-C1hfUM4g.js";import{B as BaseLayout}from"./BaseLayout-TtNp6ojL.js";const SvgDownload=u=>reactExports.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",...u},reactExports.createElement("path",{d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"})),SvgResumeFiles=u=>reactExports.createElement("svg",{id:"062a65d4-6310-416e-8fb8-777315adf84b","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"100%",height:"auto",viewBox:"0 0 853.53 770",...u},reactExports.createElement("defs",null,reactExports.createElement("linearGradient",{id:"7db19e5e-7cc3-41df-8a16-c81cf46c1195",x1:758.38,y1:801.59,x2:758.38,y2:131.56,gradientTransform:"translate(-136.27 -110.44) rotate(4.65)",gradientUnits:"userSpaceOnUse"},reactExports.createElement("stop",{offset:0,stopColor:"gray",stopOpacity:.25}),reactExports.createElement("stop",{offset:.54,stopColor:"gray",stopOpacity:.12}),reactExports.createElement("stop",{offset:1,stopColor:"gray",stopOpacity:.1})),reactExports.createElement("linearGradient",{id:"87908c47-1c47-4a2f-b745-20cb7009bb75",x1:685.97,y1:797.2,x2:685.97,y2:126.94,gradientTransform:"translate(-242.89 51.18) rotate(-10.87)",xlinkHref:"#7db19e5e-7cc3-41df-8a16-c81cf46c1195"}),reactExports.createElement("linearGradient",{id:"f482b758-09b8-4320-b57c-ecd1bdf3658e",x1:517.93,y1:719.46,x2:517.93,y2:49.68,gradientTransform:"matrix(1, 0, 0, 1, 0, 0)",xlinkHref:"#7db19e5e-7cc3-41df-8a16-c81cf46c1195"}),reactExports.createElement("linearGradient",{id:"720977dd-28dd-4cd1-b9d4-02f8d793e7ce",x1:553.48,y1:380.79,x2:559.93,y2:535.01,gradientTransform:"matrix(-1, 0.01, -0.01, -1, 1253.94, 688.13)",gradientUnits:"userSpaceOnUse"},reactExports.createElement("stop",{offset:0,stopOpacity:.12}),reactExports.createElement("stop",{offset:.55,stopOpacity:.09}),reactExports.createElement("stop",{offset:1,stopOpacity:.02})),reactExports.createElement("linearGradient",{id:"e8979000-d63e-4fe0-8af1-0dfdd65d3420",x1:356.17,y1:639.4,x2:356.17,y2:574,gradientTransform:"matrix(1, 0, 0, 1, 0, 0)",xlinkHref:"#7db19e5e-7cc3-41df-8a16-c81cf46c1195"}),reactExports.createElement("linearGradient",{id:"3889af47-bc7c-4009-b8ee-af9d60c73d61",x1:296,y1:675.66,x2:296,y2:478.3,gradientTransform:"matrix(1, 0, 0, 1, 0, 0)",xlinkHref:"#7db19e5e-7cc3-41df-8a16-c81cf46c1195"})),reactExports.createElement("title",null,"files"),reactExports.createElement("polygon",{points:"799.57 770 309.95 729.85 363.91 62.28 853.53 102.43 799.57 770",fill:"url(#7db19e5e-7cc3-41df-8a16-c81cf46c1195)"}),reactExports.createElement("polygon",{points:"793.7 760.47 317.27 721.39 369.78 71.81 846.21 110.88 793.7 760.47",fill:"#8216EB"}),reactExports.createElement("polygon",{points:"821.86 657.75 339.44 751.09 214 93.34 696.42 0 821.86 657.75",fill:"url(#87908c47-1c47-4a2f-b745-20cb7009bb75)"}),reactExports.createElement("polygon",{points:"813.67 650.15 344.25 740.98 222.19 100.94 691.61 10.12 813.67 650.15",fill:"#e0e0e0"}),reactExports.createElement("rect",{x:272.31,y:49.68,width:491.24,height:669.78,fill:"url(#f482b758-09b8-4320-b57c-ecd1bdf3658e)"}),reactExports.createElement("rect",{x:278.93,y:58.7,width:478.01,height:651.73,fill:"#fff"}),reactExports.createElement("path",{d:"M613.25,236.15c.52,43.61,36.05,78.54,79.35,78s78-36.31,77.46-79.93a79,79,0,0,0-52.75-73.69l.24,20.34A26.73,26.73,0,0,1,691.32,208h0a26.72,26.72,0,0,1-26.87-26.42l-.24-20.34A79,79,0,0,0,613.25,236.15Z",transform:"translate(-173.24 -65)",fill:"url(#720977dd-28dd-4cd1-b9d4-02f8d793e7ce)"}),reactExports.createElement("path",{d:"M770.09,227.84c0-43.62-35.1-79-78.41-79s-78.41,35.36-78.41,79a79,79,0,0,0,51.86,74.33V281.83a26.72,26.72,0,0,1,26.55-26.74h0a26.72,26.72,0,0,1,26.55,26.74v20.35A79,79,0,0,0,770.09,227.84Z",transform:"translate(-173.24 -65)",fill:"#8216EB"}),reactExports.createElement("ellipse",{cx:518.49,cy:151.98,rx:30.14,ry:30.36,fill:"#fff",stroke:"#fff",strokeMiterlimit:10}),reactExports.createElement("path",{d:"M691.68,255.09h0a26.72,26.72,0,0,0-26.55,26.74v20.35a78.17,78.17,0,0,0,53.1,0V281.83A26.72,26.72,0,0,0,691.68,255.09Z",transform:"translate(-173.24 -65)",fill:"#fff",stroke:"#fff",strokeMiterlimit:10}),reactExports.createElement("path",{d:"M661.33,215.3A29.63,29.63,0,0,1,658.12,200a20.48,20.48,0,0,1,6.68-13.85c4.39-3.77,10.34-5.1,16.09-5.56s11.58-.18,17.24-1.31a36,36,0,0,0,23-15.72c.36,4.45.72,9-.13,13.36s-3.09,8.7-6.87,11c4.58-2.13,4.08,2.87,3.09,5.86,2.27,2.76,7.78,3.22,8.06,6.79s.23,7.26-1.15,10.55.1,9.1-3.44,9.35",transform:"translate(-173.24 -65)",fill:"#fff",stroke:"#fff",strokeMiterlimit:10}),reactExports.createElement("path",{d:"M715.81,187.26s21,1.85,6.06,33.29",transform:"translate(-173.24 -65)",fill:"#fff"}),reactExports.createElement("rect",{x:323.71,y:574,width:64.93,height:65.4,fill:"url(#e8979000-d63e-4fe0-8af1-0dfdd65d3420)"}),reactExports.createElement("rect",{x:329.3,y:579.64,width:53.73,height:54.12,fill:"#8216EB"}),reactExports.createElement("rect",{x:440.13,y:303.38,width:156.72,height:11.28,fill:"#8216EB"}),reactExports.createElement("rect",{x:440.13,y:319.17,width:264.19,height:11.28,fill:"#e0e0e0"}),reactExports.createElement("rect",{x:440.13,y:334.95,width:264.19,height:11.28,fill:"#e0e0e0"}),reactExports.createElement("rect",{x:440.13,y:444.33,width:156.72,height:11.28,fill:"#8216EB"}),reactExports.createElement("rect",{x:440.13,y:460.11,width:264.19,height:11.28,fill:"#e0e0e0"}),reactExports.createElement("rect",{x:440.13,y:475.9,width:264.19,height:11.28,fill:"#e0e0e0"}),reactExports.createElement("rect",{x:440.13,y:585.27,width:156.72,height:11.28,fill:"#8216EB"}),reactExports.createElement("rect",{x:440.13,y:601.06,width:264.19,height:11.28,fill:"#e0e0e0"}),reactExports.createElement("rect",{x:440.13,y:616.85,width:264.19,height:11.28,fill:"#e0e0e0"})),linearProgress="_linearProgress_j15kw_1",start="_start_j15kw_1",bar="_bar_j15kw_12",bar1="_bar1_j15kw_22",progressLinearMovement="_progressLinearMovement_j15kw_1",bar2="_bar2_j15kw_27",s$1={linearProgress,start,bar,bar1,progressLinearMovement,bar2},LinerProgress=()=>jsxRuntimeExports.jsxs("div",{className:s$1.linearProgress,children:[jsxRuntimeExports.jsx("div",{className:cx(s$1.bar,s$1.bar1)}),jsxRuntimeExports.jsx("div",{className:cx(s$1.bar,s$1.bar2)})]}),content="_content_tt3lz_1",header="_header_tt3lz_5",title="_title_tt3lz_11",filesImg="_filesImg_tt3lz_18",pdfWrapper="_pdfWrapper_tt3lz_32",downloadText="_downloadText_tt3lz_37",filename="_filename_tt3lz_42",buttons="_buttons_tt3lz_48",s={content,header,title,filesImg,"hero-svg2":"_hero-svg2_tt3lz_28",pdfWrapper,downloadText,filename,buttons};function commonjsRequire(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(n,t){module.exports=t()})(commonjsGlobal,function(){return(()=>{var __webpack_modules__=[,(u,n,t)=>{function e(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(l){return typeof l}:e=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(O)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatTimer=n.RenderingCancelledException=n.PixelsPerInch=n.PageViewport=n.PDFDateString=n.LinkTarget=n.DOMStandardFontDataFactory=n.DOMSVGFactory=n.DOMCanvasFactory=n.DOMCMapReaderFactory=void 0,n.addLinkAttributes=q,n.deprecated=Se,n.getFilenameFromUrl=P,n.getPdfFilenameFromUrl=M,n.getXfaPageViewport=V,n.isDataScheme=E,n.isPdfFile=g,n.isValidFetchUrl=ne,n.loadScript=Y;var a=f(t(2)),i=t(4),c=t(135);function f(O){return O&&O.__esModule?O:{default:O}}function m(O,p){var l=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!l){if(Array.isArray(O)||(l=R(O))||p){l&&(O=l);var _=0,D=function(){};return{s:D,n:function(){return _>=O.length?{done:!0}:{done:!1,value:O[_++]}},e:function(ge){throw ge},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j=!0,Z=!1,ce;return{s:function(){l=l.call(O)},n:function(){var ge=l.next();return j=ge.done,ge},e:function(ge){Z=!0,ce=ge},f:function(){try{!j&&l.return!=null&&l.return()}finally{if(Z)throw ce}}}}function R(O,p){if(O){if(typeof O=="string")return B(O,p);var l=Object.prototype.toString.call(O).slice(8,-1);if(l==="Object"&&O.constructor&&(l=O.constructor.name),l==="Map"||l==="Set")return Array.from(O);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return B(O,p)}}function B(O,p){(p==null||p>O.length)&&(p=O.length);for(var l=0,_=new Array(p);l<p;l++)_[l]=O[l];return _}function N(O,p,l,_,D,j,Z){try{var ce=O[j](Z),pe=ce.value}catch(ge){l(ge);return}ce.done?p(pe):Promise.resolve(pe).then(_,D)}function G(O){return function(){var p=this,l=arguments;return new Promise(function(_,D){var j=O.apply(p,l);function Z(pe){N(j,_,D,Z,ce,"next",pe)}function ce(pe){N(j,_,D,Z,ce,"throw",pe)}Z(void 0)})}}function F(O,p){if(!(O instanceof p))throw new TypeError("Cannot call a class as a function")}function w(O,p){for(var l=0;l<p.length;l++){var _=p[l];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(O,_.key,_)}}function I(O,p,l){return p&&w(O.prototype,p),l&&w(O,l),O}function C(O,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(p&&p.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),p&&W(O,p)}function W(O,p){return W=Object.setPrototypeOf||function(_,D){return _.__proto__=D,_},W(O,p)}function k(O){var p=h();return function(){var _=d(O),D;if(p){var j=d(this).constructor;D=Reflect.construct(_,arguments,j)}else D=_.apply(this,arguments);return U(this,D)}}function U(O,p){if(p&&(e(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(O)}function y(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(O){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},d(O)}var S="noopener noreferrer nofollow",b="http://www.w3.org/2000/svg",v={CSS:96,PDF:72,get PDF_TO_CSS_UNITS(){return(0,i.shadow)(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}};n.PixelsPerInch=v;var A=function(O){C(l,O);var p=k(l);function l(){var _,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=D.ownerDocument,Z=j===void 0?globalThis.document:j;return F(this,l),_=p.call(this),_._document=Z,_}return I(l,[{key:"_createCanvas",value:function(D,j){var Z=this._document.createElement("canvas");return Z.width=D,Z.height=j,Z}}]),l}(c.BaseCanvasFactory);n.DOMCanvasFactory=A;function x(O){return H.apply(this,arguments)}function H(){return H=G(a.default.mark(function O(p){var l,_,D=arguments;return a.default.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(l=D.length>1&&D[1]!==void 0?D[1]:!1,!ne(p,document.baseURI)){Z.next=21;break}return Z.next=4,fetch(p);case 4:if(_=Z.sent,_.ok){Z.next=7;break}throw new Error(_.statusText);case 7:if(!l){Z.next=15;break}return Z.t1=Uint8Array,Z.next=11,_.arrayBuffer();case 11:Z.t2=Z.sent,Z.t0=new Z.t1(Z.t2),Z.next=20;break;case 15:return Z.t3=i.stringToBytes,Z.next=18,_.text();case 18:Z.t4=Z.sent,Z.t0=(0,Z.t3)(Z.t4);case 20:return Z.abrupt("return",Z.t0);case 21:return Z.abrupt("return",new Promise(function(ce,pe){var ge=new XMLHttpRequest;ge.open("GET",p,!0),l&&(ge.responseType="arraybuffer"),ge.onreadystatechange=function(){if(ge.readyState===XMLHttpRequest.DONE){if(ge.status===200||ge.status===0){var ye;if(l&&ge.response?ye=new Uint8Array(ge.response):!l&&ge.responseText&&(ye=(0,i.stringToBytes)(ge.responseText)),ye){ce(ye);return}}pe(new Error(ge.statusText))}},ge.send(null)}));case 22:case"end":return Z.stop()}},O)})),H.apply(this,arguments)}var L=function(O){C(l,O);var p=k(l);function l(){return F(this,l),p.apply(this,arguments)}return I(l,[{key:"_fetchData",value:function(D,j){return x(D,this.isCompressed).then(function(Z){return{cMapData:Z,compressionType:j}})}}]),l}(c.BaseCMapReaderFactory);n.DOMCMapReaderFactory=L;var X=function(O){C(l,O);var p=k(l);function l(){return F(this,l),p.apply(this,arguments)}return I(l,[{key:"_fetchData",value:function(D){return x(D,!0)}}]),l}(c.BaseStandardFontDataFactory);n.DOMStandardFontDataFactory=X;var te=function(O){C(l,O);var p=k(l);function l(){return F(this,l),p.apply(this,arguments)}return I(l,[{key:"_createSVG",value:function(D){return document.createElementNS(b,D)}}]),l}(c.BaseSVGFactory);n.DOMSVGFactory=te;var ee=function(){function O(p){var l=p.viewBox,_=p.scale,D=p.rotation,j=p.offsetX,Z=j===void 0?0:j,ce=p.offsetY,pe=ce===void 0?0:ce,ge=p.dontFlip,ye=ge===void 0?!1:ge;F(this,O),this.viewBox=l,this.scale=_,this.rotation=D,this.offsetX=Z,this.offsetY=pe;var Ae=(l[2]+l[0])/2,Te=(l[3]+l[1])/2,xe,Ie,Me,je;switch(D%=360,D<0&&(D+=360),D){case 180:xe=-1,Ie=0,Me=0,je=1;break;case 90:xe=0,Ie=1,Me=1,je=0;break;case 270:xe=0,Ie=-1,Me=-1,je=0;break;case 0:xe=1,Ie=0,Me=0,je=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ye&&(Me=-Me,je=-je);var Ge,de,he,z;xe===0?(Ge=Math.abs(Te-l[1])*_+Z,de=Math.abs(Ae-l[0])*_+pe,he=Math.abs(l[3]-l[1])*_,z=Math.abs(l[2]-l[0])*_):(Ge=Math.abs(Ae-l[0])*_+Z,de=Math.abs(Te-l[1])*_+pe,he=Math.abs(l[2]-l[0])*_,z=Math.abs(l[3]-l[1])*_),this.transform=[xe*_,Ie*_,Me*_,je*_,Ge-xe*_*Ae-Me*_*Te,de-Ie*_*Ae-je*_*Te],this.width=he,this.height=z}return I(O,[{key:"clone",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=l.scale,D=_===void 0?this.scale:_,j=l.rotation,Z=j===void 0?this.rotation:j,ce=l.offsetX,pe=ce===void 0?this.offsetX:ce,ge=l.offsetY,ye=ge===void 0?this.offsetY:ge,Ae=l.dontFlip,Te=Ae===void 0?!1:Ae;return new O({viewBox:this.viewBox.slice(),scale:D,rotation:Z,offsetX:pe,offsetY:ye,dontFlip:Te})}},{key:"convertToViewportPoint",value:function(l,_){return i.Util.applyTransform([l,_],this.transform)}},{key:"convertToViewportRectangle",value:function(l){var _=i.Util.applyTransform([l[0],l[1]],this.transform),D=i.Util.applyTransform([l[2],l[3]],this.transform);return[_[0],_[1],D[0],D[1]]}},{key:"convertToPdfPoint",value:function(l,_){return i.Util.applyInverseTransform([l,_],this.transform)}}]),O}();n.PageViewport=ee;var oe=function(O){C(l,O);var p=k(l);function l(_,D){var j;return F(this,l),j=p.call(this,_,"RenderingCancelledException"),j.type=D,j}return l}(i.BaseException);n.RenderingCancelledException=oe;var $={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};n.LinkTarget=$;function q(O){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=p.url,_=p.target,D=p.rel,j=p.enabled,Z=j===void 0?!0:j;(0,i.assert)(l&&typeof l=="string",'addLinkAttributes: A valid "url" parameter must provided.');var ce=(0,i.removeNullCharacters)(l);Z?O.href=O.title=ce:(O.href="",O.title="Disabled: ".concat(ce),O.onclick=function(){return!1});var pe="";switch(_){case $.NONE:break;case $.SELF:pe="_self";break;case $.BLANK:pe="_blank";break;case $.PARENT:pe="_parent";break;case $.TOP:pe="_top";break}O.target=pe,O.rel=typeof D=="string"?D:S}function E(O){for(var p=O.length,l=0;l<p&&O[l].trim()==="";)l++;return O.substring(l,l+5).toLowerCase()==="data:"}function g(O){return typeof O=="string"&&/\.pdf$/i.test(O)}function P(O){var p=O.indexOf("#"),l=O.indexOf("?"),_=Math.min(p>0?p:O.length,l>0?l:O.length);return O.substring(O.lastIndexOf("/",_)+1,_)}function M(O){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof O!="string")return p;if(E(O))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),p;var l=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,_=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,D=l.exec(O),j=_.exec(D[1])||_.exec(D[2])||_.exec(D[3]);if(j&&(j=j[0],j.includes("%")))try{j=_.exec(decodeURIComponent(j))[0]}catch{}return j||p}var K=function(){function O(){F(this,O),this.started=Object.create(null),this.times=[]}return I(O,[{key:"time",value:function(l){l in this.started&&(0,i.warn)("Timer is already running for ".concat(l)),this.started[l]=Date.now()}},{key:"timeEnd",value:function(l){l in this.started||(0,i.warn)("Timer has not been started for ".concat(l)),this.times.push({name:l,start:this.started[l],end:Date.now()}),delete this.started[l]}},{key:"toString",value:function(){var l=[],_=0,D=m(this.times),j;try{for(D.s();!(j=D.n()).done;){var Z=j.value,ce=Z.name;ce.length>_&&(_=ce.length)}}catch(Te){D.e(Te)}finally{D.f()}var pe=m(this.times),ge;try{for(pe.s();!(ge=pe.n()).done;){var ye=ge.value,Ae=ye.end-ye.start;l.push("".concat(ye.name.padEnd(_)," ").concat(Ae,`ms
`))}}catch(Te){pe.e(Te)}finally{pe.f()}return l.join("")}}]),O}();n.StatTimer=K;function ne(O,p){try{var l=p?new URL(O,p):new URL(O),_=l.protocol;return _==="http:"||_==="https:"}catch{return!1}}function Y(O){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise(function(l,_){var D=document.createElement("script");D.src=O,D.onload=function(j){p&&D.remove(),l(j)},D.onerror=function(){_(new Error("Cannot load script at: ".concat(D.src)))},(document.head||document.documentElement).appendChild(D)})}function Se(O){console.log("Deprecated API usage: "+O)}var ke,Ee=function(){function O(){F(this,O)}return I(O,null,[{key:"toDateObject",value:function(l){if(!l||!(0,i.isString)(l))return null;ke||(ke=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var _=ke.exec(l);if(!_)return null;var D=parseInt(_[1],10),j=parseInt(_[2],10);j=j>=1&&j<=12?j-1:0;var Z=parseInt(_[3],10);Z=Z>=1&&Z<=31?Z:1;var ce=parseInt(_[4],10);ce=ce>=0&&ce<=23?ce:0;var pe=parseInt(_[5],10);pe=pe>=0&&pe<=59?pe:0;var ge=parseInt(_[6],10);ge=ge>=0&&ge<=59?ge:0;var ye=_[7]||"Z",Ae=parseInt(_[8],10);Ae=Ae>=0&&Ae<=23?Ae:0;var Te=parseInt(_[9],10)||0;return Te=Te>=0&&Te<=59?Te:0,ye==="-"?(ce+=Ae,pe+=Te):ye==="+"&&(ce-=Ae,pe-=Te),new Date(Date.UTC(D,j,Z,ce,pe,ge))}}]),O}();n.PDFDateString=Ee;function V(O,p){var l=p.scale,_=l===void 0?1:l,D=p.rotation,j=D===void 0?0:D,Z=O.attributes.style,ce=Z.width,pe=Z.height,ge=[0,0,parseInt(ce),parseInt(pe)];return new ee({viewBox:ge,scale:_,rotation:j})}},(u,n,t)=>{u.exports=t(3)},(u,n,t)=>{u=t.nmd(u);function e(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(f){return typeof f}:e=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},e(i)}var a=function(i){var c=Object.prototype,f=c.hasOwnProperty,m,R=typeof Symbol=="function"?Symbol:{},B=R.iterator||"@@iterator",N=R.asyncIterator||"@@asyncIterator",G=R.toStringTag||"@@toStringTag";function F(g,P,M){return Object.defineProperty(g,P,{value:M,enumerable:!0,configurable:!0,writable:!0}),g[P]}try{F({},"")}catch{F=function(M,K,ne){return M[K]=ne}}function w(g,P,M,K){var ne=P&&P.prototype instanceof h?P:h,Y=Object.create(ne.prototype),Se=new $(K||[]);return Y._invoke=X(g,M,Se),Y}i.wrap=w;function I(g,P,M){try{return{type:"normal",arg:g.call(P,M)}}catch(K){return{type:"throw",arg:K}}}var C="suspendedStart",W="suspendedYield",k="executing",U="completed",y={};function h(){}function d(){}function S(){}var b={};F(b,B,function(){return this});var v=Object.getPrototypeOf,A=v&&v(v(q([])));A&&A!==c&&f.call(A,B)&&(b=A);var x=S.prototype=h.prototype=Object.create(b);d.prototype=S,F(x,"constructor",S),F(S,"constructor",d),d.displayName=F(S,G,"GeneratorFunction");function H(g){["next","throw","return"].forEach(function(P){F(g,P,function(M){return this._invoke(P,M)})})}i.isGeneratorFunction=function(g){var P=typeof g=="function"&&g.constructor;return P?P===d||(P.displayName||P.name)==="GeneratorFunction":!1},i.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,S):(g.__proto__=S,F(g,G,"GeneratorFunction")),g.prototype=Object.create(x),g},i.awrap=function(g){return{__await:g}};function L(g,P){function M(Y,Se,ke,Ee){var V=I(g[Y],g,Se);if(V.type==="throw")Ee(V.arg);else{var O=V.arg,p=O.value;return p&&e(p)==="object"&&f.call(p,"__await")?P.resolve(p.__await).then(function(l){M("next",l,ke,Ee)},function(l){M("throw",l,ke,Ee)}):P.resolve(p).then(function(l){O.value=l,ke(O)},function(l){return M("throw",l,ke,Ee)})}}var K;function ne(Y,Se){function ke(){return new P(function(Ee,V){M(Y,Se,Ee,V)})}return K=K?K.then(ke,ke):ke()}this._invoke=ne}H(L.prototype),F(L.prototype,N,function(){return this}),i.AsyncIterator=L,i.async=function(g,P,M,K,ne){ne===void 0&&(ne=Promise);var Y=new L(w(g,P,M,K),ne);return i.isGeneratorFunction(P)?Y:Y.next().then(function(Se){return Se.done?Se.value:Y.next()})};function X(g,P,M){var K=C;return function(Y,Se){if(K===k)throw new Error("Generator is already running");if(K===U){if(Y==="throw")throw Se;return E()}for(M.method=Y,M.arg=Se;;){var ke=M.delegate;if(ke){var Ee=te(ke,M);if(Ee){if(Ee===y)continue;return Ee}}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(K===C)throw K=U,M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);K=k;var V=I(g,P,M);if(V.type==="normal"){if(K=M.done?U:W,V.arg===y)continue;return{value:V.arg,done:M.done}}else V.type==="throw"&&(K=U,M.method="throw",M.arg=V.arg)}}}function te(g,P){var M=g.iterator[P.method];if(M===m){if(P.delegate=null,P.method==="throw"){if(g.iterator.return&&(P.method="return",P.arg=m,te(g,P),P.method==="throw"))return y;P.method="throw",P.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var K=I(M,g.iterator,P.arg);if(K.type==="throw")return P.method="throw",P.arg=K.arg,P.delegate=null,y;var ne=K.arg;if(!ne)return P.method="throw",P.arg=new TypeError("iterator result is not an object"),P.delegate=null,y;if(ne.done)P[g.resultName]=ne.value,P.next=g.nextLoc,P.method!=="return"&&(P.method="next",P.arg=m);else return ne;return P.delegate=null,y}H(x),F(x,G,"Generator"),F(x,B,function(){return this}),F(x,"toString",function(){return"[object Generator]"});function ee(g){var P={tryLoc:g[0]};1 in g&&(P.catchLoc=g[1]),2 in g&&(P.finallyLoc=g[2],P.afterLoc=g[3]),this.tryEntries.push(P)}function oe(g){var P=g.completion||{};P.type="normal",delete P.arg,g.completion=P}function $(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(ee,this),this.reset(!0)}i.keys=function(g){var P=[];for(var M in g)P.push(M);return P.reverse(),function K(){for(;P.length;){var ne=P.pop();if(ne in g)return K.value=ne,K.done=!1,K}return K.done=!0,K}};function q(g){if(g){var P=g[B];if(P)return P.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length)){var M=-1,K=function ne(){for(;++M<g.length;)if(f.call(g,M))return ne.value=g[M],ne.done=!1,ne;return ne.value=m,ne.done=!0,ne};return K.next=K}}return{next:E}}i.values=q;function E(){return{value:m,done:!0}}return $.prototype={constructor:$,reset:function(P){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(oe),!P)for(var M in this)M.charAt(0)==="t"&&f.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=m)},stop:function(){this.done=!0;var P=this.tryEntries[0],M=P.completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(P){if(this.done)throw P;var M=this;function K(V,O){return Se.type="throw",Se.arg=P,M.next=V,O&&(M.method="next",M.arg=m),!!O}for(var ne=this.tryEntries.length-1;ne>=0;--ne){var Y=this.tryEntries[ne],Se=Y.completion;if(Y.tryLoc==="root")return K("end");if(Y.tryLoc<=this.prev){var ke=f.call(Y,"catchLoc"),Ee=f.call(Y,"finallyLoc");if(ke&&Ee){if(this.prev<Y.catchLoc)return K(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return K(Y.finallyLoc)}else if(ke){if(this.prev<Y.catchLoc)return K(Y.catchLoc,!0)}else if(Ee){if(this.prev<Y.finallyLoc)return K(Y.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(P,M){for(var K=this.tryEntries.length-1;K>=0;--K){var ne=this.tryEntries[K];if(ne.tryLoc<=this.prev&&f.call(ne,"finallyLoc")&&this.prev<ne.finallyLoc){var Y=ne;break}}Y&&(P==="break"||P==="continue")&&Y.tryLoc<=M&&M<=Y.finallyLoc&&(Y=null);var Se=Y?Y.completion:{};return Se.type=P,Se.arg=M,Y?(this.method="next",this.next=Y.finallyLoc,y):this.complete(Se)},complete:function(P,M){if(P.type==="throw")throw P.arg;return P.type==="break"||P.type==="continue"?this.next=P.arg:P.type==="return"?(this.rval=this.arg=P.arg,this.method="return",this.next="end"):P.type==="normal"&&M&&(this.next=M),y},finish:function(P){for(var M=this.tryEntries.length-1;M>=0;--M){var K=this.tryEntries[M];if(K.finallyLoc===P)return this.complete(K.completion,K.afterLoc),oe(K),y}},catch:function(P){for(var M=this.tryEntries.length-1;M>=0;--M){var K=this.tryEntries[M];if(K.tryLoc===P){var ne=K.completion;if(ne.type==="throw"){var Y=ne.arg;oe(K)}return Y}}throw new Error("illegal catch attempt")},delegateYield:function(P,M,K){return this.delegate={iterator:q(P),resultName:M,nextLoc:K},this.method==="next"&&(this.arg=m),y}},i}(e(u)==="object"?u.exports:{});try{regeneratorRuntime=a}catch{(typeof globalThis>"u"?"undefined":e(globalThis))==="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.VerbosityLevel=n.Util=n.UnknownErrorException=n.UnexpectedResponseException=n.UNSUPPORTED_FEATURES=n.TextRenderingMode=n.StreamType=n.RenderingIntentFlag=n.PermissionFlag=n.PasswordResponses=n.PasswordException=n.PageActionEventType=n.OPS=n.MissingPDFException=n.IsLittleEndianCached=n.IsEvalSupportedCached=n.InvalidPDFException=n.ImageKind=n.IDENTITY_MATRIX=n.FormatError=n.FontType=n.FONT_IDENTITY_MATRIX=n.DocumentActionEventType=n.CMapCompressionType=n.BaseException=n.AnnotationType=n.AnnotationStateModelType=n.AnnotationReviewState=n.AnnotationReplyType=n.AnnotationMode=n.AnnotationMarkedState=n.AnnotationFlag=n.AnnotationFieldFlag=n.AnnotationBorderStyleType=n.AnnotationActionEventType=n.AbortException=void 0,n.arrayByteLength=fe,n.arraysToBytes=_e,n.assert=ge,n.bytesToString=J,n.createObjectURL=Et,n.createPromiseCapability=At,n.createValidAbsoluteUrl=Te,n.escapeString=Ze,n.getModificationDate=qt,n.getVerbosityLevel=j,n.info=Z,n.isArrayBuffer=Ft,n.isArrayEqual=It,n.isAscii=nt,n.isBool=wt,n.isNum=Yt,n.isSameOrigin=ye,n.isString=Ot,n.objectFromMap=Ne,n.objectSize=Le,n.removeNullCharacters=ae,n.setVerbosityLevel=D,n.shadow=xe,n.string32=we,n.stringToBytes=ve,n.stringToPDFString=qe,n.stringToUTF16BEString=ot,n.stringToUTF8String=gt,n.unreachable=pe,n.utf8StringToString=vt,n.warn=ce,t(5);function e(le,Ce){for(var ue=0;ue<Ce.length;ue++){var me=Ce[ue];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(le,me.key,me)}}function a(le,Ce,ue){return ue&&e(le,ue),le}function i(le){return m(le)||f(le)||w(le)||c()}function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(le){if(typeof Symbol<"u"&&le[Symbol.iterator]!=null||le["@@iterator"]!=null)return Array.from(le)}function m(le){if(Array.isArray(le))return I(le)}function R(le,Ce){return G(le)||N(le,Ce)||w(le,Ce)||B()}function B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N(le,Ce){var ue=le==null?null:typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(ue!=null){var me=[],Ue=!0,He=!1,Xe,Ke;try{for(ue=ue.call(le);!(Ue=(Xe=ue.next()).done)&&(me.push(Xe.value),!(Ce&&me.length===Ce));Ue=!0);}catch(at){He=!0,Ke=at}finally{try{!Ue&&ue.return!=null&&ue.return()}finally{if(He)throw Ke}}return me}}function G(le){if(Array.isArray(le))return le}function F(le,Ce){var ue=typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(!ue){if(Array.isArray(le)||(ue=w(le))||Ce){ue&&(le=ue);var me=0,Ue=function(){};return{s:Ue,n:function(){return me>=le.length?{done:!0}:{done:!1,value:le[me++]}},e:function(st){throw st},f:Ue}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var He=!0,Xe=!1,Ke;return{s:function(){ue=ue.call(le)},n:function(){var st=ue.next();return He=st.done,st},e:function(st){Xe=!0,Ke=st},f:function(){try{!He&&ue.return!=null&&ue.return()}finally{if(Xe)throw Ke}}}}function w(le,Ce){if(le){if(typeof le=="string")return I(le,Ce);var ue=Object.prototype.toString.call(le).slice(8,-1);if(ue==="Object"&&le.constructor&&(ue=le.constructor.name),ue==="Map"||ue==="Set")return Array.from(le);if(ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue))return I(le,Ce)}}function I(le,Ce){(Ce==null||Ce>le.length)&&(Ce=le.length);for(var ue=0,me=new Array(Ce);ue<Ce;ue++)me[ue]=le[ue];return me}function C(le){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(ue){return typeof ue}:C=function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},C(le)}function W(le,Ce){if(!(le instanceof Ce))throw new TypeError("Cannot call a class as a function")}function k(le,Ce){if(typeof Ce!="function"&&Ce!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Ce&&U(le,Ce)}function U(le,Ce){return U=Object.setPrototypeOf||function(me,Ue){return me.__proto__=Ue,me},U(le,Ce)}function y(le){var Ce=S();return function(){var me=b(le),Ue;if(Ce){var He=b(this).constructor;Ue=Reflect.construct(me,arguments,He)}else Ue=me.apply(this,arguments);return h(this,Ue)}}function h(le,Ce){if(Ce&&(C(Ce)==="object"||typeof Ce=="function"))return Ce;if(Ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(le)}function d(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(le){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(ue){return ue.__proto__||Object.getPrototypeOf(ue)},b(le)}var v=[1,0,0,1,0,0];n.IDENTITY_MATRIX=v;var A=[.001,0,0,.001,0,0];n.FONT_IDENTITY_MATRIX=A;var x={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};n.RenderingIntentFlag=x;var H={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};n.AnnotationMode=H;var L={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};n.PermissionFlag=L;var X={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};n.TextRenderingMode=X;var te={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};n.ImageKind=te;var ee={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};n.AnnotationType=ee;var oe={MARKED:"Marked",REVIEW:"Review"};n.AnnotationStateModelType=oe;var $={MARKED:"Marked",UNMARKED:"Unmarked"};n.AnnotationMarkedState=$;var q={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};n.AnnotationReviewState=q;var E={GROUP:"Group",REPLY:"R"};n.AnnotationReplyType=E;var g={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};n.AnnotationFlag=g;var P={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};n.AnnotationFieldFlag=P;var M={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};n.AnnotationBorderStyleType=M;var K={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};n.AnnotationActionEventType=K;var ne={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};n.DocumentActionEventType=ne;var Y={O:"PageOpen",C:"PageClose"};n.PageActionEventType=Y;var Se={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};n.StreamType=Se;var ke={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};n.FontType=ke;var Ee={ERRORS:0,WARNINGS:1,INFOS:5};n.VerbosityLevel=Ee;var V={NONE:0,BINARY:1,STREAM:2};n.CMapCompressionType=V;var O={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};n.OPS=O;var p={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};n.UNSUPPORTED_FEATURES=p;var l={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};n.PasswordResponses=l;var _=Ee.WARNINGS;function D(le){Number.isInteger(le)&&(_=le)}function j(){return _}function Z(le){_>=Ee.INFOS&&console.log("Info: ".concat(le))}function ce(le){_>=Ee.WARNINGS&&console.log("Warning: ".concat(le))}function pe(le){throw new Error(le)}function ge(le,Ce){le||pe(Ce)}function ye(le,Ce){var ue;try{if(ue=new URL(le),!ue.origin||ue.origin==="null")return!1}catch{return!1}var me=new URL(Ce,ue);return ue.origin===me.origin}function Ae(le){if(!le)return!1;switch(le.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Te(le){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!le)return null;try{if(ue&&typeof le=="string"){if(ue.addDefaultProtocol&&le.startsWith("www.")){var me=le.match(/\./g);me&&me.length>=2&&(le="http://".concat(le))}if(ue.tryConvertEncoding)try{le=gt(le)}catch{}}var Ue=Ce?new URL(le,Ce):new URL(le);if(Ae(Ue))return Ue}catch{}return null}function xe(le,Ce,ue){return Object.defineProperty(le,Ce,{value:ue,enumerable:!0,configurable:!0,writable:!1}),ue}var Ie=function(){function Ce(ue,me){this.constructor===Ce&&pe("Cannot initialize BaseException."),this.message=ue,this.name=me}return Ce.prototype=new Error,Ce.constructor=Ce,Ce}();n.BaseException=Ie;var Me=function(le){k(ue,le);var Ce=y(ue);function ue(me,Ue){var He;return W(this,ue),He=Ce.call(this,me,"PasswordException"),He.code=Ue,He}return ue}(Ie);n.PasswordException=Me;var je=function(le){k(ue,le);var Ce=y(ue);function ue(me,Ue){var He;return W(this,ue),He=Ce.call(this,me,"UnknownErrorException"),He.details=Ue,He}return ue}(Ie);n.UnknownErrorException=je;var Ge=function(le){k(ue,le);var Ce=y(ue);function ue(me){return W(this,ue),Ce.call(this,me,"InvalidPDFException")}return ue}(Ie);n.InvalidPDFException=Ge;var de=function(le){k(ue,le);var Ce=y(ue);function ue(me){return W(this,ue),Ce.call(this,me,"MissingPDFException")}return ue}(Ie);n.MissingPDFException=de;var he=function(le){k(ue,le);var Ce=y(ue);function ue(me,Ue){var He;return W(this,ue),He=Ce.call(this,me,"UnexpectedResponseException"),He.status=Ue,He}return ue}(Ie);n.UnexpectedResponseException=he;var z=function(le){k(ue,le);var Ce=y(ue);function ue(me){return W(this,ue),Ce.call(this,me,"FormatError")}return ue}(Ie);n.FormatError=z;var re=function(le){k(ue,le);var Ce=y(ue);function ue(me){return W(this,ue),Ce.call(this,me,"AbortException")}return ue}(Ie);n.AbortException=re;var Q=/\x00+/g,se=/[\x01-\x1F]/g;function ae(le){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof le!="string"?(ce("The argument for removeNullCharacters must be a string."),le):(Ce&&(le=le.replace(se," ")),le.replace(Q,""))}function J(le){ge(le!==null&&C(le)==="object"&&le.length!==void 0,"Invalid argument for bytesToString");var Ce=le.length,ue=8192;if(Ce<ue)return String.fromCharCode.apply(null,le);for(var me=[],Ue=0;Ue<Ce;Ue+=ue){var He=Math.min(Ue+ue,Ce),Xe=le.subarray(Ue,He);me.push(String.fromCharCode.apply(null,Xe))}return me.join("")}function ve(le){ge(typeof le=="string","Invalid argument for stringToBytes");for(var Ce=le.length,ue=new Uint8Array(Ce),me=0;me<Ce;++me)ue[me]=le.charCodeAt(me)&255;return ue}function fe(le){return le.length!==void 0?le.length:(ge(le.byteLength!==void 0,"arrayByteLength - invalid argument."),le.byteLength)}function _e(le){var Ce=le.length;if(Ce===1&&le[0]instanceof Uint8Array)return le[0];for(var ue=0,me=0;me<Ce;me++)ue+=fe(le[me]);for(var Ue=0,He=new Uint8Array(ue),Xe=0;Xe<Ce;Xe++){var Ke=le[Xe];Ke instanceof Uint8Array||(typeof Ke=="string"?Ke=ve(Ke):Ke=new Uint8Array(Ke));var at=Ke.byteLength;He.set(Ke,Ue),Ue+=at}return He}function we(le){return String.fromCharCode(le>>24&255,le>>16&255,le>>8&255,le&255)}function Le(le){return Object.keys(le).length}function Ne(le){var Ce=Object.create(null),ue=F(le),me;try{for(ue.s();!(me=ue.n()).done;){var Ue=R(me.value,2),He=Ue[0],Xe=Ue[1];Ce[He]=Xe}}catch(Ke){ue.e(Ke)}finally{ue.f()}return Ce}function Pe(){var le=new Uint8Array(4);le[0]=1;var Ce=new Uint32Array(le.buffer,0,1);return Ce[0]===1}var ze={get value(){return xe(this,"value",Pe())}};n.IsLittleEndianCached=ze;function Oe(){try{return new Function(""),!0}catch{return!1}}var Fe={get value(){return xe(this,"value",Oe())}};n.IsEvalSupportedCached=Fe;var We=i(Array(256).keys()).map(function(le){return le.toString(16).padStart(2,"0")}),Be=function(){function le(){W(this,le)}return a(le,null,[{key:"makeHexColor",value:function(ue,me,Ue){return"#".concat(We[ue]).concat(We[me]).concat(We[Ue])}},{key:"transform",value:function(ue,me){return[ue[0]*me[0]+ue[2]*me[1],ue[1]*me[0]+ue[3]*me[1],ue[0]*me[2]+ue[2]*me[3],ue[1]*me[2]+ue[3]*me[3],ue[0]*me[4]+ue[2]*me[5]+ue[4],ue[1]*me[4]+ue[3]*me[5]+ue[5]]}},{key:"applyTransform",value:function(ue,me){var Ue=ue[0]*me[0]+ue[1]*me[2]+me[4],He=ue[0]*me[1]+ue[1]*me[3]+me[5];return[Ue,He]}},{key:"applyInverseTransform",value:function(ue,me){var Ue=me[0]*me[3]-me[1]*me[2],He=(ue[0]*me[3]-ue[1]*me[2]+me[2]*me[5]-me[4]*me[3])/Ue,Xe=(-ue[0]*me[1]+ue[1]*me[0]+me[4]*me[1]-me[5]*me[0])/Ue;return[He,Xe]}},{key:"getAxialAlignedBoundingBox",value:function(ue,me){var Ue=le.applyTransform(ue,me),He=le.applyTransform(ue.slice(2,4),me),Xe=le.applyTransform([ue[0],ue[3]],me),Ke=le.applyTransform([ue[2],ue[1]],me);return[Math.min(Ue[0],He[0],Xe[0],Ke[0]),Math.min(Ue[1],He[1],Xe[1],Ke[1]),Math.max(Ue[0],He[0],Xe[0],Ke[0]),Math.max(Ue[1],He[1],Xe[1],Ke[1])]}},{key:"inverseTransform",value:function(ue){var me=ue[0]*ue[3]-ue[1]*ue[2];return[ue[3]/me,-ue[1]/me,-ue[2]/me,ue[0]/me,(ue[2]*ue[5]-ue[4]*ue[3])/me,(ue[4]*ue[1]-ue[5]*ue[0])/me]}},{key:"apply3dTransform",value:function(ue,me){return[ue[0]*me[0]+ue[1]*me[1]+ue[2]*me[2],ue[3]*me[0]+ue[4]*me[1]+ue[5]*me[2],ue[6]*me[0]+ue[7]*me[1]+ue[8]*me[2]]}},{key:"singularValueDecompose2dScale",value:function(ue){var me=[ue[0],ue[2],ue[1],ue[3]],Ue=ue[0]*me[0]+ue[1]*me[2],He=ue[0]*me[1]+ue[1]*me[3],Xe=ue[2]*me[0]+ue[3]*me[2],Ke=ue[2]*me[1]+ue[3]*me[3],at=(Ue+Ke)/2,st=Math.sqrt(Math.pow(Ue+Ke,2)-4*(Ue*Ke-Xe*He))/2,pt=at+st||1,dt=at-st||1;return[Math.sqrt(pt),Math.sqrt(dt)]}},{key:"normalizeRect",value:function(ue){var me=ue.slice(0);return ue[0]>ue[2]&&(me[0]=ue[2],me[2]=ue[0]),ue[1]>ue[3]&&(me[1]=ue[3],me[3]=ue[1]),me}},{key:"intersect",value:function(ue,me){function Ue(at,st){return at-st}var He=[ue[0],ue[2],me[0],me[2]].sort(Ue),Xe=[ue[1],ue[3],me[1],me[3]].sort(Ue),Ke=[];if(ue=le.normalizeRect(ue),me=le.normalizeRect(me),He[0]===ue[0]&&He[1]===me[0]||He[0]===me[0]&&He[1]===ue[0])Ke[0]=He[1],Ke[2]=He[2];else return null;if(Xe[0]===ue[1]&&Xe[1]===me[1]||Xe[0]===me[1]&&Xe[1]===ue[1])Ke[1]=Xe[1],Ke[3]=Xe[2];else return null;return Ke}},{key:"bezierBoundingBox",value:function(ue,me,Ue,He,Xe,Ke,at,st){for(var pt=[],dt=[[],[]],Pt,mt,Mt,it,Gt,zt,ar,Kt,Ht=0;Ht<2;++Ht){if(Ht===0?(mt=6*ue-12*Ue+6*Xe,Pt=-3*ue+9*Ue-9*Xe+3*at,Mt=3*Ue-3*ue):(mt=6*me-12*He+6*Ke,Pt=-3*me+9*He-9*Ke+3*st,Mt=3*He-3*me),Math.abs(Pt)<1e-12){if(Math.abs(mt)<1e-12)continue;it=-Mt/mt,0<it&&it<1&&pt.push(it);continue}ar=mt*mt-4*Mt*Pt,Kt=Math.sqrt(ar),!(ar<0)&&(Gt=(-mt+Kt)/(2*Pt),0<Gt&&Gt<1&&pt.push(Gt),zt=(-mt-Kt)/(2*Pt),0<zt&&zt<1&&pt.push(zt))}for(var bt=pt.length,ct,Dt=bt;bt--;)it=pt[bt],ct=1-it,dt[0][bt]=ct*ct*ct*ue+3*ct*ct*it*Ue+3*ct*it*it*Xe+it*it*it*at,dt[1][bt]=ct*ct*ct*me+3*ct*ct*it*He+3*ct*it*it*Ke+it*it*it*st;return dt[0][Dt]=ue,dt[1][Dt]=me,dt[0][Dt+1]=at,dt[1][Dt+1]=st,dt[0].length=dt[1].length=Dt+2,[Math.min.apply(Math,i(dt[0])),Math.min.apply(Math,i(dt[1])),Math.max.apply(Math,i(dt[0])),Math.max.apply(Math,i(dt[1]))]}}]),le}();n.Util=Be;var $e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function qe(le){var Ce=le.length,ue=[];if(le[0]==="þ"&&le[1]==="ÿ")for(var me=2;me<Ce;me+=2)ue.push(String.fromCharCode(le.charCodeAt(me)<<8|le.charCodeAt(me+1)));else if(le[0]==="ÿ"&&le[1]==="þ")for(var Ue=2;Ue<Ce;Ue+=2)ue.push(String.fromCharCode(le.charCodeAt(Ue+1)<<8|le.charCodeAt(Ue)));else for(var He=0;He<Ce;++He){var Xe=$e[le.charCodeAt(He)];ue.push(Xe?String.fromCharCode(Xe):le.charAt(He))}return ue.join("")}function Ze(le){return le.replace(/([()\\\n\r])/g,function(Ce){return Ce===`
`?"\\n":Ce==="\r"?"\\r":"\\".concat(Ce)})}function nt(le){return/^[\x00-\x7F]*$/.test(le)}function ot(le){for(var Ce=["þÿ"],ue=0,me=le.length;ue<me;ue++){var Ue=le.charCodeAt(ue);Ce.push(String.fromCharCode(Ue>>8&255),String.fromCharCode(Ue&255))}return Ce.join("")}function gt(le){return decodeURIComponent(escape(le))}function vt(le){return unescape(encodeURIComponent(le))}function wt(le){return typeof le=="boolean"}function Yt(le){return typeof le=="number"}function Ot(le){return typeof le=="string"}function Ft(le){return C(le)==="object"&&le!==null&&le.byteLength!==void 0}function It(le,Ce){if(le.length!==Ce.length)return!1;for(var ue=0,me=le.length;ue<me;ue++)if(le[ue]!==Ce[ue])return!1;return!0}function qt(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date,Ce=[le.getUTCFullYear().toString(),(le.getUTCMonth()+1).toString().padStart(2,"0"),le.getUTCDate().toString().padStart(2,"0"),le.getUTCHours().toString().padStart(2,"0"),le.getUTCMinutes().toString().padStart(2,"0"),le.getUTCSeconds().toString().padStart(2,"0")];return Ce.join("")}function At(){var le=Object.create(null),Ce=!1;return Object.defineProperty(le,"settled",{get:function(){return Ce}}),le.promise=new Promise(function(ue,me){le.resolve=function(Ue){Ce=!0,ue(Ue)},le.reject=function(Ue){Ce=!0,me(Ue)}}),le}function Et(le){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!ue)return URL.createObjectURL(new Blob([le],{type:Ce}));for(var me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ue="data:".concat(Ce,";base64,"),He=0,Xe=le.length;He<Xe;He+=3){var Ke=le[He]&255,at=le[He+1]&255,st=le[He+2]&255,pt=Ke>>2,dt=(Ke&3)<<4|at>>4,Pt=He+1<Xe?(at&15)<<2|st>>6:64,mt=He+2<Xe?st&63:64;Ue+=me[pt]+me[dt]+me[Pt]+me[mt]}return Ue}},(u,n,t)=>{var e=t(6);(typeof globalThis>"u"||!globalThis._pdfjsCompatibilityChecked)&&((typeof globalThis>"u"||globalThis.Math!==Math)&&(globalThis=t(7)),globalThis._pdfjsCompatibilityChecked=!0,function(){globalThis.btoa||!e.isNodeJS||(globalThis.btoa=function(i){return Buffer.from(i,"binary").toString("base64")})}(),function(){globalThis.atob||!e.isNodeJS||(globalThis.atob=function(i){return Buffer.from(i,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!e.isNodeJS||(globalThis.DOMMatrix=t(69))}(),function(){Object.fromEntries||t(70)}(),function(){globalThis.Promise.allSettled||(globalThis.Promise=t(97))}(),function(){globalThis.ReadableStream||!e.isNodeJS||(globalThis.ReadableStream=t(134).ReadableStream)}())},(u,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isNodeJS=void 0;function t(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(c){return typeof c}:t=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t(a)}var e=(typeof process>"u"?"undefined":t(process))==="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");n.isNodeJS=e},(u,n,t)=>{t(8),u.exports=t(10)},(u,n,t)=>{var e=t(9),a=t(10);e({global:!0},{globalThis:a})},(u,n,t)=>{var e=t(10),a=t(11).f,i=t(47),c=t(50),f=t(41),m=t(57),R=t(68);u.exports=function(B,N){var G=B.target,F=B.global,w=B.stat,I,C,W,k,U,y;if(F?C=e:w?C=e[G]||f(G,{}):C=(e[G]||{}).prototype,C)for(W in N){if(U=N[W],B.noTargetGet?(y=a(C,W),k=y&&y.value):k=C[W],I=R(F?W:G+(w?".":"#")+W,B.forced),!I&&k!==void 0){if(typeof U==typeof k)continue;m(U,k)}(B.sham||k&&k.sham)&&i(U,"sham",!0),c(C,W,U,B)}}},u=>{var n=function(t){return t&&t.Math==Math&&t};u.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")()},(u,n,t)=>{var e=t(12),a=t(14),i=t(15),c=t(16),f=t(17),m=t(22),R=t(42),B=t(45),N=Object.getOwnPropertyDescriptor;n.f=e?N:function(F,w){if(F=f(F),w=m(w),B)try{return N(F,w)}catch{}if(R(F,w))return c(!a(i.f,F,w),F[w])}},(u,n,t)=>{var e=t(13);u.exports=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},u=>{u.exports=function(n){try{return!!n()}catch{return!0}}},u=>{var n=Function.prototype.call;u.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},(u,n)=>{var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,a=e&&!t.call({1:2},1);n.f=a?function(c){var f=e(this,c);return!!f&&f.enumerable}:t},u=>{u.exports=function(n,t){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:t}}},(u,n,t)=>{var e=t(18),a=t(21);u.exports=function(i){return e(a(i))}},(u,n,t)=>{var e=t(10),a=t(19),i=t(13),c=t(20),f=e.Object,m=a("".split);u.exports=i(function(){return!f("z").propertyIsEnumerable(0)})?function(R){return c(R)=="String"?m(R,""):f(R)}:f},u=>{var n=Function.prototype,t=n.bind,e=n.call,a=t&&t.bind(e);u.exports=t?function(i){return i&&a(e,i)}:function(i){return i&&function(){return e.apply(i,arguments)}}},(u,n,t)=>{var e=t(19),a=e({}.toString),i=e("".slice);u.exports=function(c){return i(a(c),8,-1)}},(u,n,t)=>{var e=t(10),a=e.TypeError;u.exports=function(i){if(i==null)throw a("Can't call method on "+i);return i}},(u,n,t)=>{var e=t(23),a=t(26);u.exports=function(i){var c=e(i,"string");return a(c)?c:c+""}},(u,n,t)=>{var e=t(10),a=t(14),i=t(24),c=t(26),f=t(33),m=t(36),R=t(37),B=e.TypeError,N=R("toPrimitive");u.exports=function(G,F){if(!i(G)||c(G))return G;var w=f(G,N),I;if(w){if(F===void 0&&(F="default"),I=a(w,G,F),!i(I)||c(I))return I;throw B("Can't convert object to primitive value")}return F===void 0&&(F="number"),m(G,F)}},(u,n,t)=>{var e=t(25);u.exports=function(a){return typeof a=="object"?a!==null:e(a)}},u=>{u.exports=function(n){return typeof n=="function"}},(u,n,t)=>{var e=t(10),a=t(27),i=t(25),c=t(28),f=t(29),m=e.Object;u.exports=f?function(R){return typeof R=="symbol"}:function(R){var B=a("Symbol");return i(B)&&c(B.prototype,m(R))}},(u,n,t)=>{var e=t(10),a=t(25),i=function(c){return a(c)?c:void 0};u.exports=function(c,f){return arguments.length<2?i(e[c]):e[c]&&e[c][f]}},(u,n,t)=>{var e=t(19);u.exports=e({}.isPrototypeOf)},(u,n,t)=>{var e=t(30);u.exports=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(u,n,t)=>{var e=t(31),a=t(13);u.exports=!!Object.getOwnPropertySymbols&&!a(function(){var i=Symbol();return!String(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&e&&e<41})},(u,n,t)=>{var e=t(10),a=t(32),i=e.process,c=e.Deno,f=i&&i.versions||c&&c.version,m=f&&f.v8,R,B;m&&(R=m.split("."),B=R[0]>0&&R[0]<4?1:+(R[0]+R[1])),!B&&a&&(R=a.match(/Edge\/(\d+)/),(!R||R[1]>=74)&&(R=a.match(/Chrome\/(\d+)/),R&&(B=+R[1]))),u.exports=B},(u,n,t)=>{var e=t(27);u.exports=e("navigator","userAgent")||""},(u,n,t)=>{var e=t(34);u.exports=function(a,i){var c=a[i];return c==null?void 0:e(c)}},(u,n,t)=>{var e=t(10),a=t(25),i=t(35),c=e.TypeError;u.exports=function(f){if(a(f))return f;throw c(i(f)+" is not a function")}},(u,n,t)=>{var e=t(10),a=e.String;u.exports=function(i){try{return a(i)}catch{return"Object"}}},(u,n,t)=>{var e=t(10),a=t(14),i=t(25),c=t(24),f=e.TypeError;u.exports=function(m,R){var B,N;if(R==="string"&&i(B=m.toString)&&!c(N=a(B,m))||i(B=m.valueOf)&&!c(N=a(B,m))||R!=="string"&&i(B=m.toString)&&!c(N=a(B,m)))return N;throw f("Can't convert object to primitive value")}},(u,n,t)=>{var e=t(10),a=t(38),i=t(42),c=t(44),f=t(30),m=t(29),R=a("wks"),B=e.Symbol,N=B&&B.for,G=m?B:B&&B.withoutSetter||c;u.exports=function(F){if(!i(R,F)||!(f||typeof R[F]=="string")){var w="Symbol."+F;f&&i(B,F)?R[F]=B[F]:m&&N?R[F]=N(w):R[F]=G(w)}return R[F]}},(u,n,t)=>{var e=t(39),a=t(40);(u.exports=function(i,c){return a[i]||(a[i]=c!==void 0?c:{})})("versions",[]).push({version:"3.19.3",mode:e?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},u=>{u.exports=!1},(u,n,t)=>{var e=t(10),a=t(41),i="__core-js_shared__",c=e[i]||a(i,{});u.exports=c},(u,n,t)=>{var e=t(10),a=Object.defineProperty;u.exports=function(i,c){try{a(e,i,{value:c,configurable:!0,writable:!0})}catch{e[i]=c}return c}},(u,n,t)=>{var e=t(19),a=t(43),i=e({}.hasOwnProperty);u.exports=Object.hasOwn||function(f,m){return i(a(f),m)}},(u,n,t)=>{var e=t(10),a=t(21),i=e.Object;u.exports=function(c){return i(a(c))}},(u,n,t)=>{var e=t(19),a=0,i=Math.random(),c=e(1 .toString);u.exports=function(f){return"Symbol("+(f===void 0?"":f)+")_"+c(++a+i,36)}},(u,n,t)=>{var e=t(12),a=t(13),i=t(46);u.exports=!e&&!a(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},(u,n,t)=>{var e=t(10),a=t(24),i=e.document,c=a(i)&&a(i.createElement);u.exports=function(f){return c?i.createElement(f):{}}},(u,n,t)=>{var e=t(12),a=t(48),i=t(16);u.exports=e?function(c,f,m){return a.f(c,f,i(1,m))}:function(c,f,m){return c[f]=m,c}},(u,n,t)=>{var e=t(10),a=t(12),i=t(45),c=t(49),f=t(22),m=e.TypeError,R=Object.defineProperty;n.f=a?R:function(N,G,F){if(c(N),G=f(G),c(F),i)try{return R(N,G,F)}catch{}if("get"in F||"set"in F)throw m("Accessors not supported");return"value"in F&&(N[G]=F.value),N}},(u,n,t)=>{var e=t(10),a=t(24),i=e.String,c=e.TypeError;u.exports=function(f){if(a(f))return f;throw c(i(f)+" is not an object")}},(u,n,t)=>{var e=t(10),a=t(25),i=t(42),c=t(47),f=t(41),m=t(51),R=t(52),B=t(56).CONFIGURABLE,N=R.get,G=R.enforce,F=String(String).split("String");(u.exports=function(w,I,C,W){var k=W?!!W.unsafe:!1,U=W?!!W.enumerable:!1,y=W?!!W.noTargetGet:!1,h=W&&W.name!==void 0?W.name:I,d;if(a(C)&&(String(h).slice(0,7)==="Symbol("&&(h="["+String(h).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(C,"name")||B&&C.name!==h)&&c(C,"name",h),d=G(C),d.source||(d.source=F.join(typeof h=="string"?h:""))),w===e){U?w[I]=C:f(I,C);return}else k?!y&&w[I]&&(U=!0):delete w[I];U?w[I]=C:c(w,I,C)})(Function.prototype,"toString",function(){return a(this)&&N(this).source||m(this)})},(u,n,t)=>{var e=t(19),a=t(25),i=t(40),c=e(Function.toString);a(i.inspectSource)||(i.inspectSource=function(f){return c(f)}),u.exports=i.inspectSource},(u,n,t)=>{var e=t(53),a=t(10),i=t(19),c=t(24),f=t(47),m=t(42),R=t(40),B=t(54),N=t(55),G="Object already initialized",F=a.TypeError,w=a.WeakMap,I,C,W,k=function(v){return W(v)?C(v):I(v,{})},U=function(v){return function(A){var x;if(!c(A)||(x=C(A)).type!==v)throw F("Incompatible receiver, "+v+" required");return x}};if(e||R.state){var y=R.state||(R.state=new w),h=i(y.get),d=i(y.has),S=i(y.set);I=function(v,A){if(d(y,v))throw new F(G);return A.facade=v,S(y,v,A),A},C=function(v){return h(y,v)||{}},W=function(v){return d(y,v)}}else{var b=B("state");N[b]=!0,I=function(v,A){if(m(v,b))throw new F(G);return A.facade=v,f(v,b,A),A},C=function(v){return m(v,b)?v[b]:{}},W=function(v){return m(v,b)}}u.exports={set:I,get:C,has:W,enforce:k,getterFor:U}},(u,n,t)=>{var e=t(10),a=t(25),i=t(51),c=e.WeakMap;u.exports=a(c)&&/native code/.test(i(c))},(u,n,t)=>{var e=t(38),a=t(44),i=e("keys");u.exports=function(c){return i[c]||(i[c]=a(c))}},u=>{u.exports={}},(u,n,t)=>{var e=t(12),a=t(42),i=Function.prototype,c=e&&Object.getOwnPropertyDescriptor,f=a(i,"name"),m=f&&(function(){}).name==="something",R=f&&(!e||e&&c(i,"name").configurable);u.exports={EXISTS:f,PROPER:m,CONFIGURABLE:R}},(u,n,t)=>{var e=t(42),a=t(58),i=t(11),c=t(48);u.exports=function(f,m){for(var R=a(m),B=c.f,N=i.f,G=0;G<R.length;G++){var F=R[G];e(f,F)||B(f,F,N(m,F))}}},(u,n,t)=>{var e=t(27),a=t(19),i=t(59),c=t(67),f=t(49),m=a([].concat);u.exports=e("Reflect","ownKeys")||function(B){var N=i.f(f(B)),G=c.f;return G?m(N,G(B)):N}},(u,n,t)=>{var e=t(60),a=t(66),i=a.concat("length","prototype");n.f=Object.getOwnPropertyNames||function(f){return e(f,i)}},(u,n,t)=>{var e=t(19),a=t(42),i=t(17),c=t(61).indexOf,f=t(55),m=e([].push);u.exports=function(R,B){var N=i(R),G=0,F=[],w;for(w in N)!a(f,w)&&a(N,w)&&m(F,w);for(;B.length>G;)a(N,w=B[G++])&&(~c(F,w)||m(F,w));return F}},(u,n,t)=>{var e=t(17),a=t(62),i=t(64),c=function(f){return function(m,R,B){var N=e(m),G=i(N),F=a(B,G),w;if(f&&R!=R){for(;G>F;)if(w=N[F++],w!=w)return!0}else for(;G>F;F++)if((f||F in N)&&N[F]===R)return f||F||0;return!f&&-1}};u.exports={includes:c(!0),indexOf:c(!1)}},(u,n,t)=>{var e=t(63),a=Math.max,i=Math.min;u.exports=function(c,f){var m=e(c);return m<0?a(m+f,0):i(m,f)}},u=>{var n=Math.ceil,t=Math.floor;u.exports=function(e){var a=+e;return a!==a||a===0?0:(a>0?t:n)(a)}},(u,n,t)=>{var e=t(65);u.exports=function(a){return e(a.length)}},(u,n,t)=>{var e=t(63),a=Math.min;u.exports=function(i){return i>0?a(e(i),9007199254740991):0}},u=>{u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(u,n)=>{n.f=Object.getOwnPropertySymbols},(u,n,t)=>{var e=t(13),a=t(25),i=/#|\.prototype\./,c=function(N,G){var F=m[f(N)];return F==B?!0:F==R?!1:a(G)?e(G):!!G},f=c.normalize=function(N){return String(N).replace(i,".").toLowerCase()},m=c.data={},R=c.NATIVE="N",B=c.POLYFILL="P";u.exports=c},(u,n,t)=>{var e,a;function i(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(m){return typeof m}:i=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},i(c)}(function(c,f){i(n)==="object"?u.exports=f():(e=f,a=typeof e=="function"?e.call(n,t,n,u):e,a!==void 0&&(u.exports=a))})(void 0,function(){function c(y){var h=new C,d=Array.from(y);if(!d.every(function(Ee){return!Number.isNaN(Ee)}))throw TypeError('CSSMatrix: "'+y+'" must only have numbers.');if(d.length===16){var S=d[0],b=d[1],v=d[2],A=d[3],x=d[4],H=d[5],L=d[6],X=d[7],te=d[8],ee=d[9],oe=d[10],$=d[11],q=d[12],E=d[13],g=d[14],P=d[15];h.m11=S,h.a=S,h.m21=x,h.c=x,h.m31=te,h.m41=q,h.e=q,h.m12=b,h.b=b,h.m22=H,h.d=H,h.m32=ee,h.m42=E,h.f=E,h.m13=v,h.m23=L,h.m33=oe,h.m43=g,h.m14=A,h.m24=X,h.m34=$,h.m44=P}else if(d.length===6){var M=d[0],K=d[1],ne=d[2],Y=d[3],Se=d[4],ke=d[5];h.m11=M,h.a=M,h.m12=K,h.b=K,h.m21=ne,h.c=ne,h.m22=Y,h.d=Y,h.m41=Se,h.e=Se,h.m42=ke,h.f=ke}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return h}function f(y){var h=Object.keys(new C);if(i(y)==="object"&&h.every(function(d){return d in y}))return c([y.m11,y.m12,y.m13,y.m14,y.m21,y.m22,y.m23,y.m24,y.m31,y.m32,y.m33,y.m34,y.m41,y.m42,y.m43,y.m44]);throw TypeError('CSSMatrix: "'+y+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function m(y){if(typeof y!="string")throw TypeError('CSSMatrix: "'+y+'" is not a string.');var h=String(y).replace(/\s/g,""),d=new C,S='CSSMatrix: invalid transform string "'+y+'"';return h.split(")").filter(function(b){return b}).forEach(function(b){var v=b.split("("),A=v[0],x=v[1];if(!x)throw TypeError(S);var H=x.split(",").map(function(Y){return Y.includes("rad")?parseFloat(Y)*(180/Math.PI):parseFloat(Y)}),L=H[0],X=H[1],te=H[2],ee=H[3],oe=[L,X,te],$=[L,X,te,ee];if(A==="perspective"&&L&&[X,te].every(function(Y){return Y===void 0}))d.m34=-1/L;else if(A.includes("matrix")&&[6,16].includes(H.length)&&H.every(function(Y){return!Number.isNaN(+Y)})){var q=H.map(function(Y){return Math.abs(Y)<1e-6?0:Y});d=d.multiply(c(q))}else if(A==="translate3d"&&oe.every(function(Y){return!Number.isNaN(+Y)}))d=d.translate(L,X,te);else if(A==="translate"&&L&&te===void 0)d=d.translate(L,X||0,0);else if(A==="rotate3d"&&$.every(function(Y){return!Number.isNaN(+Y)})&&ee)d=d.rotateAxisAngle(L,X,te,ee);else if(A==="rotate"&&L&&[X,te].every(function(Y){return Y===void 0}))d=d.rotate(0,0,L);else if(A==="scale3d"&&oe.every(function(Y){return!Number.isNaN(+Y)})&&oe.some(function(Y){return Y!==1}))d=d.scale(L,X,te);else if(A==="scale"&&!Number.isNaN(L)&&L!==1&&te===void 0){var E=Number.isNaN(+X),g=E?L:X;d=d.scale(L,g,1)}else if(A==="skew"&&L&&te===void 0)d=d.skewX(L),d=X?d.skewY(X):d;else if(/[XYZ]/.test(A)&&L&&[X,te].every(function(Y){return Y===void 0})&&["translate","rotate","scale","skew"].some(function(Y){return A.includes(Y)}))if(["skewX","skewY"].includes(A))d=d[A](L);else{var P=A.replace(/[XYZ]/,""),M=A.replace(P,""),K=["X","Y","Z"].indexOf(M),ne=[K===0?L:0,K===1?L:0,K===2?L:0];d=d[P].apply(d,ne)}else throw TypeError(S)}),d}function R(y,h,d){var S=new C;return S.m41=y,S.e=y,S.m42=h,S.f=h,S.m43=d,S}function B(y,h,d){var S=new C,b=Math.PI/180,v=y*b,A=h*b,x=d*b,H=Math.cos(v),L=-Math.sin(v),X=Math.cos(A),te=-Math.sin(A),ee=Math.cos(x),oe=-Math.sin(x),$=X*ee,q=-X*oe;S.m11=$,S.a=$,S.m12=q,S.b=q,S.m13=te;var E=L*te*ee+H*oe;S.m21=E,S.c=E;var g=H*ee-L*te*oe;return S.m22=g,S.d=g,S.m23=-L*X,S.m31=L*oe-H*te*ee,S.m32=L*ee+H*te*oe,S.m33=H*X,S}function N(y,h,d,S){var b=new C,v=S*(Math.PI/360),A=Math.sin(v),x=Math.cos(v),H=A*A,L=Math.sqrt(y*y+h*h+d*d),X=y,te=h,ee=d;L===0?(X=0,te=0,ee=1):(X/=L,te/=L,ee/=L);var oe=X*X,$=te*te,q=ee*ee,E=1-2*($+q)*H;b.m11=E,b.a=E;var g=2*(X*te*H+ee*A*x);b.m12=g,b.b=g,b.m13=2*(X*ee*H-te*A*x);var P=2*(te*X*H-ee*A*x);b.m21=P,b.c=P;var M=1-2*(q+oe)*H;return b.m22=M,b.d=M,b.m23=2*(te*ee*H+X*A*x),b.m31=2*(ee*X*H+te*A*x),b.m32=2*(ee*te*H-X*A*x),b.m33=1-2*(oe+$)*H,b}function G(y,h,d){var S=new C;return S.m11=y,S.a=y,S.m22=h,S.d=h,S.m33=d,S}function F(y){var h=new C,d=y*Math.PI/180,S=Math.tan(d);return h.m21=S,h.c=S,h}function w(y){var h=new C,d=y*Math.PI/180,S=Math.tan(d);return h.m12=S,h.b=S,h}function I(y,h){var d=h.m11*y.m11+h.m12*y.m21+h.m13*y.m31+h.m14*y.m41,S=h.m11*y.m12+h.m12*y.m22+h.m13*y.m32+h.m14*y.m42,b=h.m11*y.m13+h.m12*y.m23+h.m13*y.m33+h.m14*y.m43,v=h.m11*y.m14+h.m12*y.m24+h.m13*y.m34+h.m14*y.m44,A=h.m21*y.m11+h.m22*y.m21+h.m23*y.m31+h.m24*y.m41,x=h.m21*y.m12+h.m22*y.m22+h.m23*y.m32+h.m24*y.m42,H=h.m21*y.m13+h.m22*y.m23+h.m23*y.m33+h.m24*y.m43,L=h.m21*y.m14+h.m22*y.m24+h.m23*y.m34+h.m24*y.m44,X=h.m31*y.m11+h.m32*y.m21+h.m33*y.m31+h.m34*y.m41,te=h.m31*y.m12+h.m32*y.m22+h.m33*y.m32+h.m34*y.m42,ee=h.m31*y.m13+h.m32*y.m23+h.m33*y.m33+h.m34*y.m43,oe=h.m31*y.m14+h.m32*y.m24+h.m33*y.m34+h.m34*y.m44,$=h.m41*y.m11+h.m42*y.m21+h.m43*y.m31+h.m44*y.m41,q=h.m41*y.m12+h.m42*y.m22+h.m43*y.m32+h.m44*y.m42,E=h.m41*y.m13+h.m42*y.m23+h.m43*y.m33+h.m44*y.m43,g=h.m41*y.m14+h.m42*y.m24+h.m43*y.m34+h.m44*y.m44;return c([d,S,b,v,A,x,H,L,X,te,ee,oe,$,q,E,g])}var C=function(){for(var h=[],d=arguments.length;d--;)h[d]=arguments[d];var S=this;if(S.a=1,S.b=0,S.c=0,S.d=1,S.e=0,S.f=0,S.m11=1,S.m12=0,S.m13=0,S.m14=0,S.m21=0,S.m22=1,S.m23=0,S.m24=0,S.m31=0,S.m32=0,S.m33=1,S.m34=0,S.m41=0,S.m42=0,S.m43=0,S.m44=1,h&&h.length){var b=[16,6].some(function(v){return v===h.length})?h:h[0];return S.setMatrixValue(b)}return S},W={isIdentity:{configurable:!0},is2D:{configurable:!0}};W.isIdentity.set=function(y){this.isIdentity=y},W.isIdentity.get=function(){var y=this;return y.m11===1&&y.m12===0&&y.m13===0&&y.m14===0&&y.m21===0&&y.m22===1&&y.m23===0&&y.m24===0&&y.m31===0&&y.m32===0&&y.m33===1&&y.m34===0&&y.m41===0&&y.m42===0&&y.m43===0&&y.m44===1},W.is2D.get=function(){var y=this;return y.m31===0&&y.m32===0&&y.m33===1&&y.m34===0&&y.m43===0&&y.m44===1},W.is2D.set=function(y){this.is2D=y},C.prototype.setMatrixValue=function(h){var d=this;return[Array,Float64Array,Float32Array].some(function(S){return h instanceof S})?c(h):typeof h=="string"&&h.length&&h!=="none"?m(h):i(h)==="object"?f(h):d},C.prototype.toArray=function(){var h=this,d=Math.pow(10,6),S;return h.is2D?S=[h.a,h.b,h.c,h.d,h.e,h.f]:S=[h.m11,h.m12,h.m13,h.m14,h.m21,h.m22,h.m23,h.m24,h.m31,h.m32,h.m33,h.m34,h.m41,h.m42,h.m43,h.m44],S.map(function(b){return Math.abs(b)<1e-6?0:(b*d>>0)/d})},C.prototype.toString=function(){var h=this,d=h.toArray(),S=h.is2D?"matrix":"matrix3d";return S+"("+d+")"},C.prototype.toJSON=function(){var h=this,d=h.is2D,S=h.isIdentity;return Object.assign({},h,{is2D:d,isIdentity:S})},C.prototype.multiply=function(h){return I(this,h)},C.prototype.translate=function(h,d,S){var b=h,v=d,A=S;return A===void 0&&(A=0),v===void 0&&(v=0),I(this,R(b,v,A))},C.prototype.scale=function(h,d,S){var b=h,v=d,A=S;return v===void 0&&(v=h),A===void 0&&(A=1),I(this,G(b,v,A))},C.prototype.rotate=function(h,d,S){var b=h,v=d,A=S;return v===void 0&&(v=0),A===void 0&&(A=b,b=0),I(this,B(b,v,A))},C.prototype.rotateAxisAngle=function(h,d,S,b){if([h,d,S,b].some(function(v){return Number.isNaN(v)}))throw new TypeError("CSSMatrix: expecting 4 values");return I(this,N(h,d,S,b))},C.prototype.skewX=function(h){return I(this,F(h))},C.prototype.skewY=function(h){return I(this,w(h))},C.prototype.transformPoint=function(h){var d=this,S=R(h.x,h.y,h.z);return S.m44=h.w||1,S=d.multiply(S),{x:S.m41,y:S.m42,z:S.m43,w:S.m44}},C.prototype.transform=function(h){var d=this,S=d.m11*h.x+d.m12*h.y+d.m13*h.z+d.m14*h.w,b=d.m21*h.x+d.m22*h.y+d.m23*h.z+d.m24*h.w,v=d.m31*h.x+d.m32*h.y+d.m33*h.z+d.m34*h.w,A=d.m41*h.x+d.m42*h.y+d.m43*h.z+d.m44*h.w;return{x:S/A,y:b/A,z:v/A,w:A}},Object.defineProperties(C.prototype,W),Object.assign(C,{Translate:R,Rotate:B,RotateAxisAngle:N,Scale:G,SkewX:F,SkewY:w,Multiply:I,fromArray:c,fromMatrix:f,fromString:m});var k="0.0.24",U=k;return Object.assign(C,{Version:U}),C})},(u,n,t)=>{t(71),t(86);var e=t(96);u.exports=e.Object.fromEntries},(u,n,t)=>{var e=t(17),a=t(72),i=t(77),c=t(52),f=t(78),m="Array Iterator",R=c.set,B=c.getterFor(m);u.exports=f(Array,"Array",function(N,G){R(this,{type:m,target:e(N),index:0,kind:G})},function(){var N=B(this),G=N.target,F=N.kind,w=N.index++;return!G||w>=G.length?(N.target=void 0,{value:void 0,done:!0}):F=="keys"?{value:w,done:!1}:F=="values"?{value:G[w],done:!1}:{value:[w,G[w]],done:!1}},"values"),i.Arguments=i.Array,a("keys"),a("values"),a("entries")},(u,n,t)=>{var e=t(37),a=t(73),i=t(48),c=e("unscopables"),f=Array.prototype;f[c]==null&&i.f(f,c,{configurable:!0,value:a(null)}),u.exports=function(m){f[c][m]=!0}},(u,n,t)=>{var e=t(49),a=t(74),i=t(66),c=t(55),f=t(76),m=t(46),R=t(54),B=">",N="<",G="prototype",F="script",w=R("IE_PROTO"),I=function(){},C=function(h){return N+F+B+h+N+"/"+F+B},W=function(h){h.write(C("")),h.close();var d=h.parentWindow.Object;return h=null,d},k=function(){var h=m("iframe"),d="java"+F+":",S;return h.style.display="none",f.appendChild(h),h.src=String(d),S=h.contentWindow.document,S.open(),S.write(C("document.F=Object")),S.close(),S.F},U,y=function(){try{U=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&U?W(U):k():W(U);for(var h=i.length;h--;)delete y[G][i[h]];return y()};c[w]=!0,u.exports=Object.create||function(d,S){var b;return d!==null?(I[G]=e(d),b=new I,I[G]=null,b[w]=d):b=y(),S===void 0?b:a(b,S)}},(u,n,t)=>{var e=t(12),a=t(48),i=t(49),c=t(17),f=t(75);u.exports=e?Object.defineProperties:function(R,B){i(R);for(var N=c(B),G=f(B),F=G.length,w=0,I;F>w;)a.f(R,I=G[w++],N[I]);return R}},(u,n,t)=>{var e=t(60),a=t(66);u.exports=Object.keys||function(c){return e(c,a)}},(u,n,t)=>{var e=t(27);u.exports=e("document","documentElement")},u=>{u.exports={}},(u,n,t)=>{var e=t(9),a=t(14),i=t(39),c=t(56),f=t(25),m=t(79),R=t(81),B=t(84),N=t(83),G=t(47),F=t(50),w=t(37),I=t(77),C=t(80),W=c.PROPER,k=c.CONFIGURABLE,U=C.IteratorPrototype,y=C.BUGGY_SAFARI_ITERATORS,h=w("iterator"),d="keys",S="values",b="entries",v=function(){return this};u.exports=function(A,x,H,L,X,te,ee){m(H,x,L);var oe=function(Se){if(Se===X&&P)return P;if(!y&&Se in E)return E[Se];switch(Se){case d:return function(){return new H(this,Se)};case S:return function(){return new H(this,Se)};case b:return function(){return new H(this,Se)}}return function(){return new H(this)}},$=x+" Iterator",q=!1,E=A.prototype,g=E[h]||E["@@iterator"]||X&&E[X],P=!y&&g||oe(X),M=x=="Array"&&E.entries||g,K,ne,Y;if(M&&(K=R(M.call(new A)),K!==Object.prototype&&K.next&&(!i&&R(K)!==U&&(B?B(K,U):f(K[h])||F(K,h,v)),N(K,$,!0,!0),i&&(I[$]=v))),W&&X==S&&g&&g.name!==S&&(!i&&k?G(E,"name",S):(q=!0,P=function(){return a(g,this)})),X)if(ne={values:oe(S),keys:te?P:oe(d),entries:oe(b)},ee)for(Y in ne)(y||q||!(Y in E))&&F(E,Y,ne[Y]);else e({target:x,proto:!0,forced:y||q},ne);return(!i||ee)&&E[h]!==P&&F(E,h,P,{name:X}),I[x]=P,ne}},(u,n,t)=>{var e=t(80).IteratorPrototype,a=t(73),i=t(16),c=t(83),f=t(77),m=function(){return this};u.exports=function(R,B,N,G){var F=B+" Iterator";return R.prototype=a(e,{next:i(+!G,N)}),c(R,F,!1,!0),f[F]=m,R}},(u,n,t)=>{var e=t(13),a=t(25),i=t(73),c=t(81),f=t(50),m=t(37),R=t(39),B=m("iterator"),N=!1,G,F,w;[].keys&&(w=[].keys(),"next"in w?(F=c(c(w)),F!==Object.prototype&&(G=F)):N=!0);var I=G==null||e(function(){var C={};return G[B].call(C)!==C});I?G={}:R&&(G=i(G)),a(G[B])||f(G,B,function(){return this}),u.exports={IteratorPrototype:G,BUGGY_SAFARI_ITERATORS:N}},(u,n,t)=>{var e=t(10),a=t(42),i=t(25),c=t(43),f=t(54),m=t(82),R=f("IE_PROTO"),B=e.Object,N=B.prototype;u.exports=m?B.getPrototypeOf:function(G){var F=c(G);if(a(F,R))return F[R];var w=F.constructor;return i(w)&&F instanceof w?w.prototype:F instanceof B?N:null}},(u,n,t)=>{var e=t(13);u.exports=!e(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},(u,n,t)=>{var e=t(48).f,a=t(42),i=t(37),c=i("toStringTag");u.exports=function(f,m,R){f&&!a(f=R?f:f.prototype,c)&&e(f,c,{configurable:!0,value:m})}},(u,n,t)=>{var e=t(19),a=t(49),i=t(85);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,f={},m;try{m=e(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),m(f,[]),c=f instanceof Array}catch{}return function(B,N){return a(B),i(N),c?m(B,N):B.__proto__=N,B}}():void 0)},(u,n,t)=>{var e=t(10),a=t(25),i=e.String,c=e.TypeError;u.exports=function(f){if(typeof f=="object"||a(f))return f;throw c("Can't set "+i(f)+" as a prototype")}},(u,n,t)=>{var e=t(9),a=t(87),i=t(95);e({target:"Object",stat:!0},{fromEntries:function(f){var m={};return a(f,function(R,B){i(m,R,B)},{AS_ENTRIES:!0}),m}})},(u,n,t)=>{var e=t(10),a=t(88),i=t(14),c=t(49),f=t(35),m=t(89),R=t(64),B=t(28),N=t(90),G=t(91),F=t(94),w=e.TypeError,I=function(W,k){this.stopped=W,this.result=k},C=I.prototype;u.exports=function(W,k,U){var y=U&&U.that,h=!!(U&&U.AS_ENTRIES),d=!!(U&&U.IS_ITERATOR),S=!!(U&&U.INTERRUPTED),b=a(k,y),v,A,x,H,L,X,te,ee=function($){return v&&F(v,"normal",$),new I(!0,$)},oe=function($){return h?(c($),S?b($[0],$[1],ee):b($[0],$[1])):S?b($,ee):b($)};if(d)v=W;else{if(A=G(W),!A)throw w(f(W)+" is not iterable");if(m(A)){for(x=0,H=R(W);H>x;x++)if(L=oe(W[x]),L&&B(C,L))return L;return new I(!1)}v=N(W,A)}for(X=v.next;!(te=i(X,v)).done;){try{L=oe(te.value)}catch($){F(v,"throw",$)}if(typeof L=="object"&&L&&B(C,L))return L}return new I(!1)}},(u,n,t)=>{var e=t(19),a=t(34),i=e(e.bind);u.exports=function(c,f){return a(c),f===void 0?c:i?i(c,f):function(){return c.apply(f,arguments)}}},(u,n,t)=>{var e=t(37),a=t(77),i=e("iterator"),c=Array.prototype;u.exports=function(f){return f!==void 0&&(a.Array===f||c[i]===f)}},(u,n,t)=>{var e=t(10),a=t(14),i=t(34),c=t(49),f=t(35),m=t(91),R=e.TypeError;u.exports=function(B,N){var G=arguments.length<2?m(B):N;if(i(G))return c(a(G,B));throw R(f(B)+" is not iterable")}},(u,n,t)=>{var e=t(92),a=t(33),i=t(77),c=t(37),f=c("iterator");u.exports=function(m){if(m!=null)return a(m,f)||a(m,"@@iterator")||i[e(m)]}},(u,n,t)=>{var e=t(10),a=t(93),i=t(25),c=t(20),f=t(37),m=f("toStringTag"),R=e.Object,B=c(function(){return arguments}())=="Arguments",N=function(G,F){try{return G[F]}catch{}};u.exports=a?c:function(G){var F,w,I;return G===void 0?"Undefined":G===null?"Null":typeof(w=N(F=R(G),m))=="string"?w:B?c(F):(I=c(F))=="Object"&&i(F.callee)?"Arguments":I}},(u,n,t)=>{var e=t(37),a=e("toStringTag"),i={};i[a]="z",u.exports=String(i)==="[object z]"},(u,n,t)=>{var e=t(14),a=t(49),i=t(33);u.exports=function(c,f,m){var R,B;a(c);try{if(R=i(c,"return"),!R){if(f==="throw")throw m;return m}R=e(R,c)}catch(N){B=!0,R=N}if(f==="throw")throw m;if(B)throw R;return a(R),m}},(u,n,t)=>{var e=t(22),a=t(48),i=t(16);u.exports=function(c,f,m){var R=e(f);R in c?a.f(c,R,i(0,m)):c[R]=m}},(u,n,t)=>{var e=t(10);u.exports=e},(u,n,t)=>{t(98),t(71),t(105),t(107),t(129),t(130),t(131),t(132);var e=t(96);u.exports=e.Promise},(u,n,t)=>{var e=t(9),a=t(10),i=t(28),c=t(81),f=t(84),m=t(57),R=t(73),B=t(47),N=t(16),G=t(99),F=t(101),w=t(87),I=t(102),C=t(37),W=t(104),k=C("toStringTag"),U=a.Error,y=[].push,h=function(b,v){var A=arguments.length>2?arguments[2]:void 0,x=i(d,this),H;f?H=f(new U(void 0),x?c(this):d):(H=x?this:R(d),B(H,k,"Error")),B(H,"message",I(v,"")),W&&B(H,"stack",G(H.stack,1)),F(H,A);var L=[];return w(b,y,{that:L}),B(H,"errors",L),H};f?f(h,U):m(h,U);var d=h.prototype=R(U.prototype,{constructor:N(1,h),message:N(1,""),name:N(1,"AggregateError")});e({global:!0},{AggregateError:h})},(u,n,t)=>{var e=t(19),a=t(100),i=e("".replace),c=e("".split),f=e([].join),m=function(G){return String(Error(G).stack)}("zxcasd"),R=/\n\s*at [^:]*:[^\n]*/,B=R.test(m),N=/@[^\n]*\n/.test(m)&&!/zxcasd/.test(m);u.exports=function(G,F){if(typeof G!="string")return G;if(B)for(;F--;)G=i(G,R,"");else if(N)return f(a(c(G,`
`),F),`
`);return G}},(u,n,t)=>{var e=t(10),a=t(62),i=t(64),c=t(95),f=e.Array,m=Math.max;u.exports=function(R,B,N){for(var G=i(R),F=a(B,G),w=a(N===void 0?G:N,G),I=f(m(w-F,0)),C=0;F<w;F++,C++)c(I,C,R[F]);return I.length=C,I}},(u,n,t)=>{var e=t(24),a=t(47);u.exports=function(i,c){e(c)&&"cause"in c&&a(i,"cause",c.cause)}},(u,n,t)=>{var e=t(103);u.exports=function(a,i){return a===void 0?arguments.length<2?"":i:e(a)}},(u,n,t)=>{var e=t(10),a=t(92),i=e.String;u.exports=function(c){if(a(c)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return i(c)}},(u,n,t)=>{var e=t(13),a=t(16);u.exports=!e(function(){var i=Error("a");return"stack"in i?(Object.defineProperty(i,"stack",a(1,7)),i.stack!==7):!0})},(u,n,t)=>{var e=t(93),a=t(50),i=t(106);e||a(Object.prototype,"toString",i,{unsafe:!0})},(u,n,t)=>{var e=t(93),a=t(92);u.exports=e?{}.toString:function(){return"[object "+a(this)+"]"}},(u,n,t)=>{var e=t(9),a=t(39),i=t(10),c=t(27),f=t(14),m=t(108),R=t(50),B=t(109),N=t(84),G=t(83),F=t(110),w=t(34),I=t(25),C=t(24),W=t(111),k=t(51),U=t(87),y=t(112),h=t(113),d=t(116).set,S=t(121),b=t(124),v=t(126),A=t(125),x=t(127),H=t(52),L=t(68),X=t(37),te=t(128),ee=t(120),oe=t(31),$=X("species"),q="Promise",E=H.getterFor(q),g=H.set,P=H.getterFor(q),M=m&&m.prototype,K=m,ne=M,Y=i.TypeError,Se=i.document,ke=i.process,Ee=A.f,V=Ee,O=!!(Se&&Se.createEvent&&i.dispatchEvent),p=I(i.PromiseRejectionEvent),l="unhandledrejection",_="rejectionhandled",D=0,j=1,Z=2,ce=1,pe=2,ge=!1,ye,Ae,Te,xe,Ie=L(q,function(){var J=k(K),ve=J!==String(K);if(!ve&&oe===66||a&&!ne.finally)return!0;if(oe>=51&&/native code/.test(J))return!1;var fe=new K(function(Le){Le(1)}),_e=function(Le){Le(function(){},function(){})},we=fe.constructor={};return we[$]=_e,ge=fe.then(function(){})instanceof _e,ge?!ve&&te&&!p:!0}),Me=Ie||!y(function(J){K.all(J).catch(function(){})}),je=function(J){var ve;return C(J)&&I(ve=J.then)?ve:!1},Ge=function(J,ve){if(!J.notified){J.notified=!0;var fe=J.reactions;S(function(){for(var _e=J.value,we=J.state==j,Le=0;fe.length>Le;){var Ne=fe[Le++],Pe=we?Ne.ok:Ne.fail,ze=Ne.resolve,Oe=Ne.reject,Fe=Ne.domain,We,Be,$e;try{Pe?(we||(J.rejection===pe&&re(J),J.rejection=ce),Pe===!0?We=_e:(Fe&&Fe.enter(),We=Pe(_e),Fe&&(Fe.exit(),$e=!0)),We===Ne.promise?Oe(Y("Promise-chain cycle")):(Be=je(We))?f(Be,We,ze,Oe):ze(We)):Oe(_e)}catch(qe){Fe&&!$e&&Fe.exit(),Oe(qe)}}J.reactions=[],J.notified=!1,ve&&!J.rejection&&he(J)})}},de=function(J,ve,fe){var _e,we;O?(_e=Se.createEvent("Event"),_e.promise=ve,_e.reason=fe,_e.initEvent(J,!1,!0),i.dispatchEvent(_e)):_e={promise:ve,reason:fe},!p&&(we=i["on"+J])?we(_e):J===l&&v("Unhandled promise rejection",fe)},he=function(J){f(d,i,function(){var ve=J.facade,fe=J.value,_e=z(J),we;if(_e&&(we=x(function(){ee?ke.emit("unhandledRejection",fe,ve):de(l,ve,fe)}),J.rejection=ee||z(J)?pe:ce,we.error))throw we.value})},z=function(J){return J.rejection!==ce&&!J.parent},re=function(J){f(d,i,function(){var ve=J.facade;ee?ke.emit("rejectionHandled",ve):de(_,ve,J.value)})},Q=function(J,ve,fe){return function(_e){J(ve,_e,fe)}},se=function(J,ve,fe){J.done||(J.done=!0,fe&&(J=fe),J.value=ve,J.state=Z,Ge(J,!0))},ae=function(J,ve,fe){if(!J.done){J.done=!0,fe&&(J=fe);try{if(J.facade===ve)throw Y("Promise can't be resolved itself");var _e=je(ve);_e?S(function(){var we={done:!1};try{f(_e,ve,Q(ae,we,J),Q(se,we,J))}catch(Le){se(we,Le,J)}}):(J.value=ve,J.state=j,Ge(J,!1))}catch(we){se({done:!1},we,J)}}};if(Ie&&(K=function(ve){W(this,ne),w(ve),f(ye,this);var fe=E(this);try{ve(Q(ae,fe),Q(se,fe))}catch(_e){se(fe,_e)}},ne=K.prototype,ye=function(ve){g(this,{type:q,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:D,value:void 0})},ye.prototype=B(ne,{then:function(ve,fe){var _e=P(this),we=_e.reactions,Le=Ee(h(this,K));return Le.ok=I(ve)?ve:!0,Le.fail=I(fe)&&fe,Le.domain=ee?ke.domain:void 0,_e.parent=!0,we[we.length]=Le,_e.state!=D&&Ge(_e,!1),Le.promise},catch:function(J){return this.then(void 0,J)}}),Ae=function(){var J=new ye,ve=E(J);this.promise=J,this.resolve=Q(ae,ve),this.reject=Q(se,ve)},A.f=Ee=function(J){return J===K||J===Te?new Ae(J):V(J)},!a&&I(m)&&M!==Object.prototype)){xe=M.then,ge||(R(M,"then",function(ve,fe){var _e=this;return new K(function(we,Le){f(xe,_e,we,Le)}).then(ve,fe)},{unsafe:!0}),R(M,"catch",ne.catch,{unsafe:!0}));try{delete M.constructor}catch{}N&&N(M,ne)}e({global:!0,wrap:!0,forced:Ie},{Promise:K}),G(K,q,!1,!0),F(q),Te=c(q),e({target:q,stat:!0,forced:Ie},{reject:function(ve){var fe=Ee(this);return f(fe.reject,void 0,ve),fe.promise}}),e({target:q,stat:!0,forced:a||Ie},{resolve:function(ve){return b(a&&this===Te?K:this,ve)}}),e({target:q,stat:!0,forced:Me},{all:function(ve){var fe=this,_e=Ee(fe),we=_e.resolve,Le=_e.reject,Ne=x(function(){var Pe=w(fe.resolve),ze=[],Oe=0,Fe=1;U(ve,function(We){var Be=Oe++,$e=!1;Fe++,f(Pe,fe,We).then(function(qe){$e||($e=!0,ze[Be]=qe,--Fe||we(ze))},Le)}),--Fe||we(ze)});return Ne.error&&Le(Ne.value),_e.promise},race:function(ve){var fe=this,_e=Ee(fe),we=_e.reject,Le=x(function(){var Ne=w(fe.resolve);U(ve,function(Pe){f(Ne,fe,Pe).then(_e.resolve,we)})});return Le.error&&we(Le.value),_e.promise}})},(u,n,t)=>{var e=t(10);u.exports=e.Promise},(u,n,t)=>{var e=t(50);u.exports=function(a,i,c){for(var f in i)e(a,f,i[f],c);return a}},(u,n,t)=>{var e=t(27),a=t(48),i=t(37),c=t(12),f=i("species");u.exports=function(m){var R=e(m),B=a.f;c&&R&&!R[f]&&B(R,f,{configurable:!0,get:function(){return this}})}},(u,n,t)=>{var e=t(10),a=t(28),i=e.TypeError;u.exports=function(c,f){if(a(f,c))return c;throw i("Incorrect invocation")}},(u,n,t)=>{var e=t(37),a=e("iterator"),i=!1;try{var c=0,f={next:function(){return{done:!!c++}},return:function(){i=!0}};f[a]=function(){return this},Array.from(f,function(){throw 2})}catch{}u.exports=function(m,R){if(!R&&!i)return!1;var B=!1;try{var N={};N[a]=function(){return{next:function(){return{done:B=!0}}}},m(N)}catch{}return B}},(u,n,t)=>{var e=t(49),a=t(114),i=t(37),c=i("species");u.exports=function(f,m){var R=e(f).constructor,B;return R===void 0||(B=e(R)[c])==null?m:a(B)}},(u,n,t)=>{var e=t(10),a=t(115),i=t(35),c=e.TypeError;u.exports=function(f){if(a(f))return f;throw c(i(f)+" is not a constructor")}},(u,n,t)=>{var e=t(19),a=t(13),i=t(25),c=t(92),f=t(27),m=t(51),R=function(){},B=[],N=f("Reflect","construct"),G=/^\s*(?:class|function)\b/,F=e(G.exec),w=!G.exec(R),I=function(W){if(!i(W))return!1;try{return N(R,B,W),!0}catch{return!1}},C=function(W){if(!i(W))return!1;switch(c(W)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return w||!!F(G,m(W))};u.exports=!N||a(function(){var W;return I(I.call)||!I(Object)||!I(function(){W=!0})||W})?C:I},(u,n,t)=>{var e=t(10),a=t(117),i=t(88),c=t(25),f=t(42),m=t(13),R=t(76),B=t(118),N=t(46),G=t(119),F=t(120),w=e.setImmediate,I=e.clearImmediate,C=e.process,W=e.Dispatch,k=e.Function,U=e.MessageChannel,y=e.String,h=0,d={},S="onreadystatechange",b,v,A,x;try{b=e.location}catch{}var H=function(ee){if(f(d,ee)){var oe=d[ee];delete d[ee],oe()}},L=function(ee){return function(){H(ee)}},X=function(ee){H(ee.data)},te=function(ee){e.postMessage(y(ee),b.protocol+"//"+b.host)};(!w||!I)&&(w=function(oe){var $=B(arguments,1);return d[++h]=function(){a(c(oe)?oe:k(oe),void 0,$)},v(h),h},I=function(oe){delete d[oe]},F?v=function(ee){C.nextTick(L(ee))}:W&&W.now?v=function(ee){W.now(L(ee))}:U&&!G?(A=new U,x=A.port2,A.port1.onmessage=X,v=i(x.postMessage,x)):e.addEventListener&&c(e.postMessage)&&!e.importScripts&&b&&b.protocol!=="file:"&&!m(te)?(v=te,e.addEventListener("message",X,!1)):S in N("script")?v=function(ee){R.appendChild(N("script"))[S]=function(){R.removeChild(this),H(ee)}}:v=function(ee){setTimeout(L(ee),0)}),u.exports={set:w,clear:I}},u=>{var n=Function.prototype,t=n.apply,e=n.bind,a=n.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(e?a.bind(t):function(){return a.apply(t,arguments)})},(u,n,t)=>{var e=t(19);u.exports=e([].slice)},(u,n,t)=>{var e=t(32);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(e)},(u,n,t)=>{var e=t(20),a=t(10);u.exports=e(a.process)=="process"},(u,n,t)=>{var e=t(10),a=t(88),i=t(11).f,c=t(116).set,f=t(119),m=t(122),R=t(123),B=t(120),N=e.MutationObserver||e.WebKitMutationObserver,G=e.document,F=e.process,w=e.Promise,I=i(e,"queueMicrotask"),C=I&&I.value,W,k,U,y,h,d,S,b;C||(W=function(){var v,A;for(B&&(v=F.domain)&&v.exit();k;){A=k.fn,k=k.next;try{A()}catch(x){throw k?y():U=void 0,x}}U=void 0,v&&v.enter()},!f&&!B&&!R&&N&&G?(h=!0,d=G.createTextNode(""),new N(W).observe(d,{characterData:!0}),y=function(){d.data=h=!h}):!m&&w&&w.resolve?(S=w.resolve(void 0),S.constructor=w,b=a(S.then,S),y=function(){b(W)}):B?y=function(){F.nextTick(W)}:(c=a(c,e),y=function(){c(W)})),u.exports=C||function(v){var A={fn:v,next:void 0};U&&(U.next=A),k||(k=A,y()),U=A}},(u,n,t)=>{var e=t(32),a=t(10);u.exports=/ipad|iphone|ipod/i.test(e)&&a.Pebble!==void 0},(u,n,t)=>{var e=t(32);u.exports=/web0s(?!.*chrome)/i.test(e)},(u,n,t)=>{var e=t(49),a=t(24),i=t(125);u.exports=function(c,f){if(e(c),a(f)&&f.constructor===c)return f;var m=i.f(c),R=m.resolve;return R(f),m.promise}},(u,n,t)=>{var e=t(34),a=function(i){var c,f;this.promise=new i(function(m,R){if(c!==void 0||f!==void 0)throw TypeError("Bad Promise constructor");c=m,f=R}),this.resolve=e(c),this.reject=e(f)};u.exports.f=function(i){return new a(i)}},(u,n,t)=>{var e=t(10);u.exports=function(a,i){var c=e.console;c&&c.error&&(arguments.length==1?c.error(a):c.error(a,i))}},u=>{u.exports=function(n){try{return{error:!1,value:n()}}catch(t){return{error:!0,value:t}}}},u=>{u.exports=typeof window=="object"},(u,n,t)=>{var e=t(9),a=t(14),i=t(34),c=t(125),f=t(127),m=t(87);e({target:"Promise",stat:!0},{allSettled:function(B){var N=this,G=c.f(N),F=G.resolve,w=G.reject,I=f(function(){var C=i(N.resolve),W=[],k=0,U=1;m(B,function(y){var h=k++,d=!1;U++,a(C,N,y).then(function(S){d||(d=!0,W[h]={status:"fulfilled",value:S},--U||F(W))},function(S){d||(d=!0,W[h]={status:"rejected",reason:S},--U||F(W))})}),--U||F(W)});return I.error&&w(I.value),G.promise}})},(u,n,t)=>{var e=t(9),a=t(34),i=t(27),c=t(14),f=t(125),m=t(127),R=t(87),B="No one promise resolved";e({target:"Promise",stat:!0},{any:function(G){var F=this,w=i("AggregateError"),I=f.f(F),C=I.resolve,W=I.reject,k=m(function(){var U=a(F.resolve),y=[],h=0,d=1,S=!1;R(G,function(b){var v=h++,A=!1;d++,c(U,F,b).then(function(x){A||S||(S=!0,C(x))},function(x){A||S||(A=!0,y[v]=x,--d||W(new w(y,B)))})}),--d||W(new w(y,B))});return k.error&&W(k.value),I.promise}})},(u,n,t)=>{var e=t(9),a=t(39),i=t(108),c=t(13),f=t(27),m=t(25),R=t(113),B=t(124),N=t(50),G=!!i&&c(function(){i.prototype.finally.call({then:function(){}},function(){})});if(e({target:"Promise",proto:!0,real:!0,forced:G},{finally:function(w){var I=R(this,f("Promise")),C=m(w);return this.then(C?function(W){return B(I,w()).then(function(){return W})}:w,C?function(W){return B(I,w()).then(function(){throw W})}:w)}}),!a&&m(i)){var F=f("Promise").prototype.finally;i.prototype.finally!==F&&N(i.prototype,"finally",F,{unsafe:!0})}},(u,n,t)=>{var e=t(133).charAt,a=t(103),i=t(52),c=t(78),f="String Iterator",m=i.set,R=i.getterFor(f);c(String,"String",function(B){m(this,{type:f,string:a(B),index:0})},function(){var N=R(this),G=N.string,F=N.index,w;return F>=G.length?{value:void 0,done:!0}:(w=e(G,F),N.index+=w.length,{value:w,done:!1})})},(u,n,t)=>{var e=t(19),a=t(63),i=t(103),c=t(21),f=e("".charAt),m=e("".charCodeAt),R=e("".slice),B=function(N){return function(G,F){var w=i(c(G)),I=a(F),C=w.length,W,k;return I<0||I>=C?N?"":void 0:(W=m(w,I),W<55296||W>56319||I+1===C||(k=m(w,I+1))<56320||k>57343?N?f(w,I):W:N?R(w,I,I+2):(W-55296<<10)+(k-56320)+65536)}};u.exports={codeAt:B(!1),charAt:B(!0)}},function(u,n){(function(t,e){e(n)})(this,function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(r){return"Symbol("+r+")"};function a(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal<"u")return commonjsGlobal}var c=i();function f(r){return typeof r=="object"&&r!==null||typeof r=="function"}var m=a,R=Promise,B=Promise.prototype.then,N=Promise.resolve.bind(R),G=Promise.reject.bind(R);function F(r){return new R(r)}function w(r){return N(r)}function I(r){return G(r)}function C(r,o,T){return B.call(r,o,T)}function W(r,o,T){C(C(r,o,T),void 0,m)}function k(r,o){W(r,o)}function U(r,o){W(r,void 0,o)}function y(r,o,T){return C(r,o,T)}function h(r){C(r,void 0,m)}var d=function(){var r=c&&c.queueMicrotask;if(typeof r=="function")return r;var o=w(void 0);return function(T){return C(o,T)}}();function S(r,o,T){if(typeof r!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(r,o,T)}function b(r,o,T){try{return w(S(r,o,T))}catch(ie){return I(ie)}}var v=16384,A=function(){function r(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(r.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),r.prototype.push=function(o){var T=this._back,ie=T;T._elements.length===v-1&&(ie={_elements:[],_next:void 0}),T._elements.push(o),ie!==T&&(this._back=ie,T._next=ie),++this._size},r.prototype.shift=function(){var o=this._front,T=o,ie=this._cursor,be=ie+1,Re=o._elements,De=Re[ie];return be===v&&(T=o._next,be=0),--this._size,this._cursor=be,o!==T&&(this._front=T),Re[ie]=void 0,De},r.prototype.forEach=function(o){for(var T=this._cursor,ie=this._front,be=ie._elements;(T!==be.length||ie._next!==void 0)&&!(T===be.length&&(ie=ie._next,be=ie._elements,T=0,be.length===0));)o(be[T]),++T},r.prototype.peek=function(){var o=this._front,T=this._cursor;return o._elements[T]},r}();function x(r,o){r._ownerReadableStream=o,o._reader=r,o._state==="readable"?te(r):o._state==="closed"?oe(r):ee(r,o._storedError)}function H(r,o){var T=r._ownerReadableStream;return St(T,o)}function L(r){r._ownerReadableStream._state==="readable"?$(r,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):q(r,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),r._ownerReadableStream._reader=void 0,r._ownerReadableStream=void 0}function X(r){return new TypeError("Cannot "+r+" a stream using a released reader")}function te(r){r._closedPromise=F(function(o,T){r._closedPromise_resolve=o,r._closedPromise_reject=T})}function ee(r,o){te(r),$(r,o)}function oe(r){te(r),E(r)}function $(r,o){r._closedPromise_reject!==void 0&&(h(r._closedPromise),r._closedPromise_reject(o),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0)}function q(r,o){ee(r,o)}function E(r){r._closedPromise_resolve!==void 0&&(r._closedPromise_resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0)}var g=e("[[AbortSteps]]"),P=e("[[ErrorSteps]]"),M=e("[[CancelSteps]]"),K=e("[[PullSteps]]"),ne=Number.isFinite||function(r){return typeof r=="number"&&isFinite(r)},Y=Math.trunc||function(r){return r<0?Math.ceil(r):Math.floor(r)};function Se(r){return typeof r=="object"||typeof r=="function"}function ke(r,o){if(r!==void 0&&!Se(r))throw new TypeError(o+" is not an object.")}function Ee(r,o){if(typeof r!="function")throw new TypeError(o+" is not a function.")}function V(r){return typeof r=="object"&&r!==null||typeof r=="function"}function O(r,o){if(!V(r))throw new TypeError(o+" is not an object.")}function p(r,o,T){if(r===void 0)throw new TypeError("Parameter "+o+" is required in '"+T+"'.")}function l(r,o,T){if(r===void 0)throw new TypeError(o+" is required in '"+T+"'.")}function _(r){return Number(r)}function D(r){return r===0?0:r}function j(r){return D(Y(r))}function Z(r,o){var T=0,ie=Number.MAX_SAFE_INTEGER,be=Number(r);if(be=D(be),!ne(be))throw new TypeError(o+" is not a finite number");if(be=j(be),be<T||be>ie)throw new TypeError(o+" is outside the accepted range of "+T+" to "+ie+", inclusive");return!ne(be)||be===0?0:be}function ce(r,o){if(!Bt(r))throw new TypeError(o+" is not a ReadableStream.")}function pe(r){return new xe(r)}function ge(r,o){r._reader._readRequests.push(o)}function ye(r,o,T){var ie=r._reader,be=ie._readRequests.shift();T?be._closeSteps():be._chunkSteps(o)}function Ae(r){return r._reader._readRequests.length}function Te(r){var o=r._reader;return!(o===void 0||!Ie(o))}var xe=function(){function r(o){if(p(o,1,"ReadableStreamDefaultReader"),ce(o,"First parameter"),Wt(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");x(this,o),this._readRequests=new A}return Object.defineProperty(r.prototype,"closed",{get:function(){return Ie(this)?this._closedPromise:I(je("closed"))},enumerable:!1,configurable:!0}),r.prototype.cancel=function(o){return o===void 0&&(o=void 0),Ie(this)?this._ownerReadableStream===void 0?I(X("cancel")):H(this,o):I(je("cancel"))},r.prototype.read=function(){if(!Ie(this))return I(je("read"));if(this._ownerReadableStream===void 0)return I(X("read from"));var o,T,ie=F(function(Re,De){o=Re,T=De}),be={_chunkSteps:function(Re){return o({value:Re,done:!1})},_closeSteps:function(){return o({value:void 0,done:!0})},_errorSteps:function(Re){return T(Re)}};return Me(this,be),ie},r.prototype.releaseLock=function(){if(!Ie(this))throw je("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");L(this)}},r}();Object.defineProperties(xe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(xe.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Ie(r){return!f(r)||!Object.prototype.hasOwnProperty.call(r,"_readRequests")?!1:r instanceof xe}function Me(r,o){var T=r._ownerReadableStream;T._disturbed=!0,T._state==="closed"?o._closeSteps():T._state==="errored"?o._errorSteps(T._storedError):T._readableStreamController[K](o)}function je(r){return new TypeError("ReadableStreamDefaultReader.prototype."+r+" can only be used on a ReadableStreamDefaultReader")}var Ge,de;typeof e.asyncIterator=="symbol"&&(de=(Ge={},Ge[e.asyncIterator]=function(){return this},Ge),Object.defineProperty(de,e.asyncIterator,{enumerable:!1}));var he=function(){function r(o,T){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=o,this._preventCancel=T}return r.prototype.next=function(){var o=this,T=function(){return o._nextSteps()};return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,T,T):T(),this._ongoingPromise},r.prototype.return=function(o){var T=this,ie=function(){return T._returnSteps(o)};return this._ongoingPromise?y(this._ongoingPromise,ie,ie):ie()},r.prototype._nextSteps=function(){var o=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var T=this._reader;if(T._ownerReadableStream===void 0)return I(X("iterate"));var ie,be,Re=F(function(Ve,Qe){ie=Ve,be=Qe}),De={_chunkSteps:function(Ve){o._ongoingPromise=void 0,d(function(){return ie({value:Ve,done:!1})})},_closeSteps:function(){o._ongoingPromise=void 0,o._isFinished=!0,L(T),ie({value:void 0,done:!0})},_errorSteps:function(Ve){o._ongoingPromise=void 0,o._isFinished=!0,L(T),be(Ve)}};return Me(T,De),Re},r.prototype._returnSteps=function(o){if(this._isFinished)return Promise.resolve({value:o,done:!0});this._isFinished=!0;var T=this._reader;if(T._ownerReadableStream===void 0)return I(X("finish iterating"));if(!this._preventCancel){var ie=H(T,o);return L(T),y(ie,function(){return{value:o,done:!0}})}return L(T),w({value:o,done:!0})},r}(),z={next:function(){return Q(this)?this._asyncIteratorImpl.next():I(se("next"))},return:function(r){return Q(this)?this._asyncIteratorImpl.return(r):I(se("return"))}};de!==void 0&&Object.setPrototypeOf(z,de);function re(r,o){var T=pe(r),ie=new he(T,o),be=Object.create(z);return be._asyncIteratorImpl=ie,be}function Q(r){if(!f(r)||!Object.prototype.hasOwnProperty.call(r,"_asyncIteratorImpl"))return!1;try{return r._asyncIteratorImpl instanceof he}catch{return!1}}function se(r){return new TypeError("ReadableStreamAsyncIterator."+r+" can only be used on a ReadableSteamAsyncIterator")}var ae=Number.isNaN||function(r){return r!==r};function J(r){return r.slice()}function ve(r,o,T,ie,be){new Uint8Array(r).set(new Uint8Array(T,ie,be),o)}function fe(r){return r}function _e(r){return!1}function we(r,o,T){if(r.slice)return r.slice(o,T);var ie=T-o,be=new ArrayBuffer(ie);return ve(be,0,r,o,ie),be}function Le(r){return!(typeof r!="number"||ae(r)||r<0)}function Ne(r){var o=we(r.buffer,r.byteOffset,r.byteOffset+r.byteLength);return new Uint8Array(o)}function Pe(r){var o=r._queue.shift();return r._queueTotalSize-=o.size,r._queueTotalSize<0&&(r._queueTotalSize=0),o.value}function ze(r,o,T){if(!Le(T)||T===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");r._queue.push({value:o,size:T}),r._queueTotalSize+=T}function Oe(r){var o=r._queue.peek();return o.value}function Fe(r){r._queue=new A,r._queueTotalSize=0}var We=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"view",{get:function(){if(!qe(this))throw Mt("view");return this._view},enumerable:!1,configurable:!0}),r.prototype.respond=function(o){if(!qe(this))throw Mt("respond");if(p(o,1,"respond"),o=Z(o,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");_e(this._view.buffer),st(this._associatedReadableByteStreamController,o)},r.prototype.respondWithNewView=function(o){if(!qe(this))throw Mt("respondWithNewView");if(p(o,1,"respondWithNewView"),!ArrayBuffer.isView(o))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");_e(o.buffer),pt(this._associatedReadableByteStreamController,o)},r}();Object.defineProperties(We.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(We.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Be=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"byobRequest",{get:function(){if(!$e(this))throw it("byobRequest");return Ke(this)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"desiredSize",{get:function(){if(!$e(this))throw it("desiredSize");return at(this)},enumerable:!1,configurable:!0}),r.prototype.close=function(){if(!$e(this))throw it("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var o=this._controlledReadableByteStream._state;if(o!=="readable")throw new TypeError("The stream (in "+o+" state) is not in the readable state and cannot be closed");Ue(this)},r.prototype.enqueue=function(o){if(!$e(this))throw it("enqueue");if(p(o,1,"enqueue"),!ArrayBuffer.isView(o))throw new TypeError("chunk must be an array buffer view");if(o.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(o.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var T=this._controlledReadableByteStream._state;if(T!=="readable")throw new TypeError("The stream (in "+T+" state) is not in the readable state and cannot be enqueued to");He(this,o)},r.prototype.error=function(o){if(o===void 0&&(o=void 0),!$e(this))throw it("error");Xe(this,o)},r.prototype[M]=function(o){nt(this),Fe(this);var T=this._cancelAlgorithm(o);return me(this),T},r.prototype[K]=function(o){var T=this._controlledReadableByteStream;if(this._queueTotalSize>0){var ie=this._queue.shift();this._queueTotalSize-=ie.byteLength,Ot(this);var be=new Uint8Array(ie.buffer,ie.byteOffset,ie.byteLength);o._chunkSteps(be);return}var Re=this._autoAllocateChunkSize;if(Re!==void 0){var De=void 0;try{De=new ArrayBuffer(Re)}catch(Qe){o._errorSteps(Qe);return}var Ve={buffer:De,bufferByteLength:Re,byteOffset:0,byteLength:Re,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Ve)}ge(T,o),Ze(this)},r}();Object.defineProperties(Be.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Be.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function $e(r){return!f(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledReadableByteStream")?!1:r instanceof Be}function qe(r){return!f(r)||!Object.prototype.hasOwnProperty.call(r,"_associatedReadableByteStreamController")?!1:r instanceof We}function Ze(r){var o=ue(r);if(o){if(r._pulling){r._pullAgain=!0;return}r._pulling=!0;var T=r._pullAlgorithm();W(T,function(){r._pulling=!1,r._pullAgain&&(r._pullAgain=!1,Ze(r))},function(ie){Xe(r,ie)})}}function nt(r){Ft(r),r._pendingPullIntos=new A}function ot(r,o){var T=!1;r._state==="closed"&&(T=!0);var ie=gt(o);o.readerType==="default"?ye(r,ie,T):ar(r,ie,T)}function gt(r){var o=r.bytesFilled,T=r.elementSize;return new r.viewConstructor(r.buffer,r.byteOffset,o/T)}function vt(r,o,T,ie){r._queue.push({buffer:o,byteOffset:T,byteLength:ie}),r._queueTotalSize+=ie}function wt(r,o){var T=o.elementSize,ie=o.bytesFilled-o.bytesFilled%T,be=Math.min(r._queueTotalSize,o.byteLength-o.bytesFilled),Re=o.bytesFilled+be,De=Re-Re%T,Ve=be,Qe=!1;De>ie&&(Ve=De-o.bytesFilled,Qe=!0);for(var Je=r._queue;Ve>0;){var et=Je.peek(),tt=Math.min(Ve,et.byteLength),ft=o.byteOffset+o.bytesFilled;ve(o.buffer,ft,et.buffer,et.byteOffset,tt),et.byteLength===tt?Je.shift():(et.byteOffset+=tt,et.byteLength-=tt),r._queueTotalSize-=tt,Yt(r,tt,o),Ve-=tt}return Qe}function Yt(r,o,T){T.bytesFilled+=o}function Ot(r){r._queueTotalSize===0&&r._closeRequested?(me(r),fr(r._controlledReadableByteStream)):Ze(r)}function Ft(r){r._byobRequest!==null&&(r._byobRequest._associatedReadableByteStreamController=void 0,r._byobRequest._view=null,r._byobRequest=null)}function It(r){for(;r._pendingPullIntos.length>0;){if(r._queueTotalSize===0)return;var o=r._pendingPullIntos.peek();wt(r,o)&&(Ce(r),ot(r._controlledReadableByteStream,o))}}function qt(r,o,T){var ie=r._controlledReadableByteStream,be=1;o.constructor!==DataView&&(be=o.constructor.BYTES_PER_ELEMENT);var Re=o.constructor,De=o.buffer,Ve={buffer:De,bufferByteLength:De.byteLength,byteOffset:o.byteOffset,byteLength:o.byteLength,bytesFilled:0,elementSize:be,viewConstructor:Re,readerType:"byob"};if(r._pendingPullIntos.length>0){r._pendingPullIntos.push(Ve),zt(ie,T);return}if(ie._state==="closed"){var Qe=new Re(Ve.buffer,Ve.byteOffset,0);T._closeSteps(Qe);return}if(r._queueTotalSize>0){if(wt(r,Ve)){var Je=gt(Ve);Ot(r),T._chunkSteps(Je);return}if(r._closeRequested){var et=new TypeError("Insufficient bytes to fill elements in the given buffer");Xe(r,et),T._errorSteps(et);return}}r._pendingPullIntos.push(Ve),zt(ie,T),Ze(r)}function At(r,o){var T=r._controlledReadableByteStream;if(Ht(T))for(;Kt(T)>0;){var ie=Ce(r);ot(T,ie)}}function Et(r,o,T){if(Yt(r,o,T),!(T.bytesFilled<T.elementSize)){Ce(r);var ie=T.bytesFilled%T.elementSize;if(ie>0){var be=T.byteOffset+T.bytesFilled,Re=we(T.buffer,be-ie,be);vt(r,Re,0,Re.byteLength)}T.bytesFilled-=ie,ot(r._controlledReadableByteStream,T),It(r)}}function le(r,o){var T=r._pendingPullIntos.peek();Ft(r);var ie=r._controlledReadableByteStream._state;ie==="closed"?At(r):Et(r,o,T),Ze(r)}function Ce(r){var o=r._pendingPullIntos.shift();return o}function ue(r){var o=r._controlledReadableByteStream;if(o._state!=="readable"||r._closeRequested||!r._started)return!1;if(Te(o)&&Ae(o)>0||Ht(o)&&Kt(o)>0)return!0;var T=at(r);return T>0}function me(r){r._pullAlgorithm=void 0,r._cancelAlgorithm=void 0}function Ue(r){var o=r._controlledReadableByteStream;if(!(r._closeRequested||o._state!=="readable")){if(r._queueTotalSize>0){r._closeRequested=!0;return}if(r._pendingPullIntos.length>0){var T=r._pendingPullIntos.peek();if(T.bytesFilled>0){var ie=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Xe(r,ie),ie}}me(r),fr(o)}}function He(r,o){var T=r._controlledReadableByteStream;if(!(r._closeRequested||T._state!=="readable")){var ie=o.buffer,be=o.byteOffset,Re=o.byteLength,De=ie;if(r._pendingPullIntos.length>0){var Ve=r._pendingPullIntos.peek();_e(Ve.buffer),Ve.buffer=Ve.buffer}if(Ft(r),Te(T))if(Ae(T)===0)vt(r,De,be,Re);else{r._pendingPullIntos.length>0&&Ce(r);var Qe=new Uint8Array(De,be,Re);ye(T,Qe,!1)}else Ht(T)?(vt(r,De,be,Re),It(r)):vt(r,De,be,Re);Ze(r)}}function Xe(r,o){var T=r._controlledReadableByteStream;T._state==="readable"&&(nt(r),Fe(r),me(r),Sn(T,o))}function Ke(r){if(r._byobRequest===null&&r._pendingPullIntos.length>0){var o=r._pendingPullIntos.peek(),T=new Uint8Array(o.buffer,o.byteOffset+o.bytesFilled,o.byteLength-o.bytesFilled),ie=Object.create(We.prototype);mt(ie,r,T),r._byobRequest=ie}return r._byobRequest}function at(r){var o=r._controlledReadableByteStream._state;return o==="errored"?null:o==="closed"?0:r._strategyHWM-r._queueTotalSize}function st(r,o){var T=r._pendingPullIntos.peek(),ie=r._controlledReadableByteStream._state;if(ie==="closed"){if(o!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(o===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(T.bytesFilled+o>T.byteLength)throw new RangeError("bytesWritten out of range")}T.buffer=T.buffer,le(r,o)}function pt(r,o){var T=r._pendingPullIntos.peek(),ie=r._controlledReadableByteStream._state;if(ie==="closed"){if(o.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(o.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(T.byteOffset+T.bytesFilled!==o.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(T.bufferByteLength!==o.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(T.bytesFilled+o.byteLength>T.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var be=o.byteLength;T.buffer=o.buffer,le(r,be)}function dt(r,o,T,ie,be,Re,De){o._controlledReadableByteStream=r,o._pullAgain=!1,o._pulling=!1,o._byobRequest=null,o._queue=o._queueTotalSize=void 0,Fe(o),o._closeRequested=!1,o._started=!1,o._strategyHWM=Re,o._pullAlgorithm=ie,o._cancelAlgorithm=be,o._autoAllocateChunkSize=De,o._pendingPullIntos=new A,r._readableStreamController=o;var Ve=T();W(w(Ve),function(){o._started=!0,Ze(o)},function(Qe){Xe(o,Qe)})}function Pt(r,o,T){var ie=Object.create(Be.prototype),be=function(){},Re=function(){return w(void 0)},De=function(){return w(void 0)};o.start!==void 0&&(be=function(){return o.start(ie)}),o.pull!==void 0&&(Re=function(){return o.pull(ie)}),o.cancel!==void 0&&(De=function(Qe){return o.cancel(Qe)});var Ve=o.autoAllocateChunkSize;if(Ve===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");dt(r,ie,be,Re,De,T,Ve)}function mt(r,o,T){r._associatedReadableByteStreamController=o,r._view=T}function Mt(r){return new TypeError("ReadableStreamBYOBRequest.prototype."+r+" can only be used on a ReadableStreamBYOBRequest")}function it(r){return new TypeError("ReadableByteStreamController.prototype."+r+" can only be used on a ReadableByteStreamController")}function Gt(r){return new bt(r)}function zt(r,o){r._reader._readIntoRequests.push(o)}function ar(r,o,T){var ie=r._reader,be=ie._readIntoRequests.shift();T?be._closeSteps(o):be._chunkSteps(o)}function Kt(r){return r._reader._readIntoRequests.length}function Ht(r){var o=r._reader;return!(o===void 0||!ct(o))}var bt=function(){function r(o){if(p(o,1,"ReadableStreamBYOBReader"),ce(o,"First parameter"),Wt(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!$e(o._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");x(this,o),this._readIntoRequests=new A}return Object.defineProperty(r.prototype,"closed",{get:function(){return ct(this)?this._closedPromise:I(vr("closed"))},enumerable:!1,configurable:!0}),r.prototype.cancel=function(o){return o===void 0&&(o=void 0),ct(this)?this._ownerReadableStream===void 0?I(X("cancel")):H(this,o):I(vr("cancel"))},r.prototype.read=function(o){if(!ct(this))return I(vr("read"));if(!ArrayBuffer.isView(o))return I(new TypeError("view must be an array buffer view"));if(o.byteLength===0)return I(new TypeError("view must have non-zero byteLength"));if(o.buffer.byteLength===0)return I(new TypeError("view's buffer must have non-zero byteLength"));if(_e(o.buffer),this._ownerReadableStream===void 0)return I(X("read from"));var T,ie,be=F(function(De,Ve){T=De,ie=Ve}),Re={_chunkSteps:function(De){return T({value:De,done:!1})},_closeSteps:function(De){return T({value:De,done:!0})},_errorSteps:function(De){return ie(De)}};return Dt(this,o,Re),be},r.prototype.releaseLock=function(){if(!ct(this))throw vr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");L(this)}},r}();Object.defineProperties(bt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(bt.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function ct(r){return!f(r)||!Object.prototype.hasOwnProperty.call(r,"_readIntoRequests")?!1:r instanceof bt}function Dt(r,o,T){var ie=r._ownerReadableStream;ie._disturbed=!0,ie._state==="errored"?T._errorSteps(ie._storedError):qt(ie._readableStreamController,o,T)}function vr(r){return new TypeError("ReadableStreamBYOBReader.prototype."+r+" can only be used on a ReadableStreamBYOBReader")}function ir(r,o){var T=r.highWaterMark;if(T===void 0)return o;if(ae(T)||T<0)throw new RangeError("Invalid highWaterMark");return T}function pr(r){var o=r.size;return o||function(){return 1}}function yr(r,o){ke(r,o);var T=r==null?void 0:r.highWaterMark,ie=r==null?void 0:r.size;return{highWaterMark:T===void 0?void 0:_(T),size:ie===void 0?void 0:Mn(ie,o+" has member 'size' that")}}function Mn(r,o){return Ee(r,o),function(T){return _(r(T))}}function Dn(r,o){ke(r,o);var T=r==null?void 0:r.abort,ie=r==null?void 0:r.close,be=r==null?void 0:r.start,Re=r==null?void 0:r.type,De=r==null?void 0:r.write;return{abort:T===void 0?void 0:Ln(T,r,o+" has member 'abort' that"),close:ie===void 0?void 0:Nn(ie,r,o+" has member 'close' that"),start:be===void 0?void 0:Bn(be,r,o+" has member 'start' that"),write:De===void 0?void 0:Wn(De,r,o+" has member 'write' that"),type:Re}}function Ln(r,o,T){return Ee(r,T),function(ie){return b(r,o,[ie])}}function Nn(r,o,T){return Ee(r,T),function(){return b(r,o,[])}}function Bn(r,o,T){return Ee(r,T),function(ie){return S(r,o,[ie])}}function Wn(r,o,T){return Ee(r,T),function(ie,be){return b(r,o,[ie,be])}}function Qr(r,o){if(!Qt(r))throw new TypeError(o+" is not a WritableStream.")}function jn(r){if(typeof r!="object"||r===null)return!1;try{return typeof r.aborted=="boolean"}catch{return!1}}var Un=typeof AbortController=="function";function Gn(){if(Un)return new AbortController}var or=function(){function r(o,T){o===void 0&&(o={}),T===void 0&&(T={}),o===void 0?o=null:O(o,"First parameter");var ie=yr(T,"Second parameter"),be=Dn(o,"First parameter");Zr(this);var Re=be.type;if(Re!==void 0)throw new RangeError("Invalid type is specified");var De=pr(ie),Ve=ir(ie,1);ra(this,be,Ve,De)}return Object.defineProperty(r.prototype,"locked",{get:function(){if(!Qt(this))throw _r("locked");return Jt(this)},enumerable:!1,configurable:!0}),r.prototype.abort=function(o){return o===void 0&&(o=void 0),Qt(this)?Jt(this)?I(new TypeError("Cannot abort a stream that already has a writer")):gr(this,o):I(_r("abort"))},r.prototype.close=function(){return Qt(this)?Jt(this)?I(new TypeError("Cannot close a stream that already has a writer")):kt(this)?I(new TypeError("Cannot close an already-closing stream")):en(this):I(_r("close"))},r.prototype.getWriter=function(){if(!Qt(this))throw _r("getWriter");return Jr(this)},r}();Object.defineProperties(or.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(or.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});function Jr(r){return new sr(r)}function zn(r,o,T,ie,be,Re){be===void 0&&(be=1),Re===void 0&&(Re=function(){return 1});var De=Object.create(or.prototype);Zr(De);var Ve=Object.create(Zt.prototype);return sn(De,Ve,r,o,T,ie,be,Re),De}function Zr(r){r._state="writable",r._storedError=void 0,r._writer=void 0,r._writableStreamController=void 0,r._writeRequests=new A,r._inFlightWriteRequest=void 0,r._closeRequest=void 0,r._inFlightCloseRequest=void 0,r._pendingAbortRequest=void 0,r._backpressure=!1}function Qt(r){return!f(r)||!Object.prototype.hasOwnProperty.call(r,"_writableStreamController")?!1:r instanceof or}function Jt(r){return r._writer!==void 0}function gr(r,o){var T;if(r._state==="closed"||r._state==="errored")return w(void 0);r._writableStreamController._abortReason=o,(T=r._writableStreamController._abortController)===null||T===void 0||T.abort();var ie=r._state;if(ie==="closed"||ie==="errored")return w(void 0);if(r._pendingAbortRequest!==void 0)return r._pendingAbortRequest._promise;var be=!1;ie==="erroring"&&(be=!0,o=void 0);var Re=F(function(De,Ve){r._pendingAbortRequest={_promise:void 0,_resolve:De,_reject:Ve,_reason:o,_wasAlreadyErroring:be}});return r._pendingAbortRequest._promise=Re,be||Nr(r,o),Re}function en(r){var o=r._state;if(o==="closed"||o==="errored")return I(new TypeError("The stream (in "+o+" state) is not in the writable state and cannot be closed"));var T=F(function(be,Re){var De={_resolve:be,_reject:Re};r._closeRequest=De}),ie=r._writer;return ie!==void 0&&r._backpressure&&o==="writable"&&$r(ie),na(r._writableStreamController),T}function Hn(r){var o=F(function(T,ie){var be={_resolve:T,_reject:ie};r._writeRequests.push(be)});return o}function Lr(r,o){var T=r._state;if(T==="writable"){Nr(r,o);return}Br(r)}function Nr(r,o){var T=r._writableStreamController;r._state="erroring",r._storedError=o;var ie=r._writer;ie!==void 0&&rn(ie,o),!qn(r)&&T._started&&Br(r)}function Br(r){r._state="errored",r._writableStreamController[P]();var o=r._storedError;if(r._writeRequests.forEach(function(be){be._reject(o)}),r._writeRequests=new A,r._pendingAbortRequest===void 0){mr(r);return}var T=r._pendingAbortRequest;if(r._pendingAbortRequest=void 0,T._wasAlreadyErroring){T._reject(o),mr(r);return}var ie=r._writableStreamController[g](T._reason);W(ie,function(){T._resolve(),mr(r)},function(be){T._reject(be),mr(r)})}function Vn(r){r._inFlightWriteRequest._resolve(void 0),r._inFlightWriteRequest=void 0}function $n(r,o){r._inFlightWriteRequest._reject(o),r._inFlightWriteRequest=void 0,Lr(r,o)}function Xn(r){r._inFlightCloseRequest._resolve(void 0),r._inFlightCloseRequest=void 0;var o=r._state;o==="erroring"&&(r._storedError=void 0,r._pendingAbortRequest!==void 0&&(r._pendingAbortRequest._resolve(),r._pendingAbortRequest=void 0)),r._state="closed";var T=r._writer;T!==void 0&&fn(T)}function Yn(r,o){r._inFlightCloseRequest._reject(o),r._inFlightCloseRequest=void 0,r._pendingAbortRequest!==void 0&&(r._pendingAbortRequest._reject(o),r._pendingAbortRequest=void 0),Lr(r,o)}function kt(r){return!(r._closeRequest===void 0&&r._inFlightCloseRequest===void 0)}function qn(r){return!(r._inFlightWriteRequest===void 0&&r._inFlightCloseRequest===void 0)}function Kn(r){r._inFlightCloseRequest=r._closeRequest,r._closeRequest=void 0}function Qn(r){r._inFlightWriteRequest=r._writeRequests.shift()}function mr(r){r._closeRequest!==void 0&&(r._closeRequest._reject(r._storedError),r._closeRequest=void 0);var o=r._writer;o!==void 0&&Hr(o,r._storedError)}function Wr(r,o){var T=r._writer;T!==void 0&&o!==r._backpressure&&(o?ca(T):$r(T)),r._backpressure=o}var sr=function(){function r(o){if(p(o,1,"WritableStreamDefaultWriter"),Qr(o,"First parameter"),Jt(o))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=o,o._writer=this;var T=o._state;if(T==="writable")!kt(o)&&o._backpressure?Pr(this):dn(this),Ar(this);else if(T==="erroring")Vr(this,o._storedError),Ar(this);else if(T==="closed")dn(this),ua(this);else{var ie=o._storedError;Vr(this,ie),cn(this,ie)}}return Object.defineProperty(r.prototype,"closed",{get:function(){return Vt(this)?this._closedPromise:I($t("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"desiredSize",{get:function(){if(!Vt(this))throw $t("desiredSize");if(this._ownerWritableStream===void 0)throw ur("desiredSize");return ta(this)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ready",{get:function(){return Vt(this)?this._readyPromise:I($t("ready"))},enumerable:!1,configurable:!0}),r.prototype.abort=function(o){return o===void 0&&(o=void 0),Vt(this)?this._ownerWritableStream===void 0?I(ur("abort")):Jn(this,o):I($t("abort"))},r.prototype.close=function(){if(!Vt(this))return I($t("close"));var o=this._ownerWritableStream;return o===void 0?I(ur("close")):kt(o)?I(new TypeError("Cannot close an already-closing stream")):tn(this)},r.prototype.releaseLock=function(){if(!Vt(this))throw $t("releaseLock");var o=this._ownerWritableStream;o!==void 0&&nn(this)},r.prototype.write=function(o){return o===void 0&&(o=void 0),Vt(this)?this._ownerWritableStream===void 0?I(ur("write to")):an(this,o):I($t("write"))},r}();Object.defineProperties(sr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(sr.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Vt(r){return!f(r)||!Object.prototype.hasOwnProperty.call(r,"_ownerWritableStream")?!1:r instanceof sr}function Jn(r,o){var T=r._ownerWritableStream;return gr(T,o)}function tn(r){var o=r._ownerWritableStream;return en(o)}function Zn(r){var o=r._ownerWritableStream,T=o._state;return kt(o)||T==="closed"?w(void 0):T==="errored"?I(o._storedError):tn(r)}function ea(r,o){r._closedPromiseState==="pending"?Hr(r,o):la(r,o)}function rn(r,o){r._readyPromiseState==="pending"?hn(r,o):fa(r,o)}function ta(r){var o=r._ownerWritableStream,T=o._state;return T==="errored"||T==="erroring"?null:T==="closed"?0:un(o._writableStreamController)}function nn(r){var o=r._ownerWritableStream,T=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");rn(r,T),ea(r,T),o._writer=void 0,r._ownerWritableStream=void 0}function an(r,o){var T=r._ownerWritableStream,ie=T._writableStreamController,be=aa(ie,o);if(T!==r._ownerWritableStream)return I(ur("write to"));var Re=T._state;if(Re==="errored")return I(T._storedError);if(kt(T)||Re==="closed")return I(new TypeError("The stream is closing or closed and cannot be written to"));if(Re==="erroring")return I(T._storedError);var De=Hn(T);return ia(ie,o,be),De}var on={},Zt=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"abortReason",{get:function(){if(!jr(this))throw zr("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"signal",{get:function(){if(!jr(this))throw zr("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),r.prototype.error=function(o){if(o===void 0&&(o=void 0),!jr(this))throw zr("error");var T=this._controlledWritableStream._state;T==="writable"&&ln(this,o)},r.prototype[g]=function(o){var T=this._abortAlgorithm(o);return br(this),T},r.prototype[P]=function(){Fe(this)},r}();Object.defineProperties(Zt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Zt.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function jr(r){return!f(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledWritableStream")?!1:r instanceof Zt}function sn(r,o,T,ie,be,Re,De,Ve){o._controlledWritableStream=r,r._writableStreamController=o,o._queue=void 0,o._queueTotalSize=void 0,Fe(o),o._abortReason=void 0,o._abortController=Gn(),o._started=!1,o._strategySizeAlgorithm=Ve,o._strategyHWM=De,o._writeAlgorithm=ie,o._closeAlgorithm=be,o._abortAlgorithm=Re;var Qe=Gr(o);Wr(r,Qe);var Je=T(),et=w(Je);W(et,function(){o._started=!0,Sr(o)},function(tt){o._started=!0,Lr(r,tt)})}function ra(r,o,T,ie){var be=Object.create(Zt.prototype),Re=function(){},De=function(){return w(void 0)},Ve=function(){return w(void 0)},Qe=function(){return w(void 0)};o.start!==void 0&&(Re=function(){return o.start(be)}),o.write!==void 0&&(De=function(Je){return o.write(Je,be)}),o.close!==void 0&&(Ve=function(){return o.close()}),o.abort!==void 0&&(Qe=function(Je){return o.abort(Je)}),sn(r,be,Re,De,Ve,Qe,T,ie)}function br(r){r._writeAlgorithm=void 0,r._closeAlgorithm=void 0,r._abortAlgorithm=void 0,r._strategySizeAlgorithm=void 0}function na(r){ze(r,on,0),Sr(r)}function aa(r,o){try{return r._strategySizeAlgorithm(o)}catch(T){return Ur(r,T),1}}function un(r){return r._strategyHWM-r._queueTotalSize}function ia(r,o,T){try{ze(r,o,T)}catch(Re){Ur(r,Re);return}var ie=r._controlledWritableStream;if(!kt(ie)&&ie._state==="writable"){var be=Gr(r);Wr(ie,be)}Sr(r)}function Sr(r){var o=r._controlledWritableStream;if(r._started&&o._inFlightWriteRequest===void 0){var T=o._state;if(T==="erroring"){Br(o);return}if(r._queue.length!==0){var ie=Oe(r);ie===on?oa(r):sa(r,ie)}}}function Ur(r,o){r._controlledWritableStream._state==="writable"&&ln(r,o)}function oa(r){var o=r._controlledWritableStream;Kn(o),Pe(r);var T=r._closeAlgorithm();br(r),W(T,function(){Xn(o)},function(ie){Yn(o,ie)})}function sa(r,o){var T=r._controlledWritableStream;Qn(T);var ie=r._writeAlgorithm(o);W(ie,function(){Vn(T);var be=T._state;if(Pe(r),!kt(T)&&be==="writable"){var Re=Gr(r);Wr(T,Re)}Sr(r)},function(be){T._state==="writable"&&br(r),$n(T,be)})}function Gr(r){var o=un(r);return o<=0}function ln(r,o){var T=r._controlledWritableStream;br(r),Nr(T,o)}function _r(r){return new TypeError("WritableStream.prototype."+r+" can only be used on a WritableStream")}function zr(r){return new TypeError("WritableStreamDefaultController.prototype."+r+" can only be used on a WritableStreamDefaultController")}function $t(r){return new TypeError("WritableStreamDefaultWriter.prototype."+r+" can only be used on a WritableStreamDefaultWriter")}function ur(r){return new TypeError("Cannot "+r+" a stream using a released writer")}function Ar(r){r._closedPromise=F(function(o,T){r._closedPromise_resolve=o,r._closedPromise_reject=T,r._closedPromiseState="pending"})}function cn(r,o){Ar(r),Hr(r,o)}function ua(r){Ar(r),fn(r)}function Hr(r,o){r._closedPromise_reject!==void 0&&(h(r._closedPromise),r._closedPromise_reject(o),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,r._closedPromiseState="rejected")}function la(r,o){cn(r,o)}function fn(r){r._closedPromise_resolve!==void 0&&(r._closedPromise_resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,r._closedPromiseState="resolved")}function Pr(r){r._readyPromise=F(function(o,T){r._readyPromise_resolve=o,r._readyPromise_reject=T}),r._readyPromiseState="pending"}function Vr(r,o){Pr(r),hn(r,o)}function dn(r){Pr(r),$r(r)}function hn(r,o){r._readyPromise_reject!==void 0&&(h(r._readyPromise),r._readyPromise_reject(o),r._readyPromise_resolve=void 0,r._readyPromise_reject=void 0,r._readyPromiseState="rejected")}function ca(r){Pr(r)}function fa(r,o){Vr(r,o)}function $r(r){r._readyPromise_resolve!==void 0&&(r._readyPromise_resolve(void 0),r._readyPromise_resolve=void 0,r._readyPromise_reject=void 0,r._readyPromiseState="fulfilled")}var vn=typeof DOMException<"u"?DOMException:void 0;function da(r){if(!(typeof r=="function"||typeof r=="object"))return!1;try{return new r,!0}catch{return!1}}function ha(){var r=function(T,ie){this.message=T||"",this.name=ie||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return r.prototype=Object.create(Error.prototype),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,configurable:!0}),r}var va=da(vn)?vn:ha();function pn(r,o,T,ie,be,Re){var De=pe(r),Ve=Jr(o);r._disturbed=!0;var Qe=!1,Je=w(void 0);return F(function(et,tt){var ft;if(Re!==void 0){if(ft=function(){var Ye=new va("Aborted","AbortError"),rt=[];ie||rt.push(function(){return o._state==="writable"?gr(o,Ye):w(void 0)}),be||rt.push(function(){return r._state==="readable"?St(r,Ye):w(void 0)}),yt(function(){return Promise.all(rt.map(function(lt){return lt()}))},!0,Ye)},Re.aborted){ft();return}Re.addEventListener("abort",ft)}function _t(){return F(function(Ye,rt){function lt(Rt){Rt?Ye():C(rr(),lt,rt)}lt(!1)})}function rr(){return Qe?w(!0):C(Ve._readyPromise,function(){return F(function(Ye,rt){Me(De,{_chunkSteps:function(lt){Je=C(an(Ve,lt),void 0,a),Ye(!1)},_closeSteps:function(){return Ye(!0)},_errorSteps:rt})})})}if(ht(r,De._closedPromise,function(Ye){ie?xt(!0,Ye):yt(function(){return gr(o,Ye)},!0,Ye)}),ht(o,Ve._closedPromise,function(Ye){be?xt(!0,Ye):yt(function(){return St(r,Ye)},!0,Ye)}),Ct(r,De._closedPromise,function(){T?xt():yt(function(){return Zn(Ve)})}),kt(o)||o._state==="closed"){var jt=new TypeError("the destination writable stream closed before all data could be piped to it");be?xt(!0,jt):yt(function(){return St(r,jt)},!0,jt)}h(_t());function Tt(){var Ye=Je;return C(Je,function(){return Ye!==Je?Tt():void 0})}function ht(Ye,rt,lt){Ye._state==="errored"?lt(Ye._storedError):U(rt,lt)}function Ct(Ye,rt,lt){Ye._state==="closed"?lt():k(rt,lt)}function yt(Ye,rt,lt){if(Qe)return;Qe=!0,o._state==="writable"&&!kt(o)?k(Tt(),Rt):Rt();function Rt(){W(Ye(),function(){return ut(rt,lt)},function(Ut){return ut(!0,Ut)})}}function xt(Ye,rt){Qe||(Qe=!0,o._state==="writable"&&!kt(o)?k(Tt(),function(){return ut(Ye,rt)}):ut(Ye,rt))}function ut(Ye,rt){nn(Ve),L(De),Re!==void 0&&Re.removeEventListener("abort",ft),Ye?tt(rt):et(void 0)}})}var er=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"desiredSize",{get:function(){if(!kr(this))throw Rr("desiredSize");return Xr(this)},enumerable:!1,configurable:!0}),r.prototype.close=function(){if(!kr(this))throw Rr("close");if(!tr(this))throw new TypeError("The stream is not in a state that permits close");cr(this)},r.prototype.enqueue=function(o){if(o===void 0&&(o=void 0),!kr(this))throw Rr("enqueue");if(!tr(this))throw new TypeError("The stream is not in a state that permits enqueue");return Cr(this,o)},r.prototype.error=function(o){if(o===void 0&&(o=void 0),!kr(this))throw Rr("error");Lt(this,o)},r.prototype[M]=function(o){Fe(this);var T=this._cancelAlgorithm(o);return Tr(this),T},r.prototype[K]=function(o){var T=this._controlledReadableStream;if(this._queue.length>0){var ie=Pe(this);this._closeRequested&&this._queue.length===0?(Tr(this),fr(T)):lr(this),o._chunkSteps(ie)}else ge(T,o),lr(this)},r}();Object.defineProperties(er.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(er.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function kr(r){return!f(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledReadableStream")?!1:r instanceof er}function lr(r){var o=yn(r);if(o){if(r._pulling){r._pullAgain=!0;return}r._pulling=!0;var T=r._pullAlgorithm();W(T,function(){r._pulling=!1,r._pullAgain&&(r._pullAgain=!1,lr(r))},function(ie){Lt(r,ie)})}}function yn(r){var o=r._controlledReadableStream;if(!tr(r)||!r._started)return!1;if(Wt(o)&&Ae(o)>0)return!0;var T=Xr(r);return T>0}function Tr(r){r._pullAlgorithm=void 0,r._cancelAlgorithm=void 0,r._strategySizeAlgorithm=void 0}function cr(r){if(tr(r)){var o=r._controlledReadableStream;r._closeRequested=!0,r._queue.length===0&&(Tr(r),fr(o))}}function Cr(r,o){if(tr(r)){var T=r._controlledReadableStream;if(Wt(T)&&Ae(T)>0)ye(T,o,!1);else{var ie=void 0;try{ie=r._strategySizeAlgorithm(o)}catch(be){throw Lt(r,be),be}try{ze(r,o,ie)}catch(be){throw Lt(r,be),be}}lr(r)}}function Lt(r,o){var T=r._controlledReadableStream;T._state==="readable"&&(Fe(r),Tr(r),Sn(T,o))}function Xr(r){var o=r._controlledReadableStream._state;return o==="errored"?null:o==="closed"?0:r._strategyHWM-r._queueTotalSize}function pa(r){return!yn(r)}function tr(r){var o=r._controlledReadableStream._state;return!r._closeRequested&&o==="readable"}function gn(r,o,T,ie,be,Re,De){o._controlledReadableStream=r,o._queue=void 0,o._queueTotalSize=void 0,Fe(o),o._started=!1,o._closeRequested=!1,o._pullAgain=!1,o._pulling=!1,o._strategySizeAlgorithm=De,o._strategyHWM=Re,o._pullAlgorithm=ie,o._cancelAlgorithm=be,r._readableStreamController=o;var Ve=T();W(w(Ve),function(){o._started=!0,lr(o)},function(Qe){Lt(o,Qe)})}function ya(r,o,T,ie){var be=Object.create(er.prototype),Re=function(){},De=function(){return w(void 0)},Ve=function(){return w(void 0)};o.start!==void 0&&(Re=function(){return o.start(be)}),o.pull!==void 0&&(De=function(){return o.pull(be)}),o.cancel!==void 0&&(Ve=function(Qe){return o.cancel(Qe)}),gn(r,be,Re,De,Ve,T,ie)}function Rr(r){return new TypeError("ReadableStreamDefaultController.prototype."+r+" can only be used on a ReadableStreamDefaultController")}function ga(r,o){return $e(r._readableStreamController)?ba(r):ma(r)}function ma(r,o){var T=pe(r),ie=!1,be=!1,Re=!1,De=!1,Ve,Qe,Je,et,tt,ft=F(function(ht){tt=ht});function _t(){if(ie)return be=!0,w(void 0);ie=!0;var ht={_chunkSteps:function(Ct){d(function(){be=!1;var yt=Ct,xt=Ct;Re||Cr(Je._readableStreamController,yt),De||Cr(et._readableStreamController,xt),ie=!1,be&&_t()})},_closeSteps:function(){ie=!1,Re||cr(Je._readableStreamController),De||cr(et._readableStreamController),(!Re||!De)&&tt(void 0)},_errorSteps:function(){ie=!1}};return Me(T,ht),w(void 0)}function rr(ht){if(Re=!0,Ve=ht,De){var Ct=J([Ve,Qe]),yt=St(r,Ct);tt(yt)}return ft}function jt(ht){if(De=!0,Qe=ht,Re){var Ct=J([Ve,Qe]),yt=St(r,Ct);tt(yt)}return ft}function Tt(){}return Je=Yr(Tt,_t,rr),et=Yr(Tt,_t,jt),U(T._closedPromise,function(ht){Lt(Je._readableStreamController,ht),Lt(et._readableStreamController,ht),(!Re||!De)&&tt(void 0)}),[Je,et]}function ba(r){var o=pe(r),T=!1,ie=!1,be=!1,Re=!1,De=!1,Ve,Qe,Je,et,tt,ft=F(function(ut){tt=ut});function _t(ut){U(ut._closedPromise,function(Ye){ut===o&&(Xe(Je._readableStreamController,Ye),Xe(et._readableStreamController,Ye),(!Re||!De)&&tt(void 0))})}function rr(){ct(o)&&(L(o),o=pe(r),_t(o));var ut={_chunkSteps:function(Ye){d(function(){ie=!1,be=!1;var rt=Ye,lt=Ye;if(!Re&&!De)try{lt=Ne(Ye)}catch(Rt){Xe(Je._readableStreamController,Rt),Xe(et._readableStreamController,Rt),tt(St(r,Rt));return}Re||He(Je._readableStreamController,rt),De||He(et._readableStreamController,lt),T=!1,ie?Tt():be&&ht()})},_closeSteps:function(){T=!1,Re||Ue(Je._readableStreamController),De||Ue(et._readableStreamController),Je._readableStreamController._pendingPullIntos.length>0&&st(Je._readableStreamController,0),et._readableStreamController._pendingPullIntos.length>0&&st(et._readableStreamController,0),(!Re||!De)&&tt(void 0)},_errorSteps:function(){T=!1}};Me(o,ut)}function jt(ut,Ye){Ie(o)&&(L(o),o=Gt(r),_t(o));var rt=Ye?et:Je,lt=Ye?Je:et,Rt={_chunkSteps:function(Ut){d(function(){ie=!1,be=!1;var nr=Ye?De:Re,hr=Ye?Re:De;if(hr)nr||pt(rt._readableStreamController,Ut);else{var In=void 0;try{In=Ne(Ut)}catch(Kr){Xe(rt._readableStreamController,Kr),Xe(lt._readableStreamController,Kr),tt(St(r,Kr));return}nr||pt(rt._readableStreamController,Ut),He(lt._readableStreamController,In)}T=!1,ie?Tt():be&&ht()})},_closeSteps:function(Ut){T=!1;var nr=Ye?De:Re,hr=Ye?Re:De;nr||Ue(rt._readableStreamController),hr||Ue(lt._readableStreamController),Ut!==void 0&&(nr||pt(rt._readableStreamController,Ut),!hr&&lt._readableStreamController._pendingPullIntos.length>0&&st(lt._readableStreamController,0)),(!nr||!hr)&&tt(void 0)},_errorSteps:function(){T=!1}};Dt(o,ut,Rt)}function Tt(){if(T)return ie=!0,w(void 0);T=!0;var ut=Ke(Je._readableStreamController);return ut===null?rr():jt(ut._view,!1),w(void 0)}function ht(){if(T)return be=!0,w(void 0);T=!0;var ut=Ke(et._readableStreamController);return ut===null?rr():jt(ut._view,!0),w(void 0)}function Ct(ut){if(Re=!0,Ve=ut,De){var Ye=J([Ve,Qe]),rt=St(r,Ye);tt(rt)}return ft}function yt(ut){if(De=!0,Qe=ut,Re){var Ye=J([Ve,Qe]),rt=St(r,Ye);tt(rt)}return ft}function xt(){}return Je=bn(xt,Tt,Ct),et=bn(xt,ht,yt),_t(o),[Je,et]}function Sa(r,o){ke(r,o);var T=r,ie=T==null?void 0:T.autoAllocateChunkSize,be=T==null?void 0:T.cancel,Re=T==null?void 0:T.pull,De=T==null?void 0:T.start,Ve=T==null?void 0:T.type;return{autoAllocateChunkSize:ie===void 0?void 0:Z(ie,o+" has member 'autoAllocateChunkSize' that"),cancel:be===void 0?void 0:_a(be,T,o+" has member 'cancel' that"),pull:Re===void 0?void 0:Aa(Re,T,o+" has member 'pull' that"),start:De===void 0?void 0:Pa(De,T,o+" has member 'start' that"),type:Ve===void 0?void 0:ka(Ve,o+" has member 'type' that")}}function _a(r,o,T){return Ee(r,T),function(ie){return b(r,o,[ie])}}function Aa(r,o,T){return Ee(r,T),function(ie){return b(r,o,[ie])}}function Pa(r,o,T){return Ee(r,T),function(ie){return S(r,o,[ie])}}function ka(r,o){if(r=""+r,r!=="bytes")throw new TypeError(o+" '"+r+"' is not a valid enumeration value for ReadableStreamType");return r}function Ta(r,o){ke(r,o);var T=r==null?void 0:r.mode;return{mode:T===void 0?void 0:Ca(T,o+" has member 'mode' that")}}function Ca(r,o){if(r=""+r,r!=="byob")throw new TypeError(o+" '"+r+"' is not a valid enumeration value for ReadableStreamReaderMode");return r}function Ra(r,o){ke(r,o);var T=r==null?void 0:r.preventCancel;return{preventCancel:!!T}}function mn(r,o){ke(r,o);var T=r==null?void 0:r.preventAbort,ie=r==null?void 0:r.preventCancel,be=r==null?void 0:r.preventClose,Re=r==null?void 0:r.signal;return Re!==void 0&&wa(Re,o+" has member 'signal' that"),{preventAbort:!!T,preventCancel:!!ie,preventClose:!!be,signal:Re}}function wa(r,o){if(!jn(r))throw new TypeError(o+" is not an AbortSignal.")}function Ea(r,o){ke(r,o);var T=r==null?void 0:r.readable;l(T,"readable","ReadableWritablePair"),ce(T,o+" has member 'readable' that");var ie=r==null?void 0:r.writable;return l(ie,"writable","ReadableWritablePair"),Qr(ie,o+" has member 'writable' that"),{readable:T,writable:ie}}var Nt=function(){function r(o,T){o===void 0&&(o={}),T===void 0&&(T={}),o===void 0?o=null:O(o,"First parameter");var ie=yr(T,"Second parameter"),be=Sa(o,"First parameter");if(qr(this),be.type==="bytes"){if(ie.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var Re=ir(ie,0);Pt(this,be,Re)}else{var De=pr(ie),Re=ir(ie,1);ya(this,be,Re,De)}}return Object.defineProperty(r.prototype,"locked",{get:function(){if(!Bt(this))throw Xt("locked");return Wt(this)},enumerable:!1,configurable:!0}),r.prototype.cancel=function(o){return o===void 0&&(o=void 0),Bt(this)?Wt(this)?I(new TypeError("Cannot cancel a stream that already has a reader")):St(this,o):I(Xt("cancel"))},r.prototype.getReader=function(o){if(o===void 0&&(o=void 0),!Bt(this))throw Xt("getReader");var T=Ta(o,"First parameter");return T.mode===void 0?pe(this):Gt(this)},r.prototype.pipeThrough=function(o,T){if(T===void 0&&(T={}),!Bt(this))throw Xt("pipeThrough");p(o,1,"pipeThrough");var ie=Ea(o,"First parameter"),be=mn(T,"Second parameter");if(Wt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Jt(ie.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var Re=pn(this,ie.writable,be.preventClose,be.preventAbort,be.preventCancel,be.signal);return h(Re),ie.readable},r.prototype.pipeTo=function(o,T){if(T===void 0&&(T={}),!Bt(this))return I(Xt("pipeTo"));if(o===void 0)return I("Parameter 1 is required in 'pipeTo'.");if(!Qt(o))return I(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var ie;try{ie=mn(T,"Second parameter")}catch(be){return I(be)}return Wt(this)?I(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Jt(o)?I(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):pn(this,o,ie.preventClose,ie.preventAbort,ie.preventCancel,ie.signal)},r.prototype.tee=function(){if(!Bt(this))throw Xt("tee");var o=ga(this);return J(o)},r.prototype.values=function(o){if(o===void 0&&(o=void 0),!Bt(this))throw Xt("values");var T=Ra(o,"First parameter");return re(this,T.preventCancel)},r}();Object.defineProperties(Nt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Nt.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),typeof e.asyncIterator=="symbol"&&Object.defineProperty(Nt.prototype,e.asyncIterator,{value:Nt.prototype.values,writable:!0,configurable:!0});function Yr(r,o,T,ie,be){ie===void 0&&(ie=1),be===void 0&&(be=function(){return 1});var Re=Object.create(Nt.prototype);qr(Re);var De=Object.create(er.prototype);return gn(Re,De,r,o,T,ie,be),Re}function bn(r,o,T){var ie=Object.create(Nt.prototype);qr(ie);var be=Object.create(Be.prototype);return dt(ie,be,r,o,T,0,void 0),ie}function qr(r){r._state="readable",r._reader=void 0,r._storedError=void 0,r._disturbed=!1}function Bt(r){return!f(r)||!Object.prototype.hasOwnProperty.call(r,"_readableStreamController")?!1:r instanceof Nt}function Wt(r){return r._reader!==void 0}function St(r,o){if(r._disturbed=!0,r._state==="closed")return w(void 0);if(r._state==="errored")return I(r._storedError);fr(r);var T=r._reader;T!==void 0&&ct(T)&&(T._readIntoRequests.forEach(function(be){be._closeSteps(void 0)}),T._readIntoRequests=new A);var ie=r._readableStreamController[M](o);return y(ie,a)}function fr(r){r._state="closed";var o=r._reader;o!==void 0&&(E(o),Ie(o)&&(o._readRequests.forEach(function(T){T._closeSteps()}),o._readRequests=new A))}function Sn(r,o){r._state="errored",r._storedError=o;var T=r._reader;T!==void 0&&($(T,o),Ie(T)?(T._readRequests.forEach(function(ie){ie._errorSteps(o)}),T._readRequests=new A):(T._readIntoRequests.forEach(function(ie){ie._errorSteps(o)}),T._readIntoRequests=new A))}function Xt(r){return new TypeError("ReadableStream.prototype."+r+" can only be used on a ReadableStream")}function _n(r,o){ke(r,o);var T=r==null?void 0:r.highWaterMark;return l(T,"highWaterMark","QueuingStrategyInit"),{highWaterMark:_(T)}}var An=function(r){return r.byteLength};Object.defineProperty(An,"name",{value:"size",configurable:!0});var wr=function(){function r(o){p(o,1,"ByteLengthQueuingStrategy"),o=_n(o,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=o.highWaterMark}return Object.defineProperty(r.prototype,"highWaterMark",{get:function(){if(!kn(this))throw Pn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){if(!kn(this))throw Pn("size");return An},enumerable:!1,configurable:!0}),r}();Object.defineProperties(wr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(wr.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Pn(r){return new TypeError("ByteLengthQueuingStrategy.prototype."+r+" can only be used on a ByteLengthQueuingStrategy")}function kn(r){return!f(r)||!Object.prototype.hasOwnProperty.call(r,"_byteLengthQueuingStrategyHighWaterMark")?!1:r instanceof wr}var Tn=function(){return 1};Object.defineProperty(Tn,"name",{value:"size",configurable:!0});var Er=function(){function r(o){p(o,1,"CountQueuingStrategy"),o=_n(o,"First parameter"),this._countQueuingStrategyHighWaterMark=o.highWaterMark}return Object.defineProperty(r.prototype,"highWaterMark",{get:function(){if(!Rn(this))throw Cn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){if(!Rn(this))throw Cn("size");return Tn},enumerable:!1,configurable:!0}),r}();Object.defineProperties(Er.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Er.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Cn(r){return new TypeError("CountQueuingStrategy.prototype."+r+" can only be used on a CountQueuingStrategy")}function Rn(r){return!f(r)||!Object.prototype.hasOwnProperty.call(r,"_countQueuingStrategyHighWaterMark")?!1:r instanceof Er}function xa(r,o){ke(r,o);var T=r==null?void 0:r.flush,ie=r==null?void 0:r.readableType,be=r==null?void 0:r.start,Re=r==null?void 0:r.transform,De=r==null?void 0:r.writableType;return{flush:T===void 0?void 0:Oa(T,r,o+" has member 'flush' that"),readableType:ie,start:be===void 0?void 0:Fa(be,r,o+" has member 'start' that"),transform:Re===void 0?void 0:Ia(Re,r,o+" has member 'transform' that"),writableType:De}}function Oa(r,o,T){return Ee(r,T),function(ie){return b(r,o,[ie])}}function Fa(r,o,T){return Ee(r,T),function(ie){return S(r,o,[ie])}}function Ia(r,o,T){return Ee(r,T),function(ie,be){return b(r,o,[ie,be])}}var xr=function(){function r(o,T,ie){o===void 0&&(o={}),T===void 0&&(T={}),ie===void 0&&(ie={}),o===void 0&&(o=null);var be=yr(T,"Second parameter"),Re=yr(ie,"Third parameter"),De=xa(o,"First parameter");if(De.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(De.writableType!==void 0)throw new RangeError("Invalid writableType specified");var Ve=ir(Re,0),Qe=pr(Re),Je=ir(be,1),et=pr(be),tt,ft=F(function(_t){tt=_t});Ma(this,ft,Je,et,Ve,Qe),La(this,De),De.start!==void 0?tt(De.start(this._transformStreamController)):tt(void 0)}return Object.defineProperty(r.prototype,"readable",{get:function(){if(!wn(this))throw Fn("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"writable",{get:function(){if(!wn(this))throw Fn("writable");return this._writable},enumerable:!1,configurable:!0}),r}();Object.defineProperties(xr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(xr.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});function Ma(r,o,T,ie,be,Re){function De(){return o}function Ve(ft){return Wa(r,ft)}function Qe(ft){return ja(r,ft)}function Je(){return Ua(r)}r._writable=zn(De,Ve,Je,Qe,T,ie);function et(){return Ga(r)}function tt(ft){return Fr(r,ft),w(void 0)}r._readable=Yr(De,et,tt,be,Re),r._backpressure=void 0,r._backpressureChangePromise=void 0,r._backpressureChangePromise_resolve=void 0,Ir(r,!0),r._transformStreamController=void 0}function wn(r){return!f(r)||!Object.prototype.hasOwnProperty.call(r,"_transformStreamController")?!1:r instanceof xr}function Or(r,o){Lt(r._readable._readableStreamController,o),Fr(r,o)}function Fr(r,o){En(r._transformStreamController),Ur(r._writable._writableStreamController,o),r._backpressure&&Ir(r,!1)}function Ir(r,o){r._backpressureChangePromise!==void 0&&r._backpressureChangePromise_resolve(),r._backpressureChangePromise=F(function(T){r._backpressureChangePromise_resolve=T}),r._backpressure=o}var dr=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"desiredSize",{get:function(){if(!Mr(this))throw Dr("desiredSize");var o=this._controlledTransformStream._readable._readableStreamController;return Xr(o)},enumerable:!1,configurable:!0}),r.prototype.enqueue=function(o){if(o===void 0&&(o=void 0),!Mr(this))throw Dr("enqueue");xn(this,o)},r.prototype.error=function(o){if(o===void 0&&(o=void 0),!Mr(this))throw Dr("error");Na(this,o)},r.prototype.terminate=function(){if(!Mr(this))throw Dr("terminate");Ba(this)},r}();Object.defineProperties(dr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(dr.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Mr(r){return!f(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledTransformStream")?!1:r instanceof dr}function Da(r,o,T,ie){o._controlledTransformStream=r,r._transformStreamController=o,o._transformAlgorithm=T,o._flushAlgorithm=ie}function La(r,o){var T=Object.create(dr.prototype),ie=function(Re){try{return xn(T,Re),w(void 0)}catch(De){return I(De)}},be=function(){return w(void 0)};o.transform!==void 0&&(ie=function(Re){return o.transform(Re,T)}),o.flush!==void 0&&(be=function(){return o.flush(T)}),Da(r,T,ie,be)}function En(r){r._transformAlgorithm=void 0,r._flushAlgorithm=void 0}function xn(r,o){var T=r._controlledTransformStream,ie=T._readable._readableStreamController;if(!tr(ie))throw new TypeError("Readable side is not in a state that permits enqueue");try{Cr(ie,o)}catch(Re){throw Fr(T,Re),T._readable._storedError}var be=pa(ie);be!==T._backpressure&&Ir(T,!0)}function Na(r,o){Or(r._controlledTransformStream,o)}function On(r,o){var T=r._transformAlgorithm(o);return y(T,void 0,function(ie){throw Or(r._controlledTransformStream,ie),ie})}function Ba(r){var o=r._controlledTransformStream,T=o._readable._readableStreamController;cr(T);var ie=new TypeError("TransformStream terminated");Fr(o,ie)}function Wa(r,o){var T=r._transformStreamController;if(r._backpressure){var ie=r._backpressureChangePromise;return y(ie,function(){var be=r._writable,Re=be._state;if(Re==="erroring")throw be._storedError;return On(T,o)})}return On(T,o)}function ja(r,o){return Or(r,o),w(void 0)}function Ua(r){var o=r._readable,T=r._transformStreamController,ie=T._flushAlgorithm();return En(T),y(ie,function(){if(o._state==="errored")throw o._storedError;cr(o._readableStreamController)},function(be){throw Or(r,be),o._storedError})}function Ga(r){return Ir(r,!1),r._backpressureChangePromise}function Dr(r){return new TypeError("TransformStreamDefaultController.prototype."+r+" can only be used on a TransformStreamDefaultController")}function Fn(r){return new TypeError("TransformStream.prototype."+r+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=wr,t.CountQueuingStrategy=Er,t.ReadableByteStreamController=Be,t.ReadableStream=Nt,t.ReadableStreamBYOBReader=bt,t.ReadableStreamBYOBRequest=We,t.ReadableStreamDefaultController=er,t.ReadableStreamDefaultReader=xe,t.TransformStream=xr,t.TransformStreamDefaultController=dr,t.WritableStream=or,t.WritableStreamDefaultController=Zt,t.WritableStreamDefaultWriter=sr,Object.defineProperty(t,"__esModule",{value:!0})})},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseStandardFontDataFactory=n.BaseSVGFactory=n.BaseCanvasFactory=n.BaseCMapReaderFactory=void 0;var e=i(t(2)),a=t(4);function i(I){return I&&I.__esModule?I:{default:I}}function c(I,C,W,k,U,y,h){try{var d=I[y](h),S=d.value}catch(b){W(b);return}d.done?C(S):Promise.resolve(S).then(k,U)}function f(I){return function(){var C=this,W=arguments;return new Promise(function(k,U){var y=I.apply(C,W);function h(S){c(y,k,U,h,d,"next",S)}function d(S){c(y,k,U,h,d,"throw",S)}h(void 0)})}}function m(I,C){if(!(I instanceof C))throw new TypeError("Cannot call a class as a function")}function R(I,C){for(var W=0;W<C.length;W++){var k=C[W];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}function B(I,C,W){return C&&R(I.prototype,C),I}var N=function(){function I(){m(this,I),this.constructor===I&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}return B(I,[{key:"create",value:function(W,k){if(W<=0||k<=0)throw new Error("Invalid canvas size");var U=this._createCanvas(W,k);return{canvas:U,context:U.getContext("2d")}}},{key:"reset",value:function(W,k,U){if(!W.canvas)throw new Error("Canvas is not specified");if(k<=0||U<=0)throw new Error("Invalid canvas size");W.canvas.width=k,W.canvas.height=U}},{key:"destroy",value:function(W){if(!W.canvas)throw new Error("Canvas is not specified");W.canvas.width=0,W.canvas.height=0,W.canvas=null,W.context=null}},{key:"_createCanvas",value:function(W,k){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}]),I}();n.BaseCanvasFactory=N;var G=function(){function I(C){var W=C.baseUrl,k=W===void 0?null:W,U=C.isCompressed,y=U===void 0?!1:U;m(this,I),this.constructor===I&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=k,this.isCompressed=y}return B(I,[{key:"fetch",value:function(){var C=f(e.default.mark(function k(U){var y=this,h,d,S;return e.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(h=U.name,this.baseUrl){v.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(h){v.next=5;break}throw new Error("CMap name must be specified.");case 5:return d=this.baseUrl+h+(this.isCompressed?".bcmap":""),S=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE,v.abrupt("return",this._fetchData(d,S).catch(function(A){throw new Error("Unable to load ".concat(y.isCompressed?"binary ":"","CMap at: ").concat(d))}));case 8:case"end":return v.stop()}},k,this)}));function W(k){return C.apply(this,arguments)}return W}()},{key:"_fetchData",value:function(W,k){(0,a.unreachable)("Abstract method `_fetchData` called.")}}]),I}();n.BaseCMapReaderFactory=G;var F=function(){function I(C){var W=C.baseUrl,k=W===void 0?null:W;m(this,I),this.constructor===I&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=k}return B(I,[{key:"fetch",value:function(){var C=f(e.default.mark(function k(U){var y,h;return e.default.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(y=U.filename,this.baseUrl){S.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(y){S.next=5;break}throw new Error("Font filename must be specified.");case 5:return h="".concat(this.baseUrl).concat(y),S.abrupt("return",this._fetchData(h).catch(function(b){throw new Error("Unable to load font data at: ".concat(h))}));case 7:case"end":return S.stop()}},k,this)}));function W(k){return C.apply(this,arguments)}return W}()},{key:"_fetchData",value:function(W){(0,a.unreachable)("Abstract method `_fetchData` called.")}}]),I}();n.BaseStandardFontDataFactory=F;var w=function(){function I(){m(this,I),this.constructor===I&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}return B(I,[{key:"create",value:function(W,k){if(W<=0||k<=0)throw new Error("Invalid SVG dimensions");var U=this._createSVG("svg:svg");return U.setAttribute("version","1.1"),U.setAttribute("width","".concat(W,"px")),U.setAttribute("height","".concat(k,"px")),U.setAttribute("preserveAspectRatio","none"),U.setAttribute("viewBox","0 0 ".concat(W," ").concat(k)),U}},{key:"createElement",value:function(W){if(typeof W!="string")throw new Error("Invalid SVG element type");return this._createSVG(W)}},{key:"_createSVG",value:function(W){(0,a.unreachable)("Abstract method `_createSVG` called.")}}]),I}();n.BaseSVGFactory=w},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(137),_node_utils=__w_pdfjs_require__(138),_annotation_storage=__w_pdfjs_require__(139),_canvas=__w_pdfjs_require__(140),_worker_options=__w_pdfjs_require__(142),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(143),_metadata=__w_pdfjs_require__(144),_optional_content_config=__w_pdfjs_require__(145),_transport_stream=__w_pdfjs_require__(146),_xfa_text=__w_pdfjs_require__(147);function _interopRequireDefault(u){return u&&u.__esModule?u:{default:u}}function _classPrivateFieldInitSpec(u,n,t){_checkPrivateRedeclaration(u,n),n.set(u,t)}function _checkPrivateRedeclaration(u,n){if(n.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(u,n,t){var e=_classExtractFieldDescriptor(u,n,"set");return _classApplyDescriptorSet(u,e,t),t}function _classApplyDescriptorSet(u,n,t){if(n.set)n.set.call(u,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}function _classPrivateFieldGet(u,n){var t=_classExtractFieldDescriptor(u,n,"get");return _classApplyDescriptorGet(u,t)}function _classExtractFieldDescriptor(u,n,t){if(!n.has(u))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(u)}function _classApplyDescriptorGet(u,n){return n.get?n.get.call(u):n.value}function _toConsumableArray(u){return _arrayWithoutHoles(u)||_iterableToArray(u)||_unsupportedIterableToArray(u)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(u){if(typeof Symbol<"u"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}function _arrayWithoutHoles(u){if(Array.isArray(u))return _arrayLikeToArray(u)}function _createForOfIteratorHelper(u,n){var t=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!t){if(Array.isArray(u)||(t=_unsupportedIterableToArray(u))||n){t&&(u=t);var e=0,a=function(){};return{s:a,n:function(){return e>=u.length?{done:!0}:{done:!1,value:u[e++]}},e:function(R){throw R},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,c=!1,f;return{s:function(){t=t.call(u)},n:function(){var R=t.next();return i=R.done,R},e:function(R){c=!0,f=R},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(c)throw f}}}}function _classCallCheck(u,n){if(!(u instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(u,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,e.key,e)}}function _createClass(u,n,t){return n&&_defineProperties(u.prototype,n),t&&_defineProperties(u,t),u}function asyncGeneratorStep(u,n,t,e,a,i,c){try{var f=u[i](c),m=f.value}catch(R){t(R);return}f.done?n(m):Promise.resolve(m).then(e,a)}function _asyncToGenerator(u){return function(){var n=this,t=arguments;return new Promise(function(e,a){var i=u.apply(n,t);function c(m){asyncGeneratorStep(i,e,a,c,f,"next",m)}function f(m){asyncGeneratorStep(i,e,a,c,f,"throw",m)}c(void 0)})}}function _slicedToArray(u,n){return _arrayWithHoles(u)||_iterableToArrayLimit(u,n)||_unsupportedIterableToArray(u,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(u,n){if(u){if(typeof u=="string")return _arrayLikeToArray(u,n);var t=Object.prototype.toString.call(u).slice(8,-1);if(t==="Object"&&u.constructor&&(t=u.constructor.name),t==="Map"||t==="Set")return Array.from(u);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(u,n)}}function _arrayLikeToArray(u,n){(n==null||n>u.length)&&(n=u.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=u[t];return e}function _iterableToArrayLimit(u,n){var t=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(t!=null){var e=[],a=!0,i=!1,c,f;try{for(t=t.call(u);!(a=(c=t.next()).done)&&(e.push(c.value),!(n&&e.length===n));a=!0);}catch(m){i=!0,f=m}finally{try{!a&&t.return!=null&&t.return()}finally{if(i)throw f}}return e}}function _arrayWithHoles(u){if(Array.isArray(u))return u}function _typeof(u){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(t){return typeof t}:_typeof=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(u)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var createPDFNetworkStream;function setPDFNetworkStreamFactory(u){createPDFNetworkStream=u}function getDocument(u){var n=new PDFDocumentLoadingTask,t;if(typeof u=="string"||u instanceof URL)t={url:u};else if((0,_util.isArrayBuffer)(u))t={data:u};else if(u instanceof PDFDataRangeTransport)t={range:u};else{if(_typeof(u)!=="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!u.url&&!u.data&&!u.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=u}var e=Object.create(null),a=null,i=null;for(var c in t){var f=t[c];switch(c){case"url":if(typeof window<"u")try{e[c]=new URL(f,window.location).href;continue}catch(B){(0,_util.warn)('Cannot create valid URL: "'.concat(B,'".'))}else if(typeof f=="string"||f instanceof URL){e[c]=f.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":a=f;continue;case"worker":i=f;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&f instanceof Buffer)e[c]=new Uint8Array(f);else{if(f instanceof Uint8Array)break;if(typeof f=="string")e[c]=(0,_util.stringToBytes)(f);else if(_typeof(f)==="object"&&f!==null&&!isNaN(f.length))e[c]=new Uint8Array(f);else if((0,_util.isArrayBuffer)(f))e[c]=new Uint8Array(f);else throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.")}continue}e[c]=f}if(e.rangeChunkSize=e.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,e.CMapReaderFactory=e.CMapReaderFactory||DefaultCMapReaderFactory,e.StandardFontDataFactory=e.StandardFontDataFactory||DefaultStandardFontDataFactory,e.ignoreErrors=e.stopAtErrors!==!0,e.fontExtraProperties=e.fontExtraProperties===!0,e.pdfBug=e.pdfBug===!0,e.enableXfa=e.enableXfa===!0,(typeof e.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(e.docBaseUrl))&&(e.docBaseUrl=null),Number.isInteger(e.maxImageSize)||(e.maxImageSize=-1),typeof e.useWorkerFetch!="boolean"&&(e.useWorkerFetch=e.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&e.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof e.isEvalSupported!="boolean"&&(e.isEvalSupported=!0),typeof e.disableFontFace!="boolean"&&(e.disableFontFace=_is_node.isNodeJS),typeof e.useSystemFonts!="boolean"&&(e.useSystemFonts=!_is_node.isNodeJS&&!e.disableFontFace),typeof e.ownerDocument>"u"&&(e.ownerDocument=globalThis.document),typeof e.disableRange!="boolean"&&(e.disableRange=!1),typeof e.disableStream!="boolean"&&(e.disableStream=!1),typeof e.disableAutoFetch!="boolean"&&(e.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(e.verbosity),!i){var m={verbosity:e.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};i=m.port?PDFWorker.fromPort(m):new PDFWorker(m),n._worker=i}var R=n.docId;return i.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");var B=_fetchDocument(i,e,a,R),N=new Promise(function(G){var F;a?F=new _transport_stream.PDFDataTransportStream({length:e.length,initialData:e.initialData,progressiveDone:e.progressiveDone,contentDispositionFilename:e.contentDispositionFilename,disableRange:e.disableRange,disableStream:e.disableStream},a):e.data||(F=createPDFNetworkStream({url:e.url,length:e.length,httpHeaders:e.httpHeaders,withCredentials:e.withCredentials,rangeChunkSize:e.rangeChunkSize,disableRange:e.disableRange,disableStream:e.disableStream})),G(F)});return Promise.all([B,N]).then(function(G){var F=_slicedToArray(G,2),w=F[0],I=F[1];if(n.destroyed)throw new Error("Loading aborted");var C=new _message_handler.MessageHandler(R,w,i.port),W=new WorkerTransport(C,n,I,e);n._transport=W,C.send("Ready",null)})}).catch(n._capability.reject),n}function _fetchDocument(u,n,t,e){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return _fetchDocument2=_asyncToGenerator(_regenerator.default.mark(function u(n,t,e,a){var i;return _regenerator.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!n.destroyed){f.next=2;break}throw new Error("Worker was destroyed");case 2:return e&&(t.length=e.length,t.initialData=e.initialData,t.progressiveDone=e.progressiveDone,t.contentDispositionFilename=e.contentDispositionFilename),f.next=5,n.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.12.313",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null});case 5:if(i=f.sent,!n.destroyed){f.next=8;break}throw new Error("Worker was destroyed");case 8:return f.abrupt("return",i);case 9:case"end":return f.stop()}},u)})),_fetchDocument2.apply(this,arguments)}var PDFDocumentLoadingTask=function(){function u(){_classCallCheck(this,u),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat(u.idCounters.doc++),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(u,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var n=_asyncToGenerator(_regenerator.default.mark(function e(){var a;return _regenerator.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.destroyed=!0,c.next=3,(a=this._transport)===null||a===void 0?void 0:a.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return c.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()}],[{key:"idCounters",get:function(){return(0,_util.shadow)(this,"idCounters",{doc:0})}}]),u}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function u(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;_classCallCheck(this,u),this.length=n,this.initialData=t,this.progressiveDone=e,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(u,[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,e){var a=_createForOfIteratorHelper(this._rangeListeners),i;try{for(a.s();!(i=a.n()).done;){var c=i.value;c(t,e)}}catch(f){a.e(f)}finally{a.f()}}},{key:"onDataProgress",value:function(t,e){var a=this;this._readyCapability.promise.then(function(){var i=_createForOfIteratorHelper(a._progressListeners),c;try{for(i.s();!(c=i.n()).done;){var f=c.value;f(t,e)}}catch(m){i.e(m)}finally{i.f()}})}},{key:"onDataProgressiveRead",value:function(t){var e=this;this._readyCapability.promise.then(function(){var a=_createForOfIteratorHelper(e._progressiveReadListeners),i;try{for(a.s();!(i=a.n()).done;){var c=i.value;c(t)}}catch(f){a.e(f)}finally{a.f()}})}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then(function(){var e=_createForOfIteratorHelper(t._progressiveDoneListeners),a;try{for(e.s();!(a=e.n()).done;){var i=a.value;i()}}catch(c){e.e(c)}finally{e.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),u}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function u(n,t){var e=this;_classCallCheck(this,u),this._pdfInfo=n,this._transport=t,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:function(){var a=_asyncToGenerator(_regenerator.default.mark(function c(){return _regenerator.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),m.abrupt("return",e.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return m.stop()}},c)}));function i(){return a.apply(this,arguments)}return i}()})}return _createClass(u,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"stats",get:function(){return this._transport.stats}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(t||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),u}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function u(n,t,e,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;_classCallCheck(this,u),this._pageIndex=n,this._pageInfo=t,this._ownerDocument=a,this._transport=e,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=e.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}return _createClass(u,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.scale,a=t.rotation,i=a===void 0?this.rotate:a,c=t.offsetX,f=c===void 0?0:c,m=t.offsetY,R=m===void 0?0:m,B=t.dontFlip,N=B===void 0?!1:B;return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:i,offsetX:f,offsetY:R,dontFlip:N})}},{key:"getAnnotations",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.intent,a=e===void 0?"display":e,i=this._transport.getRenderingIntent(a),c=this._annotationPromises.get(i.cacheKey);return c||(c=this._transport.getAnnotations(this._pageIndex,i.renderingIntent),this._annotationPromises.set(i.cacheKey,c),c=c.then(function(f){var m=_createForOfIteratorHelper(f),R;try{var B=function(){var G=R.value;G.titleObj!==void 0&&Object.defineProperty(G,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),G.titleObj.str}}),G.contentsObj!==void 0&&Object.defineProperty(G,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),G.contentsObj.str}})};for(m.s();!(R=m.n()).done;)B()}catch(N){m.e(N)}finally{m.f()}return f})),c}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){var n=_asyncToGenerator(_regenerator.default.mark(function e(){var a;return _regenerator.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",((a=this._transport._htmlForXfa)===null||a===void 0?void 0:a.children[this._pageIndex])||null);case 1:case"end":return c.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"render",value:function(t){var e,a,i=this,c,f=t.canvasContext,m=t.viewport,R=t.intent,B=R===void 0?"display":R,N=t.annotationMode,G=N===void 0?_util.AnnotationMode.ENABLE:N,F=t.transform,w=F===void 0?null:F,I=t.imageLayer,C=I===void 0?null:I,W=t.canvasFactory,k=W===void 0?null:W,U=t.background,y=U===void 0?null:U,h=t.optionalContentConfigPromise,d=h===void 0?null:h,S=t.annotationCanvasMap,b=S===void 0?null:S;((e=arguments[0])===null||e===void 0?void 0:e.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&G===_util.AnnotationMode.ENABLE&&(G=_util.AnnotationMode.ENABLE_FORMS)),((a=arguments[0])===null||a===void 0?void 0:a.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&G===_util.AnnotationMode.ENABLE&&(G=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var v=this._transport.getRenderingIntent(B,G);this.pendingCleanup=!1,d||(d=this._transport.getOptionalContentConfig());var A=this._intentStates.get(v.cacheKey);A||(A=Object.create(null),this._intentStates.set(v.cacheKey,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);var x=k||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),H=!!(v.renderingIntent&_util.RenderingIntentFlag.PRINT);A.displayReadyCapability||(A.displayReadyCapability=(0,_util.createPromiseCapability)(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(v));var L=function(oe){A.renderTasks.delete(X),(i.cleanupAfterRender||H)&&(i.pendingCleanup=!0),i._tryCleanup(),oe?(X.capability.reject(oe),i._abortOperatorList({intentState:A,reason:oe instanceof Error?oe:new Error(oe)})):X.capability.resolve(),i._stats&&(i._stats.timeEnd("Rendering"),i._stats.timeEnd("Overall"))},X=new InternalRenderTask({callback:L,params:{canvasContext:f,viewport:m,transform:w,imageLayer:C,background:y},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:b,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:x,useRequestAnimationFrame:!H,pdfBug:this._pdfBug});((c=A).renderTasks||(c.renderTasks=new Set)).add(X);var te=X.task;return Promise.all([A.displayReadyCapability.promise,d]).then(function(ee){var oe=_slicedToArray(ee,2),$=oe[0],q=oe[1];if(i.pendingCleanup){L();return}i._stats&&i._stats.time("Rendering"),X.initializeGraphics({transparency:$,optionalContentConfig:q}),X.operatorListChanged()}).catch(L),te}},{key:"getOperatorList",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.intent,a=e===void 0?"display":e,i=t.annotationMode,c=i===void 0?_util.AnnotationMode.ENABLE:i;function f(){R.operatorList.lastChunk&&(R.opListReadCapability.resolve(R.operatorList),R.renderTasks.delete(B))}var m=this._transport.getRenderingIntent(a,c,!0),R=this._intentStates.get(m.cacheKey);R||(R=Object.create(null),this._intentStates.set(m.cacheKey,R));var B;if(!R.opListReadCapability){var N;B=Object.create(null),B.operatorListChanged=f,R.opListReadCapability=(0,_util.createPromiseCapability)(),((N=R).renderTasks||(N.renderTasks=new Set)).add(B),R.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(m)}return R.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.normalizeWhitespace,a=e===void 0?!1:e,i=t.disableCombineTextItems,c=i===void 0?!1:i,f=t.includeMarkedContent,m=f===void 0?!1:f,R=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:a===!0,combineTextItems:c!==!0,includeMarkedContent:m===!0},{highWaterMark:R,size:function(N){return N.items.length}})}},{key:"getTextContent",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(function(a){return _xfa_text.XfaText.textContent(a)});var e=this.streamTextContent(t);return new Promise(function(a,i){function c(){f.read().then(function(R){var B,N=R.value,G=R.done;if(G){a(m);return}Object.assign(m.styles,N.styles),(B=m.items).push.apply(B,_toConsumableArray(N.items)),c()},i)}var f=e.getReader(),m={items:[],styles:Object.create(null)};c()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0;var t=[],e=_createForOfIteratorHelper(this._intentStates.values()),a;try{for(e.s();!(a=e.n()).done;){var i=a.value;if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability){var c=_createForOfIteratorHelper(i.renderTasks),f;try{for(c.s();!(f=c.n()).done;){var m=f.value;t.push(m.completed),m.cancel()}}catch(R){c.e(R)}finally{c.f()}}}}catch(R){e.e(R)}finally{e.f()}return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pendingCleanup=!0,this._tryCleanup(t)}},{key:"_tryCleanup",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.pendingCleanup)return!1;var e=_createForOfIteratorHelper(this._intentStates.values()),a;try{for(e.s();!(a=e.n()).done;){var i=a.value,c=i.renderTasks,f=i.operatorList;if(c.size>0||!f.lastChunk)return!1}}catch(m){e.e(m)}finally{e.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(t,e){var a=this._intentStates.get(e);a&&(this._stats&&this._stats.timeEnd("Page Request"),a.displayReadyCapability&&a.displayReadyCapability.resolve(t))}},{key:"_renderPageChunk",value:function(t,e){for(var a=0,i=t.length;a<i;a++)e.operatorList.fnArray.push(t.fnArray[a]),e.operatorList.argsArray.push(t.argsArray[a]);e.operatorList.lastChunk=t.lastChunk;var c=_createForOfIteratorHelper(e.renderTasks),f;try{for(c.s();!(f=c.n()).done;){var m=f.value;m.operatorListChanged()}}catch(R){c.e(R)}finally{c.f()}t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(t){var e=this,a=t.renderingIntent,i=t.cacheKey,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:i,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}),f=c.getReader(),m=this._intentStates.get(i);m.streamReader=f;var R=function B(){f.read().then(function(N){var G=N.value,F=N.done;if(F){m.streamReader=null;return}e._transport.destroyed||(e._renderPageChunk(G,m),B())},function(N){if(m.streamReader=null,!e._transport.destroyed){if(m.operatorList){m.operatorList.lastChunk=!0;var G=_createForOfIteratorHelper(m.renderTasks),F;try{for(G.s();!(F=G.n()).done;){var w=F.value;w.operatorListChanged()}}catch(I){G.e(I)}finally{G.f()}e._tryCleanup()}if(m.displayReadyCapability)m.displayReadyCapability.reject(N);else if(m.opListReadCapability)m.opListReadCapability.reject(N);else throw N}})};R()}},{key:"_abortOperatorList",value:function(t){var e=this,a=t.intentState,i=t.reason,c=t.force,f=c===void 0?!1:c;if(a.streamReader){if(!f){if(a.renderTasks.size>0)return;if(i instanceof _display_utils.RenderingCancelledException){a.streamReaderCancelTimeout=setTimeout(function(){e._abortOperatorList({intentState:a,reason:i,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(a.streamReader.cancel(new _util.AbortException(i.message)).catch(function(){}),a.streamReader=null,!this._transport.destroyed){var m=_createForOfIteratorHelper(this._intentStates),R;try{for(m.s();!(R=m.n()).done;){var B=_slicedToArray(R.value,2),N=B[0],G=B[1];if(G===a){this._intentStates.delete(N);break}}}catch(F){m.e(F)}finally{m.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),u}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function u(){_classCallCheck(this,u),this._listeners=[],this._deferred=Promise.resolve()}return _createClass(u,[{key:"postMessage",value:function(t,e){var a=this;function i(f){if(globalThis.structuredClone)return globalThis.structuredClone(f,e);function m(B){if(typeof B=="function"||_typeof(B)==="symbol"||B instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(B==null?void 0:B.toString()));if(_typeof(B)!=="object"||B===null)return B;if(R.has(B))return R.get(B);var N,G;if((N=B.buffer)&&(0,_util.isArrayBuffer)(N))return e!=null&&e.includes(N)?G=new B.constructor(N,B.byteOffset,B.byteLength):G=new B.constructor(B),R.set(B,G),G;if(B instanceof Map){G=new Map,R.set(B,G);var F=_createForOfIteratorHelper(B),w;try{for(F.s();!(w=F.n()).done;){var I=_slicedToArray(w.value,2),C=I[0],W=I[1];G.set(C,m(W))}}catch(v){F.e(v)}finally{F.f()}return G}if(B instanceof Set){G=new Set,R.set(B,G);var k=_createForOfIteratorHelper(B),U;try{for(k.s();!(U=k.n()).done;){var y=U.value;G.add(m(y))}}catch(v){k.e(v)}finally{k.f()}return G}G=Array.isArray(B)?[]:Object.create(null),R.set(B,G);for(var h in B){for(var d,S=void 0,b=B;!(S=Object.getOwnPropertyDescriptor(b,h));)b=Object.getPrototypeOf(b);typeof S.value>"u"||typeof S.value=="function"&&!((d=B.hasOwnProperty)!==null&&d!==void 0&&d.call(B,h))||(G[h]=m(S.value))}return G}var R=new WeakMap;return m(f)}var c={data:i(t)};this._deferred.then(function(){var f=_createForOfIteratorHelper(a._listeners),m;try{for(f.s();!(m=f.n()).done;){var R=m.value;R.call(a,c)}}catch(B){f.e(B)}finally{f.f()}})}},{key:"addEventListener",value:function(t,e){this._listeners.push(e)}},{key:"removeEventListener",value:function(t,e){var a=this._listeners.indexOf(e);this._listeners.splice(a,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),u}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if((typeof document>"u"?"undefined":_typeof(document))==="object"){var _document,_document$currentScri,pdfjsFilePath=(_document=document)===null||_document===void 0||(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(u){var n='importScripts("'.concat(u,'");');return URL.createObjectURL(new Blob([n]))}}var PDFWorker=function(){function PDFWorker(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=u.name,t=n===void 0?null:n,e=u.port,a=e===void 0?null:e,i=u.verbosity,c=i===void 0?(0,_util.getVerbosityLevel)():i;if(_classCallCheck(this,PDFWorker),a&&PDFWorker._workerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=c,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a){PDFWorker._workerPorts.set(a,this),this._initializeFromPort(a);return}this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(n){this._port=n,this._messageHandler=new _message_handler.MessageHandler("main","worker",n),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var n=this;if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var t=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));var e=new Worker(t),a=new _message_handler.MessageHandler("main","worker",e),i=function(){e.removeEventListener("error",c),a.destroy(),e.terminate(),n.destroyed?n._readyCapability.reject(new Error("Worker was destroyed")):n._setupFakeWorker()},c=function(){n._webWorker||i()};e.addEventListener("error",c),a.on("test",function(m){if(e.removeEventListener("error",c),n.destroyed){i();return}m?(n._messageHandler=a,n._port=e,n._webWorker=e,n._readyCapability.resolve(),a.send("configure",{verbosity:n.verbosity})):(n._setupFakeWorker(),a.destroy(),e.terminate())}),a.on("ready",function(m){if(e.removeEventListener("error",c),n.destroyed){i();return}try{f()}catch{n._setupFakeWorker()}});var f=function(){var R=new Uint8Array([255]);try{a.send("test",R,[R.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),R[0]=0,a.send("test",R)}};f();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var n=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(function(t){if(n.destroyed){n._readyCapability.reject(new Error("Worker was destroyed"));return}var e=new LoopbackPort;n._port=e;var a="fake".concat(PDFWorkerUtil.fakeWorkerId++),i=new _message_handler.MessageHandler(a+"_worker",a,e);t.setup(i,e);var c=new _message_handler.MessageHandler(a,a+"_worker",e);n._messageHandler=c,n._readyCapability.resolve(),c.send("configure",{verbosity:n.verbosity})}).catch(function(t){n._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"_workerPorts",get:function(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}},{key:"fromPort",value:function(n){if(!(n!=null&&n.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(n.port)?this._workerPorts.get(n.port):new PDFWorker(n)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var n;return((n=globalThis.pdfjsWorker)===null||n===void 0?void 0:n.WorkerMessageHandler)||null}catch{return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this11=this,loader=function(){var _ref15=_asyncToGenerator(_regenerator.default.mark(function _callee4(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(mainWorkerMessageHandler=_this11._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context4.next=3;break}return _context4.abrupt("return",mainWorkerMessageHandler);case 3:if(!(_is_node.isNodeJS&&typeof commonjsRequire=="function")){_context4.next=6;break}return worker=eval("require")(_this11.workerSrc),_context4.abrupt("return",worker.WorkerMessageHandler);case 6:return _context4.next=8,(0,_display_utils.loadScript)(_this11.workerSrc);case 8:return _context4.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context4.stop()}},_callee4)}));return function u(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap,WorkerTransport=function(){function u(n,t,e,a){_classCallCheck(this,u),_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=n,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this._params=a,a.useWorkerFetch||(this.CMapReaderFactory=new a.CMapReaderFactory({baseUrl:a.cMapUrl,isCompressed:a.cMapPacked}),this.StandardFontDataFactory=new a.StandardFontDataFactory({baseUrl:a.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=e,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(u,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"stats",get:function(){return _classPrivateFieldGet(this,_docStats)}},{key:"getRenderingIntent",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=_util.RenderingIntentFlag.DISPLAY,c="";switch(t){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(t))}switch(e){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,c=this.annotationStorage.lastModified;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(e))}return a&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:"".concat(i,"_").concat(c)}}},{key:"destroy",value:function(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var e=[],a=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),i;try{for(a.s();!(i=a.n()).done;){var c=i.value;e.push(c._destroy())}}catch(m){a.e(m)}finally{a.f()}_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var f=this.messageHandler.sendWithPromise("Terminate",null);return e.push(f),Promise.all(e).then(function(){t.commonObjs.clear(),t.fontLoader.clear(),_classPrivateFieldSet(t,_metadataPromise,null),t._getFieldObjectsPromise=null,t._hasJSActionsPromise=null,t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,e=this.messageHandler,a=this.loadingTask;e.on("GetReader",function(i,c){(0,_util.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(f){t._lastProgress={loaded:f.loaded,total:f.total}},c.onPull=function(){t._fullReader.read().then(function(f){var m=f.value,R=f.done;if(R){c.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(m),"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(m),1,[m])}).catch(function(f){c.error(f)})},c.onCancel=function(f){t._fullReader.cancel(f),c.ready.catch(function(m){if(!t.destroyed)throw m})}}),e.on("ReaderHeadersReady",function(i){var c=(0,_util.createPromiseCapability)(),f=t._fullReader;return f.headersReady.then(function(){if(!f.isStreamingSupported||!f.isRangeSupported){if(t._lastProgress){var m;(m=a.onProgress)===null||m===void 0||m.call(a,t._lastProgress)}f.onProgress=function(R){var B;(B=a.onProgress)===null||B===void 0||B.call(a,{loaded:R.loaded,total:R.total})}}c.resolve({isStreamingSupported:f.isStreamingSupported,isRangeSupported:f.isRangeSupported,contentLength:f.contentLength})},c.reject),c.promise}),e.on("GetRangeReader",function(i,c){(0,_util.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var f=t._networkStream.getRangeReader(i.begin,i.end);if(!f){c.close();return}c.onPull=function(){f.read().then(function(m){var R=m.value,B=m.done;if(B){c.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(R),"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(R),1,[R])}).catch(function(m){c.error(m)})},c.onCancel=function(m){f.cancel(m),c.ready.catch(function(R){if(!t.destroyed)throw R})}}),e.on("GetDoc",function(i){var c=i.pdfInfo;t._numPages=c.numPages,t._htmlForXfa=c.htmlForXfa,delete c.htmlForXfa,a._capability.resolve(new PDFDocumentProxy(c,t))}),e.on("DocException",function(i){var c;switch(i.name){case"PasswordException":c=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":c=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}a._capability.reject(c)}),e.on("PasswordRequest",function(i){if(t._passwordCapability=(0,_util.createPromiseCapability)(),a.onPassword){var c=function(m){t._passwordCapability.resolve({password:m})};try{a.onPassword(c,i.code)}catch(f){t._passwordCapability.reject(f)}}else t._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return t._passwordCapability.promise}),e.on("DataLoaded",function(i){var c;(c=a.onProgress)===null||c===void 0||c.call(a,{loaded:i.length,total:i.length}),t.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",function(i){if(!t.destroyed){var c=_classPrivateFieldGet(t,_pageCache).get(i.pageIndex);c._startRenderPage(i.transparency,i.cacheKey)}}),e.on("commonobj",function(i){var c,f=_slicedToArray(i,3),m=f[0],R=f[1],B=f[2];if(!t.destroyed&&!t.commonObjs.has(m))switch(R){case"Font":var N=t._params;if("error"in B){var G=B.error;(0,_util.warn)("Error during font loading: ".concat(G)),t.commonObjs.resolve(m,G);break}var F=null;N.pdfBug&&(c=globalThis.FontInspector)!==null&&c!==void 0&&c.enabled&&(F={registerFont:function(C,W){globalThis.FontInspector.fontAdded(C,W)}});var w=new _font_loader.FontFaceObject(B,{isEvalSupported:N.isEvalSupported,disableFontFace:N.disableFontFace,ignoreErrors:N.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:F});t.fontLoader.bind(w).catch(function(I){return e.sendWithPromise("FontFallback",{id:m})}).finally(function(){!N.fontExtraProperties&&w.data&&(w.data=null),t.commonObjs.resolve(m,w)});break;case"FontPath":case"Image":t.commonObjs.resolve(m,B);break;default:throw new Error("Got unknown common object type ".concat(R))}}),e.on("obj",function(i){var c,f=_slicedToArray(i,4),m=f[0],R=f[1],B=f[2],N=f[3];if(!t.destroyed){var G=_classPrivateFieldGet(t,_pageCache).get(R);if(!G.objs.has(m))switch(B){case"Image":G.objs.resolve(m,N);var F=8e6;(N==null||(c=N.data)===null||c===void 0?void 0:c.length)>F&&(G.cleanupAfterRender=!0);break;case"Pattern":G.objs.resolve(m,N);break;default:throw new Error("Got unknown object type ".concat(B))}}}),e.on("DocProgress",function(i){var c;t.destroyed||(c=a.onProgress)===null||c===void 0||c.call(a,{loaded:i.loaded,total:i.total})}),e.on("DocStats",function(i){t.destroyed||_classPrivateFieldSet(t,_docStats,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",function(i){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.CMapReaderFactory?t.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),e.on("FetchStandardFontData",function(i){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.StandardFontDataFactory?t.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(t){var e,a,i=t.featureId;this.destroyed||(e=(a=this.loadingTask).onUnsupportedFeature)===null||e===void 0||e.call(a,i)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(t){var e=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));var a=t-1,i=_classPrivateFieldGet(this,_pagePromises).get(a);if(i)return i;var c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:a}).then(function(f){if(e.destroyed)throw new Error("Transport destroyed");var m=new PDFPageProxy(a,f,e,e._params.ownerDocument,e._params.pdfBug);return _classPrivateFieldGet(e,_pageCache).set(a,m),m});return _classPrivateFieldGet(this,_pagePromises).set(a,c),c}},{key:"getPageIndex",value:function(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t})}},{key:"getAnnotations",value:function(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}},{key:"saveDocument",value:function(){var t,e,a=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(t=(e=this._fullReader)===null||e===void 0?void 0:e.filename)!==null&&t!==void 0?t:null}).finally(function(){a.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getStructTree",value:function(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(t){return new _optional_content_config.OptionalContentConfig(t)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){var a,i,c,f;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:(a=(i=t._fullReader)===null||i===void 0?void 0:i.filename)!==null&&a!==void 0?a:null,contentLength:(c=(f=t._fullReader)===null||f===void 0?void 0:f.contentLength)!==null&&c!==void 0?c:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:function(){var n=_asyncToGenerator(_regenerator.default.mark(function e(){var a,i,c,f,m,R=arguments;return _regenerator.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return a=R.length>0&&R[0]!==void 0?R[0]:!1,N.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){N.next=5;break}return N.abrupt("return");case 5:i=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),N.prev=6,i.s();case 8:if((c=i.n()).done){N.next=15;break}if(f=c.value,m=f.cleanup(),m){N.next=13;break}throw new Error("startCleanup: Page ".concat(f.pageNumber," is currently rendering."));case 13:N.next=8;break;case 15:N.next=20;break;case 17:N.prev=17,N.t0=N.catch(6),i.e(N.t0);case 20:return N.prev=20,i.f(),N.finish(20);case 23:this.commonObjs.clear(),a||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return N.stop()}},e,this,[[6,17,20,23]])}));function t(){return n.apply(this,arguments)}return t}()},{key:"loadingParams",get:function(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}]),u}(),PDFObjects=function(){function u(){_classCallCheck(this,u),this._objs=Object.create(null)}return _createClass(u,[{key:"_ensureObj",value:function(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(e)return this._ensureObj(t).capability.promise.then(e),null;var a=this._objs[t];if(!a||!a.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return a.data}},{key:"has",value:function(t){var e=this._objs[t];return(e==null?void 0:e.resolved)||!1}},{key:"resolve",value:function(t,e){var a=this._ensureObj(t);a.resolved=!0,a.data=e,a.capability.resolve(e)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),u}(),RenderTask=function(){function u(n){_classCallCheck(this,u),this._internalRenderTask=n,this.onContinue=null}return _createClass(u,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),u}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function u(n){var t=n.callback,e=n.params,a=n.objs,i=n.commonObjs,c=n.annotationCanvasMap,f=n.operatorList,m=n.pageIndex,R=n.canvasFactory,B=n.useRequestAnimationFrame,N=B===void 0?!1:B,G=n.pdfBug,F=G===void 0?!1:G;_classCallCheck(this,u),this.callback=t,this.params=e,this.objs=a,this.commonObjs=i,this.annotationCanvasMap=c,this.operatorListIdx=null,this.operatorList=f,this._pageIndex=m,this.canvasFactory=R,this._pdfBug=F,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=N===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}return _createClass(u,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(t){var e,a=t.transparency,i=a===void 0?!1:a,c=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(u.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u.canvasInUse.add(this._canvas)}this._pdfBug&&(e=globalThis.StepperManager)!==null&&e!==void 0&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var f=this.params,m=f.canvasContext,R=f.viewport,B=f.transform,N=f.imageLayer,G=f.background;this.gfx=new _canvas.CanvasGraphics(m,this.commonObjs,this.objs,this.canvasFactory,N,c,this.annotationCanvasMap),this.gfx.beginDrawing({transform:B,viewport:R,transparency:i,background:G}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&u.canvasInUse.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){t._nextBound().catch(t._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:function(){var n=_asyncToGenerator(_regenerator.default.mark(function e(){return _regenerator.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.cancelled){i.next=2;break}return i.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&u.canvasInUse.delete(this._canvas),this.callback()));case 4:case"end":return i.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()}],[{key:"canvasInUse",get:function(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}}]),u}(),version="2.12.313";exports.version=version;var build="a2ae56f39";exports.build=build},(u,n,t)=>{function e(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(x){return typeof x}:e=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},e(v)}Object.defineProperty(n,"__esModule",{value:!0}),n.FontLoader=n.FontFaceObject=void 0;var a=c(t(2)),i=t(4);function c(v){return v&&v.__esModule?v:{default:v}}function f(v,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(A&&A.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),A&&m(v,A)}function m(v,A){return m=Object.setPrototypeOf||function(H,L){return H.__proto__=L,H},m(v,A)}function R(v){var A=G();return function(){var H=F(v),L;if(A){var X=F(this).constructor;L=Reflect.construct(H,arguments,X)}else L=H.apply(this,arguments);return B(this,L)}}function B(v,A){if(A&&(e(A)==="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(v)}function N(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(v){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},F(v)}function w(v,A,x,H,L,X,te){try{var ee=v[X](te),oe=ee.value}catch($){x($);return}ee.done?A(oe):Promise.resolve(oe).then(H,L)}function I(v){return function(){var A=this,x=arguments;return new Promise(function(H,L){var X=v.apply(A,x);function te(oe){w(X,H,L,te,ee,"next",oe)}function ee(oe){w(X,H,L,te,ee,"throw",oe)}te(void 0)})}}function C(v,A){var x=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!x){if(Array.isArray(v)||(x=W(v))||A){x&&(v=x);var H=0,L=function(){};return{s:L,n:function(){return H>=v.length?{done:!0}:{done:!1,value:v[H++]}},e:function($){throw $},f:L}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X=!0,te=!1,ee;return{s:function(){x=x.call(v)},n:function(){var $=x.next();return X=$.done,$},e:function($){te=!0,ee=$},f:function(){try{!X&&x.return!=null&&x.return()}finally{if(te)throw ee}}}}function W(v,A){if(v){if(typeof v=="string")return k(v,A);var x=Object.prototype.toString.call(v).slice(8,-1);if(x==="Object"&&v.constructor&&(x=v.constructor.name),x==="Map"||x==="Set")return Array.from(v);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return k(v,A)}}function k(v,A){(A==null||A>v.length)&&(A=v.length);for(var x=0,H=new Array(A);x<A;x++)H[x]=v[x];return H}function U(v,A){if(!(v instanceof A))throw new TypeError("Cannot call a class as a function")}function y(v,A){for(var x=0;x<A.length;x++){var H=A[x];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(v,H.key,H)}}function h(v,A,x){return A&&y(v.prototype,A),v}var d=function(){function v(A){var x=A.docId,H=A.onUnsupportedFeature,L=A.ownerDocument,X=L===void 0?globalThis.document:L;A.styleElement,U(this,v),this.constructor===v&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=x,this._onUnsupportedFeature=H,this._document=X,this.nativeFontFaces=[],this.styleElement=null}return h(v,[{key:"addNativeFontFace",value:function(x){this.nativeFontFaces.push(x),this._document.fonts.add(x)}},{key:"insertRule",value:function(x){var H=this.styleElement;H||(H=this.styleElement=this._document.createElement("style"),H.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(H));var L=H.sheet;L.insertRule(x,L.cssRules.length)}},{key:"clear",value:function(){var x=C(this.nativeFontFaces),H;try{for(x.s();!(H=x.n()).done;){var L=H.value;this._document.fonts.delete(L)}}catch(X){x.e(X)}finally{x.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var A=I(a.default.mark(function H(L){var X=this,te,ee;return a.default.wrap(function($){for(;;)switch($.prev=$.next){case 0:if(!(L.attached||L.missingFile)){$.next=2;break}return $.abrupt("return");case 2:if(L.attached=!0,!this.isFontLoadingAPISupported){$.next=19;break}if(te=L.createNativeFontFace(),!te){$.next=18;break}return this.addNativeFontFace(te),$.prev=7,$.next=10,te.loaded;case 10:$.next=18;break;case 12:throw $.prev=12,$.t0=$.catch(7),this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)("Failed to load font '".concat(te.family,"': '").concat($.t0,"'.")),L.disableFontFace=!0,$.t0;case 18:return $.abrupt("return");case 19:if(ee=L.createFontFaceRule(),!ee){$.next=26;break}if(this.insertRule(ee),!this.isSyncFontLoadingSupported){$.next=24;break}return $.abrupt("return");case 24:return $.next=26,new Promise(function(q){var E=X._queueLoadingCallback(q);X._prepareFontLoadEvent([ee],[L],E)});case 26:case"end":return $.stop()}},H,this,[[7,12]])}));function x(H){return A.apply(this,arguments)}return x}()},{key:"_queueLoadingCallback",value:function(x){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var x,H=!!((x=this._document)!==null&&x!==void 0&&x.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",H)}},{key:"isSyncFontLoadingSupported",get:function(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(x,H,L){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),v}(),S;n.FontLoader=S,n.FontLoader=S=function(v){f(x,v);var A=R(x);function x(H){var L;return U(this,x),L=A.call(this,H),L.loadingContext={requests:[],nextRequestId:0},L.loadTestFontId=0,L}return h(x,[{key:"isSyncFontLoadingSupported",get:function(){var L=!1;if(typeof navigator>"u")L=!0;else{var X=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(X==null?void 0:X[1])>=14&&(L=!0)}return(0,i.shadow)(this,"isSyncFontLoadingSupported",L)}},{key:"_queueLoadingCallback",value:function(L){function X(){for((0,i.assert)(!ee.done,"completeRequest() cannot be called twice."),ee.done=!0;te.requests.length>0&&te.requests[0].done;){var oe=te.requests.shift();setTimeout(oe.callback,0)}}var te=this.loadingContext,ee={id:"pdfjs-font-loading-".concat(te.nextRequestId++),done:!1,complete:X,callback:L};return te.requests.push(ee),ee}},{key:"_loadTestFont",get:function(){var L=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,i.shadow)(this,"_loadTestFont",L())}},{key:"_prepareFontLoadEvent",value:function(L,X,te){function ee(ye,Ae){return ye.charCodeAt(Ae)<<24|ye.charCodeAt(Ae+1)<<16|ye.charCodeAt(Ae+2)<<8|ye.charCodeAt(Ae+3)&255}function oe(ye,Ae,Te,xe){var Ie=ye.substring(0,Ae),Me=ye.substring(Ae+Te);return Ie+xe+Me}var $,q,E=this._document.createElement("canvas");E.width=1,E.height=1;var g=E.getContext("2d"),P=0;function M(ye,Ae){if(P++,P>30){(0,i.warn)("Load test font never loaded."),Ae();return}g.font="30px "+ye,g.fillText(".",0,20);var Te=g.getImageData(0,0,1,1);if(Te.data[3]>0){Ae();return}setTimeout(M.bind(null,ye,Ae))}var K="lt".concat(Date.now()).concat(this.loadTestFontId++),ne=this._loadTestFont,Y=976;ne=oe(ne,Y,K.length,K);var Se=16,ke=1482184792,Ee=ee(ne,Se);for($=0,q=K.length-3;$<q;$+=4)Ee=Ee-ke+ee(K,$)|0;$<K.length&&(Ee=Ee-ke+ee(K+"XXX",$)|0),ne=oe(ne,Se,4,(0,i.string32)(Ee));var V="url(data:font/opentype;base64,".concat(btoa(ne),");"),O='@font-face {font-family:"'.concat(K,'";src:').concat(V,"}");this.insertRule(O);var p=[],l=C(X),_;try{for(l.s();!(_=l.n()).done;){var D=_.value;p.push(D.loadedName)}}catch(ye){l.e(ye)}finally{l.f()}p.push(K);var j=this._document.createElement("div");j.style.visibility="hidden",j.style.width=j.style.height="10px",j.style.position="absolute",j.style.top=j.style.left="0px";for(var Z=0,ce=p;Z<ce.length;Z++){var pe=ce[Z],ge=this._document.createElement("span");ge.textContent="Hi",ge.style.fontFamily=pe,j.appendChild(ge)}this._document.body.appendChild(j),M(K,function(){j.remove(),te.complete()})}}]),x}(d);var b=function(){function v(A,x){var H=x.isEvalSupported,L=H===void 0?!0:H,X=x.disableFontFace,te=X===void 0?!1:X,ee=x.ignoreErrors,oe=ee===void 0?!1:ee,$=x.onUnsupportedFeature,q=x.fontRegistry,E=q===void 0?null:q;U(this,v),this.compiledGlyphs=Object.create(null);for(var g in A)this[g]=A[g];this.isEvalSupported=L!==!1,this.disableFontFace=te===!0,this.ignoreErrors=oe===!0,this._onUnsupportedFeature=$,this.fontRegistry=E}return h(v,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var x;if(!this.cssFontInfo)x=new FontFace(this.loadedName,this.data,{});else{var H={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(H.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),x=new FontFace(this.cssFontInfo.fontFamily,this.data,H)}return this.fontRegistry&&this.fontRegistry.registerFont(this),x}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var x=(0,i.bytesToString)(this.data),H="url(data:".concat(this.mimetype,";base64,").concat(btoa(x),");"),L;if(!this.cssFontInfo)L='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(H,"}");else{var X="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(X+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),L='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(X,"src:").concat(H,"}")}return this.fontRegistry&&this.fontRegistry.registerFont(this,H),L}},{key:"getPathGenerator",value:function(x,H){if(this.compiledGlyphs[H]!==void 0)return this.compiledGlyphs[H];var L;try{L=x.get(this.loadedName+"_path_"+H)}catch(q){if(!this.ignoreErrors)throw q;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)('getPathGenerator - ignoring character: "'.concat(q,'".')),this.compiledGlyphs[H]=function(E,g){}}if(this.isEvalSupported&&i.IsEvalSupportedCached.value){var X=[],te=C(L),ee;try{for(te.s();!(ee=te.n()).done;){var oe=ee.value,$=oe.args!==void 0?oe.args.join(","):"";X.push("c.",oe.cmd,"(",$,`);
`)}}catch(q){te.e(q)}finally{te.f()}return this.compiledGlyphs[H]=new Function("c","size",X.join(""))}return this.compiledGlyphs[H]=function(q,E){var g=C(L),P;try{for(g.s();!(P=g.n()).done;){var M=P.value;M.cmd==="scale"&&(M.args=[E,-E]),q[M.cmd].apply(q,M.args)}}catch(K){g.e(K)}finally{g.f()}}}}]),v}();n.FontFaceObject=b},(u,n,t)=>{function e(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(S){return typeof S}:e=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},e(h)}Object.defineProperty(n,"__esModule",{value:!0}),n.NodeStandardFontDataFactory=n.NodeCanvasFactory=n.NodeCMapReaderFactory=void 0;var a=t(135),i=t(6),c=t(4);function f(h,d){for(var S=0;S<d.length;S++){var b=d[S];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(h,b.key,b)}}function m(h,d,S){return d&&f(h.prototype,d),h}function R(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),d&&B(h,d)}function B(h,d){return B=Object.setPrototypeOf||function(b,v){return b.__proto__=v,b},B(h,d)}function N(h){var d=w();return function(){var b=I(h),v;if(d){var A=I(this).constructor;v=Reflect.construct(b,arguments,A)}else v=b.apply(this,arguments);return G(this,v)}}function G(h,d){if(d&&(e(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(h)}function F(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I(h){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},I(h)}function C(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var W=function h(){C(this,h),(0,c.unreachable)("Not implemented: NodeCanvasFactory")};n.NodeCanvasFactory=W;var k=function h(){C(this,h),(0,c.unreachable)("Not implemented: NodeCMapReaderFactory")};n.NodeCMapReaderFactory=k;var U=function h(){C(this,h),(0,c.unreachable)("Not implemented: NodeStandardFontDataFactory")};if(n.NodeStandardFontDataFactory=U,i.isNodeJS){var y=function(d){return new Promise(function(S,b){var v=require$$5;v.readFile(d,function(A,x){if(A||!x){b(new Error(A));return}S(new Uint8Array(x))})})};n.NodeCanvasFactory=W=function(h){R(S,h);var d=N(S);function S(){return C(this,S),d.apply(this,arguments)}return m(S,[{key:"_createCanvas",value:function(v,A){var x=require$$5;return x.createCanvas(v,A)}}]),S}(a.BaseCanvasFactory),n.NodeCMapReaderFactory=k=function(h){R(S,h);var d=N(S);function S(){return C(this,S),d.apply(this,arguments)}return m(S,[{key:"_fetchData",value:function(v,A){return y(v).then(function(x){return{cMapData:x,compressionType:A}})}}]),S}(a.BaseCMapReaderFactory),n.NodeStandardFontDataFactory=U=function(h){R(S,h);var d=N(S);function S(){return C(this,S),d.apply(this,arguments)}return m(S,[{key:"_fetchData",value:function(v){return y(v)}}]),S}(a.BaseStandardFontDataFactory)}},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationStorage=void 0;var e=t(4);function a(w,I){return R(w)||m(w,I)||c(w,I)||i()}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(w,I){if(w){if(typeof w=="string")return f(w,I);var C=Object.prototype.toString.call(w).slice(8,-1);if(C==="Object"&&w.constructor&&(C=w.constructor.name),C==="Map"||C==="Set")return Array.from(w);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return f(w,I)}}function f(w,I){(I==null||I>w.length)&&(I=w.length);for(var C=0,W=new Array(I);C<I;C++)W[C]=w[C];return W}function m(w,I){var C=w==null?null:typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(C!=null){var W=[],k=!0,U=!1,y,h;try{for(C=C.call(w);!(k=(y=C.next()).done)&&(W.push(y.value),!(I&&W.length===I));k=!0);}catch(d){U=!0,h=d}finally{try{!k&&C.return!=null&&C.return()}finally{if(U)throw h}}return W}}function R(w){if(Array.isArray(w))return w}function B(w,I){if(!(w instanceof I))throw new TypeError("Cannot call a class as a function")}function N(w,I){for(var C=0;C<I.length;C++){var W=I[C];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(w,W.key,W)}}function G(w,I,C){return I&&N(w.prototype,I),w}var F=function(){function w(){B(this,w),this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}return G(w,[{key:"getValue",value:function(C,W){var k=this._storage.get(C);return k===void 0?W:Object.assign(W,k)}},{key:"setValue",value:function(C,W){var k=this._storage.get(C),U=!1;if(k!==void 0)for(var y=0,h=Object.entries(W);y<h.length;y++){var d=a(h[y],2),S=d[0],b=d[1];k[S]!==b&&(U=!0,k[S]=b)}else U=!0,this._storage.set(C,W);U&&(this._timeStamp=Date.now(),this._setModified())}},{key:"getAll",value:function(){return this._storage.size>0?(0,e.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"lastModified",get:function(){return this._timeStamp.toString()}}]),w}();n.AnnotationStorage=F},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CanvasGraphics=void 0;var e=t(4),a=t(141),i=t(1);function c(V){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(p){return typeof p}:c=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},c(V)}function f(V,O){var p=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!p){if(Array.isArray(V)||(p=F(V))||O){p&&(V=p);var l=0,_=function(){};return{s:_,n:function(){return l>=V.length?{done:!0}:{done:!1,value:V[l++]}},e:function(pe){throw pe},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D=!0,j=!1,Z;return{s:function(){p=p.call(V)},n:function(){var pe=p.next();return D=pe.done,pe},e:function(pe){j=!0,Z=pe},f:function(){try{!D&&p.return!=null&&p.return()}finally{if(j)throw Z}}}}function m(V,O){if(!(V instanceof O))throw new TypeError("Cannot call a class as a function")}function R(V,O){for(var p=0;p<O.length;p++){var l=O[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(V,l.key,l)}}function B(V,O,p){return O&&R(V.prototype,O),V}function N(V,O){return C(V)||I(V,O)||F(V,O)||G()}function G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(V,O){if(V){if(typeof V=="string")return w(V,O);var p=Object.prototype.toString.call(V).slice(8,-1);if(p==="Object"&&V.constructor&&(p=V.constructor.name),p==="Map"||p==="Set")return Array.from(V);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return w(V,O)}}function w(V,O){(O==null||O>V.length)&&(O=V.length);for(var p=0,l=new Array(O);p<O;p++)l[p]=V[p];return l}function I(V,O){var p=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(p!=null){var l=[],_=!0,D=!1,j,Z;try{for(p=p.call(V);!(_=(j=p.next()).done)&&(l.push(j.value),!(O&&l.length===O));_=!0);}catch(ce){D=!0,Z=ce}finally{try{!_&&p.return!=null&&p.return()}finally{if(D)throw Z}}return l}}function C(V){if(Array.isArray(V))return V}var W=16,k=100,U=4096,y=15,h=10,d=1e3,S=16,b=1.000001;function v(V,O){if(V._removeMirroring)throw new Error("Context is already forwarding operations.");V.__originalSave=V.save,V.__originalRestore=V.restore,V.__originalRotate=V.rotate,V.__originalScale=V.scale,V.__originalTranslate=V.translate,V.__originalTransform=V.transform,V.__originalSetTransform=V.setTransform,V.__originalResetTransform=V.resetTransform,V.__originalClip=V.clip,V.__originalMoveTo=V.moveTo,V.__originalLineTo=V.lineTo,V.__originalBezierCurveTo=V.bezierCurveTo,V.__originalRect=V.rect,V.__originalClosePath=V.closePath,V.__originalBeginPath=V.beginPath,V._removeMirroring=function(){V.save=V.__originalSave,V.restore=V.__originalRestore,V.rotate=V.__originalRotate,V.scale=V.__originalScale,V.translate=V.__originalTranslate,V.transform=V.__originalTransform,V.setTransform=V.__originalSetTransform,V.resetTransform=V.__originalResetTransform,V.clip=V.__originalClip,V.moveTo=V.__originalMoveTo,V.lineTo=V.__originalLineTo,V.bezierCurveTo=V.__originalBezierCurveTo,V.rect=V.__originalRect,V.closePath=V.__originalClosePath,V.beginPath=V.__originalBeginPath,delete V._removeMirroring},V.save=function(){O.save(),this.__originalSave()},V.restore=function(){O.restore(),this.__originalRestore()},V.translate=function(l,_){O.translate(l,_),this.__originalTranslate(l,_)},V.scale=function(l,_){O.scale(l,_),this.__originalScale(l,_)},V.transform=function(l,_,D,j,Z,ce){O.transform(l,_,D,j,Z,ce),this.__originalTransform(l,_,D,j,Z,ce)},V.setTransform=function(l,_,D,j,Z,ce){O.setTransform(l,_,D,j,Z,ce),this.__originalSetTransform(l,_,D,j,Z,ce)},V.resetTransform=function(){O.resetTransform(),this.__originalResetTransform()},V.rotate=function(l){O.rotate(l),this.__originalRotate(l)},V.clip=function(l){O.clip(l),this.__originalClip(l)},V.moveTo=function(p,l){O.moveTo(p,l),this.__originalMoveTo(p,l)},V.lineTo=function(p,l){O.lineTo(p,l),this.__originalLineTo(p,l)},V.bezierCurveTo=function(p,l,_,D,j,Z){O.bezierCurveTo(p,l,_,D,j,Z),this.__originalBezierCurveTo(p,l,_,D,j,Z)},V.rect=function(p,l,_,D){O.rect(p,l,_,D),this.__originalRect(p,l,_,D)},V.closePath=function(){O.closePath(),this.__originalClosePath()},V.beginPath=function(){O.beginPath(),this.__originalBeginPath()}}function A(V){if(!V.mozCurrentTransform){V._originalSave=V.save,V._originalRestore=V.restore,V._originalRotate=V.rotate,V._originalScale=V.scale,V._originalTranslate=V.translate,V._originalTransform=V.transform,V._originalSetTransform=V.setTransform,V._originalResetTransform=V.resetTransform,V._transformMatrix=V._transformMatrix||[1,0,0,1,0,0],V._transformStack=[];try{var O=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(V),"lineWidth");V._setLineWidth=O.set,V._getLineWidth=O.get,Object.defineProperty(V,"lineWidth",{set:function(l){this._setLineWidth(l*b)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(V,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(V,"mozCurrentTransformInverse",{get:function(){var l=N(this._transformMatrix,6),_=l[0],D=l[1],j=l[2],Z=l[3],ce=l[4],pe=l[5],ge=_*Z-D*j,ye=D*j-_*Z;return[Z/ge,D/ye,j/ye,_/ge,(Z*ce-j*pe)/ye,(D*ce-_*pe)/ge]}}),V.save=function(){var l=this._transformMatrix;this._transformStack.push(l),this._transformMatrix=l.slice(0,6),this._originalSave()},V.restore=function(){var l=this._transformStack.pop();l&&(this._transformMatrix=l,this._originalRestore())},V.translate=function(l,_){var D=this._transformMatrix;D[4]=D[0]*l+D[2]*_+D[4],D[5]=D[1]*l+D[3]*_+D[5],this._originalTranslate(l,_)},V.scale=function(l,_){var D=this._transformMatrix;D[0]*=l,D[1]*=l,D[2]*=_,D[3]*=_,this._originalScale(l,_)},V.transform=function(l,_,D,j,Z,ce){var pe=this._transformMatrix;this._transformMatrix=[pe[0]*l+pe[2]*_,pe[1]*l+pe[3]*_,pe[0]*D+pe[2]*j,pe[1]*D+pe[3]*j,pe[0]*Z+pe[2]*ce+pe[4],pe[1]*Z+pe[3]*ce+pe[5]],V._originalTransform(l,_,D,j,Z,ce)},V.setTransform=function(l,_,D,j,Z,ce){this._transformMatrix=[l,_,D,j,Z,ce],V._originalSetTransform(l,_,D,j,Z,ce)},V.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],V._originalResetTransform()},V.rotate=function(l){var _=Math.cos(l),D=Math.sin(l),j=this._transformMatrix;this._transformMatrix=[j[0]*_+j[2]*D,j[1]*_+j[3]*D,j[0]*-D+j[2]*_,j[1]*-D+j[3]*_,j[4],j[5]],this._originalRotate(l)}}}var x=function(){function V(O){m(this,V),this.canvasFactory=O,this.cache=Object.create(null)}return B(V,[{key:"getCanvas",value:function(p,l,_,D){var j;return this.cache[p]!==void 0?(j=this.cache[p],this.canvasFactory.reset(j,l,_),j.context.setTransform(1,0,0,1,0,0)):(j=this.canvasFactory.create(l,_),this.cache[p]=j),D&&A(j.context),j}},{key:"clear",value:function(){for(var p in this.cache){var l=this.cache[p];this.canvasFactory.destroy(l),delete this.cache[p]}}}]),V}();function H(V){var O=1e3,p=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=V.width,_=V.height,D=l+1,j,Z,ce,pe,ge=new Uint8Array(D*(_+1)),ye=l+7&-8,Ae=V.data,Te=new Uint8Array(ye*_),xe=0;for(j=0,Z=Ae.length;j<Z;j++)for(var Ie=Ae[j],Me=128;Me>0;)Te[xe++]=Ie&Me?0:255,Me>>=1;var je=0;for(xe=0,Te[xe]!==0&&(ge[0]=1,++je),ce=1;ce<l;ce++)Te[xe]!==Te[xe+1]&&(ge[ce]=Te[xe]?2:1,++je),xe++;for(Te[xe]!==0&&(ge[ce]=2,++je),j=1;j<_;j++){xe=j*ye,pe=j*D,Te[xe-ye]!==Te[xe]&&(ge[pe]=Te[xe]?1:8,++je);var Ge=(Te[xe]?4:0)+(Te[xe-ye]?8:0);for(ce=1;ce<l;ce++)Ge=(Ge>>2)+(Te[xe+1]?4:0)+(Te[xe-ye+1]?8:0),p[Ge]&&(ge[pe+ce]=p[Ge],++je),xe++;if(Te[xe-ye]!==Te[xe]&&(ge[pe+ce]=Te[xe]?2:4,++je),je>O)return null}for(xe=ye*(_-1),pe=j*D,Te[xe]!==0&&(ge[pe]=8,++je),ce=1;ce<l;ce++)Te[xe]!==Te[xe+1]&&(ge[pe+ce]=Te[xe]?4:8,++je),xe++;if(Te[xe]!==0&&(ge[pe+ce]=4,++je),je>O)return null;var de=new Int32Array([0,D,-1,0,-D,0,0,0,1]),he=[];for(j=0;je&&j<=_;j++){for(var z=j*D,re=z+l;z<re&&!ge[z];)z++;if(z!==re){var Q=[z%D,j],se=z,ae=ge[z];do{var J=de[ae];do z+=J;while(!ge[z]);var ve=ge[z];ve!==5&&ve!==10?(ae=ve,ge[z]=0):(ae=ve&51*ae>>4,ge[z]&=ae>>2|ae<<2),Q.push(z%D,z/D|0),ge[z]||--je}while(se!==z);he.push(Q),--j}}var fe=function(we){we.save(),we.scale(1/l,-1/_),we.translate(0,-_),we.beginPath();for(var Le=0,Ne=he.length;Le<Ne;Le++){var Pe=he[Le];we.moveTo(Pe[0],Pe[1]);for(var ze=2,Oe=Pe.length;ze<Oe;ze+=2)we.lineTo(Pe[ze],Pe[ze+1])}we.fill(),we.beginPath(),we.restore()};return fe}var L=function(){function V(O,p){m(this,V),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=e.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=e.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=e.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,O,p])}return B(V,[{key:"clone",value:function(){var p=Object.create(this);return p.clipBox=this.clipBox.slice(),p}},{key:"setCurrentPoint",value:function(p,l){this.x=p,this.y=l}},{key:"updatePathMinMax",value:function(p,l,_){var D=e.Util.applyTransform([l,_],p),j=N(D,2);l=j[0],_=j[1],this.minX=Math.min(this.minX,l),this.minY=Math.min(this.minY,_),this.maxX=Math.max(this.maxX,l),this.maxY=Math.max(this.maxY,_)}},{key:"updateCurvePathMinMax",value:function(p,l,_,D,j,Z,ce,pe,ge){var ye=e.Util.bezierBoundingBox(l,_,D,j,Z,ce,pe,ge);this.updatePathMinMax(p,ye[0],ye[1]),this.updatePathMinMax(p,ye[2],ye[3])}},{key:"getPathBoundingBox",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.PathType.FILL,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_=[this.minX,this.minY,this.maxX,this.maxY];if(p===a.PathType.STROKE){l||(0,e.unreachable)("Stroke bounding box must include transform.");var D=e.Util.singularValueDecompose2dScale(l),j=D[0]*this.lineWidth/2,Z=D[1]*this.lineWidth/2;_[0]-=j,_[1]-=Z,_[2]+=j,_[3]+=Z}return _}},{key:"updateClipFromPath",value:function(){var p=e.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(p||[0,0,0,0])}},{key:"startNewPathAndClipBox",value:function(p){this.clipBox=p,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.PathType.FILL,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return e.Util.intersect(this.clipBox,this.getPathBoundingBox(p,l))}}]),V}();function X(V,O){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData<"u"&&O instanceof ImageData){V.putImageData(O,0,0);return}var l=O.height,_=O.width,D=l%S,j=(l-D)/S,Z=D===0?j:j+1,ce=V.createImageData(_,S),pe=0,ge,ye=O.data,Ae=ce.data,Te,xe,Ie,Me,je,Ge,de,he;if(p)switch(p.length){case 1:je=p[0],Ge=p[0],de=p[0],he=p[0];break;case 4:je=p[0],Ge=p[1],de=p[2],he=p[3];break}if(O.kind===e.ImageKind.GRAYSCALE_1BPP){var z=ye.byteLength,re=new Uint32Array(Ae.buffer,0,Ae.byteLength>>2),Q=re.length,se=_+7>>3,ae=4294967295,J=e.IsLittleEndianCached.value?4278190080:255;if(he&&he[0]===255&&he[255]===0){var ve=[J,ae];ae=ve[0],J=ve[1]}for(Te=0;Te<Z;Te++){for(Ie=Te<j?S:D,ge=0,xe=0;xe<Ie;xe++){for(var fe=z-pe,_e=0,we=fe>se?_:fe*8-7,Le=we&-8,Ne=0,Pe=0;_e<Le;_e+=8)Pe=ye[pe++],re[ge++]=Pe&128?ae:J,re[ge++]=Pe&64?ae:J,re[ge++]=Pe&32?ae:J,re[ge++]=Pe&16?ae:J,re[ge++]=Pe&8?ae:J,re[ge++]=Pe&4?ae:J,re[ge++]=Pe&2?ae:J,re[ge++]=Pe&1?ae:J;for(;_e<we;_e++)Ne===0&&(Pe=ye[pe++],Ne=128),re[ge++]=Pe&Ne?ae:J,Ne>>=1}for(;ge<Q;)re[ge++]=0;V.putImageData(ce,0,Te*S)}}else if(O.kind===e.ImageKind.RGBA_32BPP){var ze=!!(je||Ge||de);for(xe=0,Me=_*S*4,Te=0;Te<j;Te++){if(Ae.set(ye.subarray(pe,pe+Me)),pe+=Me,ze)for(var Oe=0;Oe<Me;Oe+=4)je&&(Ae[Oe+0]=je[Ae[Oe+0]]),Ge&&(Ae[Oe+1]=Ge[Ae[Oe+1]]),de&&(Ae[Oe+2]=de[Ae[Oe+2]]);V.putImageData(ce,0,xe),xe+=S}if(Te<Z){if(Me=_*D*4,Ae.set(ye.subarray(pe,pe+Me)),ze)for(var Fe=0;Fe<Me;Fe+=4)je&&(Ae[Fe+0]=je[Ae[Fe+0]]),Ge&&(Ae[Fe+1]=Ge[Ae[Fe+1]]),de&&(Ae[Fe+2]=de[Ae[Fe+2]]);V.putImageData(ce,0,xe)}}else if(O.kind===e.ImageKind.RGB_24BPP){var We=!!(je||Ge||de);for(Ie=S,Me=_*Ie,Te=0;Te<Z;Te++){for(Te>=j&&(Ie=D,Me=_*Ie),ge=0,xe=Me;xe--;)Ae[ge++]=ye[pe++],Ae[ge++]=ye[pe++],Ae[ge++]=ye[pe++],Ae[ge++]=255;if(We)for(var Be=0;Be<ge;Be+=4)je&&(Ae[Be+0]=je[Ae[Be+0]]),Ge&&(Ae[Be+1]=Ge[Ae[Be+1]]),de&&(Ae[Be+2]=de[Ae[Be+2]]);V.putImageData(ce,0,Te*S)}}else throw new Error("bad image kind: ".concat(O.kind))}function te(V,O){for(var p=O.height,l=O.width,_=p%S,D=(p-_)/S,j=_===0?D:D+1,Z=V.createImageData(l,S),ce=0,pe=O.data,ge=Z.data,ye=0;ye<j;ye++){for(var Ae=ye<D?S:_,Te=3,xe=0;xe<Ae;xe++)for(var Ie=void 0,Me=0,je=0;je<l;je++)Me||(Ie=pe[ce++],Me=128),ge[Te]=Ie&Me?0:255,Te+=4,Me>>=1;V.putImageData(Z,0,ye*S)}}function ee(V,O){for(var p=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],l=0,_=p.length;l<_;l++){var D=p[l];V[D]!==void 0&&(O[D]=V[D])}V.setLineDash!==void 0&&(O.setLineDash(V.getLineDash()),O.lineDashOffset=V.lineDashOffset)}function oe(V){V.strokeStyle="#000000",V.fillStyle="#000000",V.fillRule="nonzero",V.globalAlpha=1,V.lineWidth=1,V.lineCap="butt",V.lineJoin="miter",V.miterLimit=10,V.globalCompositeOperation="source-over",V.font="10px sans-serif",V.setLineDash!==void 0&&(V.setLineDash([]),V.lineDashOffset=0)}function $(V,O,p,l){for(var _=V.length,D=3;D<_;D+=4){var j=V[D];if(j===0)V[D-3]=O,V[D-2]=p,V[D-1]=l;else if(j<255){var Z=255-j;V[D-3]=V[D-3]*j+O*Z>>8,V[D-2]=V[D-2]*j+p*Z>>8,V[D-1]=V[D-1]*j+l*Z>>8}}}function q(V,O,p){for(var l=V.length,_=1/255,D=3;D<l;D+=4){var j=p?p[V[D]]:V[D];O[D]=O[D]*j*_|0}}function E(V,O,p){for(var l=V.length,_=3;_<l;_+=4){var D=V[_-3]*77+V[_-2]*152+V[_-1]*28;O[_]=p?O[_]*p[D>>8]>>8:O[_]*D>>16}}function g(V,O,p,l,_,D,j,Z,ce,pe,ge){var ye=!!D,Ae=ye?D[0]:0,Te=ye?D[1]:0,xe=ye?D[2]:0,Ie;_==="Luminosity"?Ie=E:Ie=q;for(var Me=1048576,je=Math.min(l,Math.ceil(Me/p)),Ge=0;Ge<l;Ge+=je){var de=Math.min(je,l-Ge),he=V.getImageData(Z-pe,Ge+(ce-ge),p,de),z=O.getImageData(Z,Ge+ce,p,de);ye&&$(he.data,Ae,Te,xe),Ie(he.data,z.data,j),O.putImageData(z,Z,Ge+ce)}}function P(V,O,p,l){var _=l[0],D=l[1],j=l[2]-_,Z=l[3]-D;j===0||Z===0||(g(O.context,p,j,Z,O.subtype,O.backdrop,O.transferMap,_,D,O.offsetX,O.offsetY),V.save(),V.globalAlpha=1,V.globalCompositeOperation="source-over",V.setTransform(1,0,0,1,0,0),V.drawImage(p.canvas,0,0),V.restore())}function M(V,O){var p=e.Util.singularValueDecompose2dScale(V);p[0]=Math.fround(p[0]),p[1]=Math.fround(p[1]);var l=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return O!==void 0?O:p[0]<=l||p[1]<=l}var K=["butt","round","square"],ne=["miter","round","bevel"],Y={},Se={},ke=function(){function V(O,p,l,_,D,j,Z){m(this,V),this.ctx=O,this.current=new L(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=p,this.objs=l,this.canvasFactory=_,this.imageLayer=D,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=j,this.cachedCanvases=new x(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Z,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,O&&A(O),this._cachedGetSinglePixelWidth=null}return B(V,[{key:"beginDrawing",value:function(p){var l=p.transform,_=p.viewport,D=p.transparency,j=D===void 0?!1:D,Z=p.background,ce=Z===void 0?null:Z,pe=this.ctx.canvas.width,ge=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=ce||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,pe,ge),this.ctx.restore(),j){var ye=this.cachedCanvases.getCanvas("transparent",pe,ge,!0);this.compositeCtx=this.ctx,this.transparentCanvas=ye.canvas,this.ctx=ye.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),oe(this.ctx),l&&(this.ctx.transform.apply(this.ctx,l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform.apply(this.ctx,_.transform),this.viewportScale=_.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(p,l,_,D){var j=p.argsArray,Z=p.fnArray,ce=l||0,pe=j.length;if(pe===ce)return ce;for(var ge=pe-ce>h&&typeof _=="function",ye=ge?Date.now()+y:0,Ae=0,Te=this.commonObjs,xe=this.objs,Ie;;){if(D!==void 0&&ce===D.nextBreakPoint)return D.breakIt(ce,_),ce;if(Ie=Z[ce],Ie!==e.OPS.dependency)this[Ie].apply(this,j[ce]);else{var Me=f(j[ce]),je;try{for(Me.s();!(je=Me.n()).done;){var Ge=je.value,de=Ge.startsWith("g_")?Te:xe;if(!de.has(Ge))return de.get(Ge,_),ce}}catch(he){Me.e(he)}finally{Me.f()}}if(ce++,ce===pe)return ce;if(ge&&++Ae>h){if(Date.now()>ye)return _(),ce;Ae=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||this.current.activeSMask!==null;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(p,l){for(var _=p.width,D=p.height,j=Math.max(Math.hypot(l[0],l[1]),1),Z=Math.max(Math.hypot(l[2],l[3]),1),ce=_,pe=D,ge="prescale1",ye,Ae;j>2&&ce>1||Z>2&&pe>1;){var Te=ce,xe=pe;j>2&&ce>1&&(Te=Math.ceil(ce/2),j/=ce/Te),Z>2&&pe>1&&(xe=Math.ceil(pe/2),Z/=pe/xe),ye=this.cachedCanvases.getCanvas(ge,Te,xe),Ae=ye.context,Ae.clearRect(0,0,Te,xe),Ae.drawImage(p,0,0,ce,pe,0,0,Te,xe),p=ye.canvas,ce=Te,pe=xe,ge=ge==="prescale1"?"prescale2":"prescale1"}return{img:p,paintWidth:ce,paintHeight:pe}}},{key:"_createMaskCanvas",value:function(p){var l=this.ctx,_=p.width,D=p.height,j=this.current.fillColor,Z=this.current.patternFill,ce=this.cachedCanvases.getCanvas("maskCanvas",_,D),pe=ce.context;te(pe,p);var ge=l.mozCurrentTransform,ye=e.Util.transform(ge,[1/_,0,0,-1/D,0,0]);ye=e.Util.transform(ye,[1,0,0,1,0,-D]);var Ae=e.Util.applyTransform([0,0],ye),Te=e.Util.applyTransform([_,D],ye),xe=e.Util.normalizeRect([Ae[0],Ae[1],Te[0],Te[1]]),Ie=Math.ceil(xe[2]-xe[0]),Me=Math.ceil(xe[3]-xe[1]),je=this.cachedCanvases.getCanvas("fillCanvas",Ie,Me,!0),Ge=je.context,de=Math.min(Ae[0],Te[0]),he=Math.min(Ae[1],Te[1]);Ge.translate(-de,-he),Ge.transform.apply(Ge,ye);var z=this._scaleImage(ce.canvas,Ge.mozCurrentTransformInverse);Ge.imageSmoothingEnabled=M(Ge.mozCurrentTransform,p.interpolate),Ge.drawImage(z.img,0,0,z.img.width,z.img.height,0,0,_,D),Ge.globalCompositeOperation="source-in";var re=e.Util.transform(Ge.mozCurrentTransformInverse,[1,0,0,1,-de,-he]);return Ge.fillStyle=Z?j.getPattern(l,this,re,a.PathType.FILL):j,Ge.fillRect(0,0,_,D),{canvas:je.canvas,offsetX:Math.round(de),offsetY:Math.round(he)}}},{key:"setLineWidth",value:function(p){this.current.lineWidth=p,this.ctx.lineWidth=p}},{key:"setLineCap",value:function(p){this.ctx.lineCap=K[p]}},{key:"setLineJoin",value:function(p){this.ctx.lineJoin=ne[p]}},{key:"setMiterLimit",value:function(p){this.ctx.miterLimit=p}},{key:"setDash",value:function(p,l){var _=this.ctx;_.setLineDash!==void 0&&(_.setLineDash(p),_.lineDashOffset=l)}},{key:"setRenderingIntent",value:function(p){}},{key:"setFlatness",value:function(p){}},{key:"setGState",value:function(p){for(var l=0,_=p.length;l<_;l++){var D=p[l],j=D[0],Z=D[1];switch(j){case"LW":this.setLineWidth(Z);break;case"LC":this.setLineCap(Z);break;case"LJ":this.setLineJoin(Z);break;case"ML":this.setMiterLimit(Z);break;case"D":this.setDash(Z[0],Z[1]);break;case"RI":this.setRenderingIntent(Z);break;case"FL":this.setFlatness(Z);break;case"Font":this.setFont(Z[0],Z[1]);break;case"CA":this.current.strokeAlpha=D[1];break;case"ca":this.current.fillAlpha=D[1],this.ctx.globalAlpha=D[1];break;case"BM":this.ctx.globalCompositeOperation=Z;break;case"SMask":this.current.activeSMask=Z?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Z}}}},{key:"checkSMaskState",value:function(){var p=!!this.suspendedCtx;this.current.activeSMask&&!p?this.beginSMaskMode():!this.current.activeSMask&&p&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.suspendedCtx)throw new Error("beginSMaskMode called while already in smask mode");var p=this.ctx.canvas.width,l=this.ctx.canvas.height,_="smaskGroupAt"+this.groupLevel,D=this.cachedCanvases.getCanvas(_,p,l,!0);this.suspendedCtx=this.ctx,this.ctx=D.context;var j=this.ctx;j.setTransform.apply(j,this.suspendedCtx.mozCurrentTransform),ee(this.suspendedCtx,j),v(j,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.suspendedCtx)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ee(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.current.activeSMask=null,this.suspendedCtx=null}},{key:"compose",value:function(p){if(this.current.activeSMask){p?(p[0]=Math.floor(p[0]),p[1]=Math.floor(p[1]),p[2]=Math.ceil(p[2]),p[3]=Math.ceil(p[3])):p=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var l=this.current.activeSMask,_=this.suspendedCtx;P(_,l,this.ctx,p),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"save",value:function(){this.ctx.save();var p=this.current;this.stateStack.push(p),this.current=p.clone()}},{key:"restore",value:function(){this.stateStack.length===0&&this.current.activeSMask&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(p,l,_,D,j,Z){this.ctx.transform(p,l,_,D,j,Z),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(p,l){for(var _=this.ctx,D=this.current,j=D.x,Z=D.y,ce,pe,ge=0,ye=0,Ae=p.length;ge<Ae;ge++)switch(p[ge]|0){case e.OPS.rectangle:j=l[ye++],Z=l[ye++];var Te=l[ye++],xe=l[ye++],Ie=j+Te,Me=Z+xe;_.moveTo(j,Z),Te===0||xe===0?_.lineTo(Ie,Me):(_.lineTo(Ie,Z),_.lineTo(Ie,Me),_.lineTo(j,Me)),D.updatePathMinMax(_.mozCurrentTransform,j,Z),D.updatePathMinMax(_.mozCurrentTransform,Ie,Me),_.closePath();break;case e.OPS.moveTo:j=l[ye++],Z=l[ye++],_.moveTo(j,Z),D.updatePathMinMax(_.mozCurrentTransform,j,Z);break;case e.OPS.lineTo:j=l[ye++],Z=l[ye++],_.lineTo(j,Z),D.updatePathMinMax(_.mozCurrentTransform,j,Z);break;case e.OPS.curveTo:ce=j,pe=Z,j=l[ye+4],Z=l[ye+5],_.bezierCurveTo(l[ye],l[ye+1],l[ye+2],l[ye+3],j,Z),D.updateCurvePathMinMax(_.mozCurrentTransform,ce,pe,l[ye],l[ye+1],l[ye+2],l[ye+3],j,Z),ye+=6;break;case e.OPS.curveTo2:ce=j,pe=Z,_.bezierCurveTo(j,Z,l[ye],l[ye+1],l[ye+2],l[ye+3]),D.updateCurvePathMinMax(_.mozCurrentTransform,ce,pe,j,Z,l[ye],l[ye+1],l[ye+2],l[ye+3]),j=l[ye+2],Z=l[ye+3],ye+=4;break;case e.OPS.curveTo3:ce=j,pe=Z,j=l[ye+2],Z=l[ye+3],_.bezierCurveTo(l[ye],l[ye+1],j,Z,j,Z),D.updateCurvePathMinMax(_.mozCurrentTransform,ce,pe,l[ye],l[ye+1],j,Z,j,Z),ye+=4;break;case e.OPS.closePath:_.closePath();break}D.setCurrentPoint(j,Z)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(p){p=typeof p<"u"?p:!0;var l=this.ctx,_=this.current.strokeColor;if(l.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(c(_)==="object"&&_!==null&&_!==void 0&&_.getPattern){var D=this.getSinglePixelWidth();l.save(),l.strokeStyle=_.getPattern(l,this,l.mozCurrentTransformInverse,a.PathType.STROKE),l.lineWidth=Math.max(D,this.current.lineWidth),l.stroke(),l.restore()}else{var j=this.getSinglePixelWidth();j<0&&-j>=this.current.lineWidth?(l.save(),l.resetTransform(),l.lineWidth=Math.round(this._combinedScaleFactor),l.stroke(),l.restore()):(l.lineWidth=Math.max(j,this.current.lineWidth),l.stroke())}p&&this.consumePath(this.current.getClippedPathBoundingBox()),l.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(p){p=typeof p<"u"?p:!0;var l=this.ctx,_=this.current.fillColor,D=this.current.patternFill,j=!1;D&&(l.save(),l.fillStyle=_.getPattern(l,this,l.mozCurrentTransformInverse,a.PathType.FILL),j=!0);var Z=this.current.getClippedPathBoundingBox();this.contentVisible&&Z!==null&&(this.pendingEOFill?(l.fill("evenodd"),this.pendingEOFill=!1):l.fill()),j&&l.restore(),p&&this.consumePath(Z)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=Y}},{key:"eoClip",value:function(){this.pendingClip=Se}},{key:"beginText",value:function(){this.current.textMatrix=e.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var p=this.pendingTextPaths,l=this.ctx;if(p===void 0){l.beginPath();return}l.save(),l.beginPath();for(var _=0;_<p.length;_++){var D=p[_];l.setTransform.apply(l,D.transform),l.translate(D.x,D.y),D.addToPath(l,D.fontSize)}l.restore(),l.clip(),l.beginPath(),delete this.pendingTextPaths}},{key:"setCharSpacing",value:function(p){this.current.charSpacing=p}},{key:"setWordSpacing",value:function(p){this.current.wordSpacing=p}},{key:"setHScale",value:function(p){this.current.textHScale=p/100}},{key:"setLeading",value:function(p){this.current.leading=-p}},{key:"setFont",value:function(p,l){var _=this.commonObjs.get(p),D=this.current;if(!_)throw new Error("Can't find font for ".concat(p));if(D.fontMatrix=_.fontMatrix||e.FONT_IDENTITY_MATRIX,(D.fontMatrix[0]===0||D.fontMatrix[3]===0)&&(0,e.warn)("Invalid font matrix for font "+p),l<0?(l=-l,D.fontDirection=-1):D.fontDirection=1,this.current.font=_,this.current.fontSize=l,!_.isType3Font){var j=_.loadedName||"sans-serif",Z="normal";_.black?Z="900":_.bold&&(Z="bold");var ce=_.italic?"italic":"normal",pe='"'.concat(j,'", ').concat(_.fallbackName),ge=l;l<W?ge=W:l>k&&(ge=k),this.current.fontSizeScale=l/ge,this.ctx.font="".concat(ce," ").concat(Z," ").concat(ge,"px ").concat(pe)}}},{key:"setTextRenderingMode",value:function(p){this.current.textRenderingMode=p}},{key:"setTextRise",value:function(p){this.current.textRise=p}},{key:"moveText",value:function(p,l){this.current.x=this.current.lineX+=p,this.current.y=this.current.lineY+=l}},{key:"setLeadingMoveText",value:function(p,l){this.setLeading(-l),this.moveText(p,l)}},{key:"setTextMatrix",value:function(p,l,_,D,j,Z){this.current.textMatrix=[p,l,_,D,j,Z],this.current.textMatrixScale=Math.hypot(p,l),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(p,l,_,D,j){var Z=this.ctx,ce=this.current,pe=ce.font,ge=ce.textRenderingMode,ye=ce.fontSize/ce.fontSizeScale,Ae=ge&e.TextRenderingMode.FILL_STROKE_MASK,Te=!!(ge&e.TextRenderingMode.ADD_TO_PATH_FLAG),xe=ce.patternFill&&!pe.missingFile,Ie;if((pe.disableFontFace||Te||xe)&&(Ie=pe.getPathGenerator(this.commonObjs,p)),pe.disableFontFace||xe?(Z.save(),Z.translate(l,_),Z.beginPath(),Ie(Z,ye),D&&Z.setTransform.apply(Z,D),(Ae===e.TextRenderingMode.FILL||Ae===e.TextRenderingMode.FILL_STROKE)&&Z.fill(),(Ae===e.TextRenderingMode.STROKE||Ae===e.TextRenderingMode.FILL_STROKE)&&(j&&(Z.resetTransform(),Z.lineWidth=Math.round(this._combinedScaleFactor)),Z.stroke()),Z.restore()):((Ae===e.TextRenderingMode.FILL||Ae===e.TextRenderingMode.FILL_STROKE)&&Z.fillText(p,l,_),(Ae===e.TextRenderingMode.STROKE||Ae===e.TextRenderingMode.FILL_STROKE)&&(j?(Z.save(),Z.moveTo(l,_),Z.resetTransform(),Z.lineWidth=Math.round(this._combinedScaleFactor),Z.strokeText(p,0,0),Z.restore()):Z.strokeText(p,l,_))),Te){var Me=this.pendingTextPaths||(this.pendingTextPaths=[]);Me.push({transform:Z.mozCurrentTransform,x:l,y:_,fontSize:ye,addToPath:Ie})}}},{key:"isFontSubpixelAAEnabled",get:function(){var p=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10),l=p.context;l.scale(1.5,1),l.fillText("I",0,10);for(var _=l.getImageData(0,0,10,10).data,D=!1,j=3;j<_.length;j+=4)if(_[j]>0&&_[j]<255){D=!0;break}return(0,e.shadow)(this,"isFontSubpixelAAEnabled",D)}},{key:"showText",value:function(p){var l=this.current,_=l.font;if(_.isType3Font)return this.showType3Text(p);var D=l.fontSize;if(D!==0){var j=this.ctx,Z=l.fontSizeScale,ce=l.charSpacing,pe=l.wordSpacing,ge=l.fontDirection,ye=l.textHScale*ge,Ae=p.length,Te=_.vertical,xe=Te?1:-1,Ie=_.defaultVMetrics,Me=D*l.fontMatrix[0],je=l.textRenderingMode===e.TextRenderingMode.FILL&&!_.disableFontFace&&!l.patternFill;j.save(),j.transform.apply(j,l.textMatrix),j.translate(l.x,l.y+l.textRise),ge>0?j.scale(ye,-1):j.scale(ye,1);var Ge;if(l.patternFill){j.save();var de=l.fillColor.getPattern(j,this,j.mozCurrentTransformInverse,a.PathType.FILL);Ge=j.mozCurrentTransform,j.restore(),j.fillStyle=de}var he=l.lineWidth,z=!1,re=l.textMatrixScale;if(re===0||he===0){var Q=l.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK;(Q===e.TextRenderingMode.STROKE||Q===e.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,he=this.getSinglePixelWidth(),z=he<0)}else he/=re;Z!==1&&(j.scale(Z,Z),he/=Z),j.lineWidth=he;var se=0,ae;for(ae=0;ae<Ae;++ae){var J=p[ae];if((0,e.isNum)(J)){se+=xe*J*D/1e3;continue}var ve=!1,fe=(J.isSpace?pe:0)+ce,_e=J.fontChar,we=J.accent,Le=void 0,Ne=void 0,Pe=J.width;if(Te){var ze=J.vmetric||Ie,Oe=-(J.vmetric?ze[1]:Pe*.5)*Me,Fe=ze[2]*Me;Pe=ze?-ze[0]:Pe,Le=Oe/Z,Ne=(se+Fe)/Z}else Le=se/Z,Ne=0;if(_.remeasure&&Pe>0){var We=j.measureText(_e).width*1e3/D*Z;if(Pe<We&&this.isFontSubpixelAAEnabled){var Be=Pe/We;ve=!0,j.save(),j.scale(Be,1),Le/=Be}else Pe!==We&&(Le+=(Pe-We)/2e3*D/Z)}if(this.contentVisible&&(J.isInFont||_.missingFile)){if(je&&!we)j.fillText(_e,Le,Ne);else if(this.paintChar(_e,Le,Ne,Ge,z),we){var $e=Le+D*we.offset.x/Z,qe=Ne-D*we.offset.y/Z;this.paintChar(we.fontChar,$e,qe,Ge,z)}}var Ze=void 0;Te?Ze=Pe*Me-fe*ge:Ze=Pe*Me+fe*ge,se+=Ze,ve&&j.restore()}Te?l.y-=se:l.x+=se*ye,j.restore(),this.compose()}}},{key:"showType3Text",value:function(p){var l=this.ctx,_=this.current,D=_.font,j=_.fontSize,Z=_.fontDirection,ce=D.vertical?1:-1,pe=_.charSpacing,ge=_.wordSpacing,ye=_.textHScale*Z,Ae=_.fontMatrix||e.FONT_IDENTITY_MATRIX,Te=p.length,xe=_.textRenderingMode===e.TextRenderingMode.INVISIBLE,Ie,Me,je,Ge;if(!(xe||j===0)){for(this._cachedGetSinglePixelWidth=null,l.save(),l.transform.apply(l,_.textMatrix),l.translate(_.x,_.y),l.scale(ye,Z),Ie=0;Ie<Te;++Ie){if(Me=p[Ie],(0,e.isNum)(Me)){Ge=ce*Me*j/1e3,this.ctx.translate(Ge,0),_.x+=Ge*ye;continue}var de=(Me.isSpace?ge:0)+pe,he=D.charProcOperatorList[Me.operatorListId];if(!he){(0,e.warn)('Type3 character "'.concat(Me.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=Me,this.save(),l.scale(j,j),l.transform.apply(l,Ae),this.executeOperatorList(he),this.restore());var z=e.Util.applyTransform([Me.width,0],Ae);je=z[0]*j+de,l.translate(je,0),_.x+=je*ye}l.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(p,l){}},{key:"setCharWidthAndBounds",value:function(p,l,_,D,j,Z){this.ctx.rect(_,D,j-_,Z-D),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(p){var l=this,_;if(p[0]==="TilingPattern"){var D=p[1],j=this.baseTransform||this.ctx.mozCurrentTransform.slice(),Z={createCanvasGraphics:function(pe){return new V(pe,l.commonObjs,l.objs,l.canvasFactory)}};_=new a.TilingPattern(p,D,this.ctx,Z,j)}else _=this._getPattern(p[1],p[2]);return _}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(p,l,_){var D=e.Util.makeHexColor(p,l,_);this.ctx.strokeStyle=D,this.current.strokeColor=D}},{key:"setFillRGBColor",value:function(p,l,_){var D=e.Util.makeHexColor(p,l,_);this.ctx.fillStyle=D,this.current.fillColor=D,this.current.patternFill=!1}},{key:"_getPattern",value:function(p){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_;return this.cachedPatterns.has(p)?_=this.cachedPatterns.get(p):(_=(0,a.getShadingPattern)(this.objs.get(p)),this.cachedPatterns.set(p,_)),l&&(_.matrix=l),_}},{key:"shadingFill",value:function(p){if(this.contentVisible){var l=this.ctx;this.save();var _=this._getPattern(p);l.fillStyle=_.getPattern(l,this,l.mozCurrentTransformInverse,a.PathType.SHADING);var D=l.mozCurrentTransformInverse;if(D){var j=l.canvas,Z=j.width,ce=j.height,pe=e.Util.applyTransform([0,0],D),ge=e.Util.applyTransform([0,ce],D),ye=e.Util.applyTransform([Z,0],D),Ae=e.Util.applyTransform([Z,ce],D),Te=Math.min(pe[0],ge[0],ye[0],Ae[0]),xe=Math.min(pe[1],ge[1],ye[1],Ae[1]),Ie=Math.max(pe[0],ge[0],ye[0],Ae[0]),Me=Math.max(pe[1],ge[1],ye[1],Ae[1]);this.ctx.fillRect(Te,xe,Ie-Te,Me-xe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){(0,e.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,e.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(p,l){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(p)&&p.length===6&&this.transform.apply(this,p),this.baseTransform=this.ctx.mozCurrentTransform,l)){var _=l[2]-l[0],D=l[3]-l[1];this.ctx.rect(l[0],l[1],_,D),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,l[0],l[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,l[2],l[3]),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(p){if(this.contentVisible){this.save();var l=this.suspendedCtx;this.current.activeSMask&&(this.suspendedCtx=null,this.current.activeSMask=null);var _=this.ctx;p.isolated||(0,e.info)("TODO: Support non-isolated groups."),p.knockout&&(0,e.warn)("Knockout groups not supported.");var D=_.mozCurrentTransform;if(p.matrix&&_.transform.apply(_,p.matrix),!p.bbox)throw new Error("Bounding box is required.");var j=e.Util.getAxialAlignedBoundingBox(p.bbox,_.mozCurrentTransform),Z=[0,0,_.canvas.width,_.canvas.height];j=e.Util.intersect(j,Z)||[0,0,0,0];var ce=Math.floor(j[0]),pe=Math.floor(j[1]),ge=Math.max(Math.ceil(j[2])-ce,1),ye=Math.max(Math.ceil(j[3])-pe,1),Ae=1,Te=1;ge>U&&(Ae=ge/U,ge=U),ye>U&&(Te=ye/U,ye=U),this.current.startNewPathAndClipBox([0,0,ge,ye]);var xe="groupAt"+this.groupLevel;p.smask&&(xe+="_smask_"+this.smaskCounter++%2);var Ie=this.cachedCanvases.getCanvas(xe,ge,ye,!0),Me=Ie.context;Me.scale(1/Ae,1/Te),Me.translate(-ce,-pe),Me.transform.apply(Me,D),p.smask?this.smaskStack.push({canvas:Ie.canvas,context:Me,offsetX:ce,offsetY:pe,scaleX:Ae,scaleY:Te,subtype:p.smask.subtype,backdrop:p.smask.backdrop,transferMap:p.smask.transferMap||null,startTransformInverse:null}):(_.setTransform(1,0,0,1,0,0),_.translate(ce,pe),_.scale(Ae,Te),_.save()),ee(_,Me),this.ctx=Me,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push({ctx:_,suspendedCtx:l}),this.groupLevel++}}},{key:"endGroup",value:function(p){if(this.contentVisible){this.groupLevel--;var l=this.ctx,_=this.groupStack.pop(),D=_.ctx,j=_.suspendedCtx;if(this.ctx=D,this.ctx.imageSmoothingEnabled=!1,j&&(this.suspendedCtx=j),p.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();var Z=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,Z);var ce=e.Util.getAxialAlignedBoundingBox([0,0,l.canvas.width,l.canvas.height],Z);this.ctx.drawImage(l.canvas,0,0),this.ctx.restore(),this.compose(ce)}}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(p,l,_,D,j){if(this.save(),Array.isArray(l)&&l.length===4){var Z=l[2]-l[0],ce=l[3]-l[1];if(j&&this.annotationCanvasMap){_=_.slice(),_[4]-=l[0],_[5]-=l[1],l=l.slice(),l[0]=l[1]=0,l[2]=Z,l[3]=ce;var pe=e.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),ge=N(pe,2),ye=ge[0],Ae=ge[1],Te=this.viewportScale,xe=Math.ceil(Z*this.outputScaleX*Te),Ie=Math.ceil(ce*this.outputScaleY*Te);this.annotationCanvas=this.canvasFactory.create(xe,Ie);var Me=this.annotationCanvas,je=Me.canvas,Ge=Me.context;je.style.width="calc(".concat(Z,"px * var(--viewport-scale-factor))"),je.style.height="calc(".concat(ce,"px * var(--viewport-scale-factor))"),this.annotationCanvasMap.set(p,je),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ge,this.ctx.setTransform(ye,0,0,-Ae,0,ce*Ae),A(this.ctx),oe(this.ctx)}else oe(this.ctx),this.ctx.rect(l[0],l[1],Z,ce),this.clip(),this.endPath()}this.current=new L(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,_),this.transform.apply(this,D)}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}},{key:"paintImageMaskXObject",value:function(p){if(this.contentVisible){var l=this.ctx,_=p.width,D=p.height,j=this.processingType3;if(j&&j.compiled===void 0&&(_<=d&&D<=d?j.compiled=H({data:p.data,width:_,height:D}):j.compiled=null),j!=null&&j.compiled){j.compiled(l);return}var Z=this._createMaskCanvas(p),ce=Z.canvas;l.save(),l.setTransform(1,0,0,1,0,0),l.drawImage(ce,Z.offsetX,Z.offsetY),l.restore(),this.compose()}}},{key:"paintImageMaskXObjectRepeat",value:function(p,l){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,j=arguments.length>4?arguments[4]:void 0,Z=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var ce=this.ctx;ce.save();var pe=ce.mozCurrentTransform;ce.transform(l,_,D,j,0,0);var ge=this._createMaskCanvas(p);ce.setTransform(1,0,0,1,0,0);for(var ye=0,Ae=Z.length;ye<Ae;ye+=2){var Te=e.Util.transform(pe,[l,_,D,j,Z[ye],Z[ye+1]]),xe=e.Util.applyTransform([0,0],Te),Ie=N(xe,2),Me=Ie[0],je=Ie[1];ce.drawImage(ge.canvas,Me,je)}ce.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(p){if(this.contentVisible){for(var l=this.ctx,_=this.current.fillColor,D=this.current.patternFill,j=0,Z=p.length;j<Z;j++){var ce=p[j],pe=ce.width,ge=ce.height,ye=this.cachedCanvases.getCanvas("maskCanvas",pe,ge),Ae=ye.context;Ae.save(),te(Ae,ce),Ae.globalCompositeOperation="source-in",Ae.fillStyle=D?_.getPattern(Ae,this,l.mozCurrentTransformInverse,a.PathType.FILL):_,Ae.fillRect(0,0,pe,ge),Ae.restore(),l.save(),l.transform.apply(l,ce.transform),l.scale(1,-1),l.drawImage(ye.canvas,0,0,pe,ge,0,-1,1,1),l.restore()}this.compose()}}},{key:"paintImageXObject",value:function(p){if(this.contentVisible){var l=p.startsWith("g_")?this.commonObjs.get(p):this.objs.get(p);if(!l){(0,e.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(l)}}},{key:"paintImageXObjectRepeat",value:function(p,l,_,D){if(this.contentVisible){var j=p.startsWith("g_")?this.commonObjs.get(p):this.objs.get(p);if(!j){(0,e.warn)("Dependent image isn't ready yet");return}for(var Z=j.width,ce=j.height,pe=[],ge=0,ye=D.length;ge<ye;ge+=2)pe.push({transform:[l,0,0,_,D[ge],D[ge+1]],x:0,y:0,w:Z,h:ce});this.paintInlineImageXObjectGroup(j,pe)}}},{key:"paintInlineImageXObject",value:function(p){if(this.contentVisible){var l=p.width,_=p.height,D=this.ctx;this.save(),D.scale(1/l,-1/_);var j;if(typeof HTMLElement=="function"&&p instanceof HTMLElement||!p.data)j=p;else{var Z=this.cachedCanvases.getCanvas("inlineImage",l,_),ce=Z.context;X(ce,p,this.current.transferMaps),j=Z.canvas}var pe=this._scaleImage(j,D.mozCurrentTransformInverse);if(D.imageSmoothingEnabled=M(D.mozCurrentTransform,p.interpolate),D.drawImage(pe.img,0,0,pe.paintWidth,pe.paintHeight,0,-_,l,_),this.imageLayer){var ge=this.getCanvasPosition(0,-_);this.imageLayer.appendImage({imgData:p,left:ge[0],top:ge[1],width:l/D.mozCurrentTransformInverse[0],height:_/D.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(p,l){if(this.contentVisible){var _=this.ctx,D=p.width,j=p.height,Z=this.cachedCanvases.getCanvas("inlineImage",D,j),ce=Z.context;X(ce,p,this.current.transferMaps);for(var pe=0,ge=l.length;pe<ge;pe++){var ye=l[pe];if(_.save(),_.transform.apply(_,ye.transform),_.scale(1,-1),_.drawImage(Z.canvas,ye.x,ye.y,ye.w,ye.h,0,-1,1,1),this.imageLayer){var Ae=this.getCanvasPosition(ye.x,ye.y);this.imageLayer.appendImage({imgData:p,left:Ae[0],top:Ae[1],width:D,height:j})}_.restore()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(p){}},{key:"markPointProps",value:function(p,l){}},{key:"beginMarkedContent",value:function(p){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(p,l){p==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(l)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(p){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(p);var l=this.ctx;this.pendingClip&&(this.pendingClip===Se?l.clip("evenodd"):l.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),l.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(this._cachedGetSinglePixelWidth===null){var p=this.ctx.mozCurrentTransform,l=Math.abs(p[0]*p[3]-p[2]*p[1]),_=Math.pow(p[0],2)+Math.pow(p[2],2),D=Math.pow(p[1],2)+Math.pow(p[3],2),j=Math.sqrt(Math.max(_,D))/l;_!==D&&this._combinedScaleFactor*j>1?this._cachedGetSinglePixelWidth=-(this._combinedScaleFactor*j):l>Number.EPSILON?this._cachedGetSinglePixelWidth=j:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(p,l){var _=this.ctx.mozCurrentTransform;return[_[0]*p+_[2]*l+_[4],_[1]*p+_[3]*l+_[5]]}},{key:"isContentVisible",value:function(){for(var p=this.markedContentStack.length-1;p>=0;p--)if(!this.markedContentStack[p].visible)return!1;return!0}}]),V}();n.CanvasGraphics=ke;for(var Ee in e.OPS)ke.prototype[Ee]!==void 0&&(ke.prototype[e.OPS[Ee]]=ke.prototype[Ee])},(u,n,t)=>{function e(L){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(te){return typeof te}:e=function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},e(L)}Object.defineProperty(n,"__esModule",{value:!0}),n.TilingPattern=n.PathType=void 0,n.getShadingPattern=A;var a=t(4);function i(L,X){var te=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!te){if(Array.isArray(L)||(te=c(L))||X){te&&(L=te);var ee=0,oe=function(){};return{s:oe,n:function(){return ee>=L.length?{done:!0}:{done:!1,value:L[ee++]}},e:function(P){throw P},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $=!0,q=!1,E;return{s:function(){te=te.call(L)},n:function(){var P=te.next();return $=P.done,P},e:function(P){q=!0,E=P},f:function(){try{!$&&te.return!=null&&te.return()}finally{if(q)throw E}}}}function c(L,X){if(L){if(typeof L=="string")return f(L,X);var te=Object.prototype.toString.call(L).slice(8,-1);if(te==="Object"&&L.constructor&&(te=L.constructor.name),te==="Map"||te==="Set")return Array.from(L);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return f(L,X)}}function f(L,X){(X==null||X>L.length)&&(X=L.length);for(var te=0,ee=new Array(X);te<X;te++)ee[te]=L[te];return ee}function m(L,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(X&&X.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),X&&R(L,X)}function R(L,X){return R=Object.setPrototypeOf||function(ee,oe){return ee.__proto__=oe,ee},R(L,X)}function B(L){var X=F();return function(){var ee=w(L),oe;if(X){var $=w(this).constructor;oe=Reflect.construct(ee,arguments,$)}else oe=ee.apply(this,arguments);return N(this,oe)}}function N(L,X){if(X&&(e(X)==="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G(L)}function G(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(L){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(te){return te.__proto__||Object.getPrototypeOf(te)},w(L)}function I(L,X){if(!(L instanceof X))throw new TypeError("Cannot call a class as a function")}function C(L,X){for(var te=0;te<X.length;te++){var ee=X[te];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(L,ee.key,ee)}}function W(L,X,te){return X&&C(L.prototype,X),te&&C(L,te),L}var k={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};n.PathType=k;function U(L,X){if(!(!X||typeof Path2D>"u")){var te=X[2]-X[0],ee=X[3]-X[1],oe=new Path2D;oe.rect(X[0],X[1],te,ee),L.clip(oe)}}var y=function(){function L(){I(this,L),this.constructor===L&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}return W(L,[{key:"getPattern",value:function(){(0,a.unreachable)("Abstract method `getPattern` called.")}}]),L}(),h=function(L){m(te,L);var X=B(te);function te(ee){var oe;return I(this,te),oe=X.call(this),oe._type=ee[1],oe._bbox=ee[2],oe._colorStops=ee[3],oe._p0=ee[4],oe._p1=ee[5],oe._r0=ee[6],oe._r1=ee[7],oe.matrix=null,oe}return W(te,[{key:"_createGradient",value:function(oe){var $;this._type==="axial"?$=oe.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&($=oe.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var q=i(this._colorStops),E;try{for(q.s();!(E=q.n()).done;){var g=E.value;$.addColorStop(g[0],g[1])}}catch(P){q.e(P)}finally{q.f()}return $}},{key:"getPattern",value:function(oe,$,q,E){var g;if(E===k.STROKE||E===k.FILL){var P=$.current.getClippedPathBoundingBox(E,oe.mozCurrentTransform)||[0,0,0,0],M=Math.ceil(P[2]-P[0])||1,K=Math.ceil(P[3]-P[1])||1,ne=$.cachedCanvases.getCanvas("pattern",M,K,!0),Y=ne.context;Y.clearRect(0,0,Y.canvas.width,Y.canvas.height),Y.beginPath(),Y.rect(0,0,Y.canvas.width,Y.canvas.height),Y.translate(-P[0],-P[1]),q=a.Util.transform(q,[1,0,0,1,P[0],P[1]]),Y.transform.apply(Y,$.baseTransform),this.matrix&&Y.transform.apply(Y,this.matrix),U(Y,this._bbox),Y.fillStyle=this._createGradient(Y),Y.fill(),g=oe.createPattern(ne.canvas,"no-repeat");var Se=new DOMMatrix(q);try{g.setTransform(Se)}catch(ke){(0,a.warn)('RadialAxialShadingPattern.getPattern: "'.concat(ke==null?void 0:ke.message,'".'))}}else U(oe,this._bbox),g=this._createGradient(oe);return g}}]),te}(y);function d(L,X,te,ee,oe,$,q,E){var g=X.coords,P=X.colors,M=L.data,K=L.width*4,ne;g[te+1]>g[ee+1]&&(ne=te,te=ee,ee=ne,ne=$,$=q,q=ne),g[ee+1]>g[oe+1]&&(ne=ee,ee=oe,oe=ne,ne=q,q=E,E=ne),g[te+1]>g[ee+1]&&(ne=te,te=ee,ee=ne,ne=$,$=q,q=ne);var Y=(g[te]+X.offsetX)*X.scaleX,Se=(g[te+1]+X.offsetY)*X.scaleY,ke=(g[ee]+X.offsetX)*X.scaleX,Ee=(g[ee+1]+X.offsetY)*X.scaleY,V=(g[oe]+X.offsetX)*X.scaleX,O=(g[oe+1]+X.offsetY)*X.scaleY;if(!(Se>=O))for(var p=P[$],l=P[$+1],_=P[$+2],D=P[q],j=P[q+1],Z=P[q+2],ce=P[E],pe=P[E+1],ge=P[E+2],ye=Math.round(Se),Ae=Math.round(O),Te,xe,Ie,Me,je,Ge,de,he,z=ye;z<=Ae;z++){if(z<Ee){var re=void 0;z<Se?re=0:re=(Se-z)/(Se-Ee),Te=Y-(Y-ke)*re,xe=p-(p-D)*re,Ie=l-(l-j)*re,Me=_-(_-Z)*re}else{var Q=void 0;z>O?Q=1:Ee===O?Q=0:Q=(Ee-z)/(Ee-O),Te=ke-(ke-V)*Q,xe=D-(D-ce)*Q,Ie=j-(j-pe)*Q,Me=Z-(Z-ge)*Q}var se=void 0;z<Se?se=0:z>O?se=1:se=(Se-z)/(Se-O),je=Y-(Y-V)*se,Ge=p-(p-ce)*se,de=l-(l-pe)*se,he=_-(_-ge)*se;for(var ae=Math.round(Math.min(Te,je)),J=Math.round(Math.max(Te,je)),ve=K*z+ae*4,fe=ae;fe<=J;fe++)se=(Te-fe)/(Te-je),se<0?se=0:se>1&&(se=1),M[ve++]=xe-(xe-Ge)*se|0,M[ve++]=Ie-(Ie-de)*se|0,M[ve++]=Me-(Me-he)*se|0,M[ve++]=255}}function S(L,X,te){var ee=X.coords,oe=X.colors,$,q;switch(X.type){case"lattice":var E=X.verticesPerRow,g=Math.floor(ee.length/E)-1,P=E-1;for($=0;$<g;$++)for(var M=$*E,K=0;K<P;K++,M++)d(L,te,ee[M],ee[M+1],ee[M+E],oe[M],oe[M+1],oe[M+E]),d(L,te,ee[M+E+1],ee[M+1],ee[M+E],oe[M+E+1],oe[M+1],oe[M+E]);break;case"triangles":for($=0,q=ee.length;$<q;$+=3)d(L,te,ee[$],ee[$+1],ee[$+2],oe[$],oe[$+1],oe[$+2]);break;default:throw new Error("illegal figure")}}var b=function(L){m(te,L);var X=B(te);function te(ee){var oe;return I(this,te),oe=X.call(this),oe._coords=ee[2],oe._colors=ee[3],oe._figures=ee[4],oe._bounds=ee[5],oe._bbox=ee[7],oe._background=ee[8],oe.matrix=null,oe}return W(te,[{key:"_createMeshCanvas",value:function(oe,$,q){var E=1.1,g=3e3,P=2,M=Math.floor(this._bounds[0]),K=Math.floor(this._bounds[1]),ne=Math.ceil(this._bounds[2])-M,Y=Math.ceil(this._bounds[3])-K,Se=Math.min(Math.ceil(Math.abs(ne*oe[0]*E)),g),ke=Math.min(Math.ceil(Math.abs(Y*oe[1]*E)),g),Ee=ne/Se,V=Y/ke,O={coords:this._coords,colors:this._colors,offsetX:-M,offsetY:-K,scaleX:1/Ee,scaleY:1/V},p=Se+P*2,l=ke+P*2,_=q.getCanvas("mesh",p,l,!1),D=_.context,j=D.createImageData(Se,ke);if($)for(var Z=j.data,ce=0,pe=Z.length;ce<pe;ce+=4)Z[ce]=$[0],Z[ce+1]=$[1],Z[ce+2]=$[2],Z[ce+3]=255;var ge=i(this._figures),ye;try{for(ge.s();!(ye=ge.n()).done;){var Ae=ye.value;S(j,Ae,O)}}catch(xe){ge.e(xe)}finally{ge.f()}D.putImageData(j,P,P);var Te=_.canvas;return{canvas:Te,offsetX:M-P*Ee,offsetY:K-P*V,scaleX:Ee,scaleY:V}}},{key:"getPattern",value:function(oe,$,q,E){U(oe,this._bbox);var g;if(E===k.SHADING)g=a.Util.singularValueDecompose2dScale(oe.mozCurrentTransform);else if(g=a.Util.singularValueDecompose2dScale($.baseTransform),this.matrix){var P=a.Util.singularValueDecompose2dScale(this.matrix);g=[g[0]*P[0],g[1]*P[1]]}var M=this._createMeshCanvas(g,E===k.SHADING?null:this._background,$.cachedCanvases);return E!==k.SHADING&&(oe.setTransform.apply(oe,$.baseTransform),this.matrix&&oe.transform.apply(oe,this.matrix)),oe.translate(M.offsetX,M.offsetY),oe.scale(M.scaleX,M.scaleY),oe.createPattern(M.canvas,"no-repeat")}}]),te}(y),v=function(L){m(te,L);var X=B(te);function te(){return I(this,te),X.apply(this,arguments)}return W(te,[{key:"getPattern",value:function(){return"hotpink"}}]),te}(y);function A(L){switch(L[0]){case"RadialAxial":return new h(L);case"Mesh":return new b(L);case"Dummy":return new v}throw new Error("Unknown IR type: ".concat(L[0]))}var x={COLORED:1,UNCOLORED:2},H=function(){function L(X,te,ee,oe,$){I(this,L),this.operatorList=X[2],this.matrix=X[3]||[1,0,0,1,0,0],this.bbox=X[4],this.xstep=X[5],this.ystep=X[6],this.paintType=X[7],this.tilingType=X[8],this.color=te,this.ctx=ee,this.canvasGraphicsFactory=oe,this.baseTransform=$}return W(L,[{key:"createPatternCanvas",value:function(te){var ee=this.operatorList,oe=this.bbox,$=this.xstep,q=this.ystep,E=this.paintType,g=this.tilingType,P=this.color,M=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+g);var K=oe[0],ne=oe[1],Y=oe[2],Se=oe[3],ke=a.Util.singularValueDecompose2dScale(this.matrix),Ee=a.Util.singularValueDecompose2dScale(this.baseTransform),V=[ke[0]*Ee[0],ke[1]*Ee[1]],O=this.getSizeAndScale($,this.ctx.canvas.width,V[0]),p=this.getSizeAndScale(q,this.ctx.canvas.height,V[1]),l=te.cachedCanvases.getCanvas("pattern",O.size,p.size,!0),_=l.context,D=M.createCanvasGraphics(_);D.groupLevel=te.groupLevel,this.setFillAndStrokeStyleToContext(D,E,P);var j=K,Z=ne,ce=Y,pe=Se;return K<0&&(j=0,ce+=Math.abs(K)),ne<0&&(Z=0,pe+=Math.abs(ne)),_.translate(-(O.scale*j),-(p.scale*Z)),D.transform(O.scale,0,0,p.scale,0,0),this.clipBbox(D,j,Z,ce,pe),D.baseTransform=D.ctx.mozCurrentTransform.slice(),D.executeOperatorList(ee),D.endDrawing(),{canvas:l.canvas,scaleX:O.scale,scaleY:p.scale,offsetX:j,offsetY:Z}}},{key:"getSizeAndScale",value:function(te,ee,oe){te=Math.abs(te);var $=Math.max(L.MAX_PATTERN_SIZE,ee),q=Math.ceil(te*oe);return q>=$?q=$:oe=q/te,{scale:oe,size:q}}},{key:"clipBbox",value:function(te,ee,oe,$,q){var E=$-ee,g=q-oe;te.ctx.rect(ee,oe,E,g),te.clip(),te.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(te,ee,oe){var $=te.ctx,q=te.current;switch(ee){case x.COLORED:var E=this.ctx;$.fillStyle=E.fillStyle,$.strokeStyle=E.strokeStyle,q.fillColor=E.fillStyle,q.strokeColor=E.strokeStyle;break;case x.UNCOLORED:var g=a.Util.makeHexColor(oe[0],oe[1],oe[2]);$.fillStyle=g,$.strokeStyle=g,q.fillColor=g,q.strokeColor=g;break;default:throw new a.FormatError("Unsupported paint type: ".concat(ee))}}},{key:"getPattern",value:function(te,ee,oe,$){var q=oe;$!==k.SHADING&&(q=a.Util.transform(q,ee.baseTransform),this.matrix&&(q=a.Util.transform(q,this.matrix)));var E=this.createPatternCanvas(ee),g=new DOMMatrix(q);g=g.translate(E.offsetX,E.offsetY),g=g.scale(1/E.scaleX,1/E.scaleY);var P=te.createPattern(E.canvas,"repeat");try{P.setTransform(g)}catch(M){(0,a.warn)('TilingPattern.getPattern: "'.concat(M==null?void 0:M.message,'".'))}return P}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,a.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),L}();n.TilingPattern=H},(u,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalWorkerOptions=void 0;var t=Object.create(null);n.GlobalWorkerOptions=t,t.workerPort=t.workerPort===void 0?null:t.workerPort,t.workerSrc=t.workerSrc===void 0?"":t.workerSrc},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MessageHandler=void 0;var e=i(t(2)),a=t(4);function i(C){return C&&C.__esModule?C:{default:C}}function c(C,W,k,U,y,h,d){try{var S=C[h](d),b=S.value}catch(v){k(v);return}S.done?W(b):Promise.resolve(b).then(U,y)}function f(C){return function(){var W=this,k=arguments;return new Promise(function(U,y){var h=C.apply(W,k);function d(b){c(h,U,y,d,S,"next",b)}function S(b){c(h,U,y,d,S,"throw",b)}d(void 0)})}}function m(C,W){if(!(C instanceof W))throw new TypeError("Cannot call a class as a function")}function R(C,W){for(var k=0;k<W.length;k++){var U=W[k];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(C,U.key,U)}}function B(C,W,k){return W&&R(C.prototype,W),C}function N(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N=function(k){return typeof k}:N=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},N(C)}var G={UNKNOWN:0,DATA:1,ERROR:2},F={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function w(C){if(!(C instanceof Error||N(C)==="object"&&C!==null))return(0,a.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),C;switch(C.name){case"AbortException":return new a.AbortException(C.message);case"MissingPDFException":return new a.MissingPDFException(C.message);case"PasswordException":return new a.PasswordException(C.message,C.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(C.message,C.status);case"UnknownErrorException":return new a.UnknownErrorException(C.message,C.details);default:return new a.UnknownErrorException(C.message,C.toString())}}var I=function(){function C(W,k,U){var y=this;m(this,C),this.sourceName=W,this.targetName=k,this.comObj=U,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(h){var d=h.data;if(d.targetName===y.sourceName){if(d.stream){y._processStreamMessage(d);return}if(d.callback){var S=d.callbackId,b=y.callbackCapabilities[S];if(!b)throw new Error("Cannot resolve callback ".concat(S));if(delete y.callbackCapabilities[S],d.callback===G.DATA)b.resolve(d.data);else if(d.callback===G.ERROR)b.reject(w(d.reason));else throw new Error("Unexpected callback case");return}var v=y.actionHandler[d.action];if(!v)throw new Error("Unknown action from worker: ".concat(d.action));if(d.callbackId){var A=y.sourceName,x=d.sourceName;new Promise(function(H){H(v(d.data))}).then(function(H){U.postMessage({sourceName:A,targetName:x,callback:G.DATA,callbackId:d.callbackId,data:H})},function(H){U.postMessage({sourceName:A,targetName:x,callback:G.ERROR,callbackId:d.callbackId,reason:w(H)})});return}if(d.streamId){y._createStreamSink(d);return}v(d.data)}},U.addEventListener("message",this._onComObjOnMessage)}return B(C,[{key:"on",value:function(k,U){var y=this.actionHandler;if(y[k])throw new Error('There is already an actionName called "'.concat(k,'"'));y[k]=U}},{key:"send",value:function(k,U,y){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:k,data:U},y)}},{key:"sendWithPromise",value:function(k,U,y){var h=this.callbackId++,d=(0,a.createPromiseCapability)();this.callbackCapabilities[h]=d;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:k,callbackId:h,data:U},y)}catch(S){d.reject(S)}return d.promise}},{key:"sendWithStream",value:function(k,U,y,h){var d=this,S=this.streamId++,b=this.sourceName,v=this.targetName,A=this.comObj;return new ReadableStream({start:function(H){var L=(0,a.createPromiseCapability)();return d.streamControllers[S]={controller:H,startCall:L,pullCall:null,cancelCall:null,isClosed:!1},A.postMessage({sourceName:b,targetName:v,action:k,streamId:S,data:U,desiredSize:H.desiredSize},h),L.promise},pull:function(H){var L=(0,a.createPromiseCapability)();return d.streamControllers[S].pullCall=L,A.postMessage({sourceName:b,targetName:v,stream:F.PULL,streamId:S,desiredSize:H.desiredSize}),L.promise},cancel:function(H){(0,a.assert)(H instanceof Error,"cancel must have a valid reason");var L=(0,a.createPromiseCapability)();return d.streamControllers[S].cancelCall=L,d.streamControllers[S].isClosed=!0,A.postMessage({sourceName:b,targetName:v,stream:F.CANCEL,streamId:S,reason:w(H)}),L.promise}},y)}},{key:"_createStreamSink",value:function(k){var U=k.streamId,y=this.sourceName,h=k.sourceName,d=this.comObj,S=this,b=this.actionHandler[k.action],v={enqueue:function(x){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,L=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var X=this.desiredSize;this.desiredSize-=H,X>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),d.postMessage({sourceName:y,targetName:h,stream:F.ENQUEUE,streamId:U,chunk:x},L)}},close:function(){this.isCancelled||(this.isCancelled=!0,d.postMessage({sourceName:y,targetName:h,stream:F.CLOSE,streamId:U}),delete S.streamSinks[U])},error:function(x){(0,a.assert)(x instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,d.postMessage({sourceName:y,targetName:h,stream:F.ERROR,streamId:U,reason:w(x)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:k.desiredSize,ready:null};v.sinkCapability.resolve(),v.ready=v.sinkCapability.promise,this.streamSinks[U]=v,new Promise(function(A){A(b(k.data,v))}).then(function(){d.postMessage({sourceName:y,targetName:h,stream:F.START_COMPLETE,streamId:U,success:!0})},function(A){d.postMessage({sourceName:y,targetName:h,stream:F.START_COMPLETE,streamId:U,reason:w(A)})})}},{key:"_processStreamMessage",value:function(k){var U=k.streamId,y=this.sourceName,h=k.sourceName,d=this.comObj,S=this.streamControllers[U],b=this.streamSinks[U];switch(k.stream){case F.START_COMPLETE:k.success?S.startCall.resolve():S.startCall.reject(w(k.reason));break;case F.PULL_COMPLETE:k.success?S.pullCall.resolve():S.pullCall.reject(w(k.reason));break;case F.PULL:if(!b){d.postMessage({sourceName:y,targetName:h,stream:F.PULL_COMPLETE,streamId:U,success:!0});break}b.desiredSize<=0&&k.desiredSize>0&&b.sinkCapability.resolve(),b.desiredSize=k.desiredSize,new Promise(function(v){v(b.onPull&&b.onPull())}).then(function(){d.postMessage({sourceName:y,targetName:h,stream:F.PULL_COMPLETE,streamId:U,success:!0})},function(v){d.postMessage({sourceName:y,targetName:h,stream:F.PULL_COMPLETE,streamId:U,reason:w(v)})});break;case F.ENQUEUE:if((0,a.assert)(S,"enqueue should have stream controller"),S.isClosed)break;S.controller.enqueue(k.chunk);break;case F.CLOSE:if((0,a.assert)(S,"close should have stream controller"),S.isClosed)break;S.isClosed=!0,S.controller.close(),this._deleteStreamController(S,U);break;case F.ERROR:(0,a.assert)(S,"error should have stream controller"),S.controller.error(w(k.reason)),this._deleteStreamController(S,U);break;case F.CANCEL_COMPLETE:k.success?S.cancelCall.resolve():S.cancelCall.reject(w(k.reason)),this._deleteStreamController(S,U);break;case F.CANCEL:if(!b)break;new Promise(function(v){v(b.onCancel&&b.onCancel(w(k.reason)))}).then(function(){d.postMessage({sourceName:y,targetName:h,stream:F.CANCEL_COMPLETE,streamId:U,success:!0})},function(v){d.postMessage({sourceName:y,targetName:h,stream:F.CANCEL_COMPLETE,streamId:U,reason:w(v)})}),b.sinkCapability.reject(w(k.reason)),b.isCancelled=!0,delete this.streamSinks[U];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var W=f(e.default.mark(function U(y,h){return e.default.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,Promise.allSettled([y.startCall&&y.startCall.promise,y.pullCall&&y.pullCall.promise,y.cancelCall&&y.cancelCall.promise]);case 2:delete this.streamControllers[h];case 3:case"end":return S.stop()}},U,this)}));function k(U,y){return W.apply(this,arguments)}return k}()},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),C}();n.MessageHandler=I},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var e=t(4);function a(W,k){if(!(W instanceof k))throw new TypeError("Cannot call a class as a function")}function i(W,k){for(var U=0;U<k.length;U++){var y=k[U];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(W,y.key,y)}}function c(W,k,U){return k&&i(W.prototype,k),W}function f(W,k,U){m(W,k),k.set(W,U)}function m(W,k){if(k.has(W))throw new TypeError("Cannot initialize the same private elements twice on an object")}function R(W,k){var U=G(W,k,"get");return B(W,U)}function B(W,k){return k.get?k.get.call(W):k.value}function N(W,k,U){var y=G(W,k,"set");return F(W,y,U),U}function G(W,k,U){if(!k.has(W))throw new TypeError("attempted to "+U+" private field on non-instance");return k.get(W)}function F(W,k,U){if(k.set)k.set.call(W,U);else{if(!k.writable)throw new TypeError("attempted to set read only private field");k.value=U}}var w=new WeakMap,I=new WeakMap,C=function(){function W(k){var U=k.parsedData,y=k.rawData;a(this,W),f(this,w,{writable:!0,value:void 0}),f(this,I,{writable:!0,value:void 0}),N(this,w,U),N(this,I,y)}return c(W,[{key:"getRaw",value:function(){return R(this,I)}},{key:"get",value:function(U){var y;return(y=R(this,w).get(U))!==null&&y!==void 0?y:null}},{key:"getAll",value:function(){return(0,e.objectFromMap)(R(this,w))}},{key:"has",value:function(U){return R(this,w).has(U)}}]),W}();n.Metadata=C},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionalContentConfig=void 0;var e=t(4);function a(G,F){var w=typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(!w){if(Array.isArray(G)||(w=i(G))||F){w&&(G=w);var I=0,C=function(){};return{s:C,n:function(){return I>=G.length?{done:!0}:{done:!1,value:G[I++]}},e:function(h){throw h},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W=!0,k=!1,U;return{s:function(){w=w.call(G)},n:function(){var h=w.next();return W=h.done,h},e:function(h){k=!0,U=h},f:function(){try{!W&&w.return!=null&&w.return()}finally{if(k)throw U}}}}function i(G,F){if(G){if(typeof G=="string")return c(G,F);var w=Object.prototype.toString.call(G).slice(8,-1);if(w==="Object"&&G.constructor&&(w=G.constructor.name),w==="Map"||w==="Set")return Array.from(G);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return c(G,F)}}function c(G,F){(F==null||F>G.length)&&(F=G.length);for(var w=0,I=new Array(F);w<F;w++)I[w]=G[w];return I}function f(G,F){for(var w=0;w<F.length;w++){var I=F[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(G,I.key,I)}}function m(G,F,w){return F&&f(G.prototype,F),G}function R(G,F){if(!(G instanceof F))throw new TypeError("Cannot call a class as a function")}var B=function G(F,w){R(this,G),this.visible=!0,this.name=F,this.intent=w},N=function(){function G(F){if(R(this,G),this.name=null,this.creator=null,this._order=null,this._groups=new Map,F!==null){this.name=F.name,this.creator=F.creator,this._order=F.order;var w=a(F.groups),I;try{for(w.s();!(I=w.n()).done;){var C=I.value;this._groups.set(C.id,new B(C.name,C.intent))}}catch(A){w.e(A)}finally{w.f()}if(F.baseState==="OFF"){var W=a(this._groups),k;try{for(W.s();!(k=W.n()).done;){var U=k.value;U.visible=!1}}catch(A){W.e(A)}finally{W.f()}}var y=a(F.on),h;try{for(y.s();!(h=y.n()).done;){var d=h.value;this._groups.get(d).visible=!0}}catch(A){y.e(A)}finally{y.f()}var S=a(F.off),b;try{for(S.s();!(b=S.n()).done;){var v=b.value;this._groups.get(v).visible=!1}}catch(A){S.e(A)}finally{S.f()}}}return m(G,[{key:"_evaluateVisibilityExpression",value:function(w){var I=w.length;if(I<2)return!0;for(var C=w[0],W=1;W<I;W++){var k=w[W],U=void 0;if(Array.isArray(k))U=this._evaluateVisibilityExpression(k);else if(this._groups.has(k))U=this._groups.get(k).visible;else return(0,e.warn)("Optional content group not found: ".concat(k)),!0;switch(C){case"And":if(!U)return!1;break;case"Or":if(U)return!0;break;case"Not":return!U;default:return!0}}return C==="And"}},{key:"isVisible",value:function(w){if(this._groups.size===0)return!0;if(!w)return(0,e.warn)("Optional content group not defined."),!0;if(w.type==="OCG")return this._groups.has(w.id)?this._groups.get(w.id).visible:((0,e.warn)("Optional content group not found: ".concat(w.id)),!0);if(w.type==="OCMD"){if(w.expression)return this._evaluateVisibilityExpression(w.expression);if(!w.policy||w.policy==="AnyOn"){var I=a(w.ids),C;try{for(I.s();!(C=I.n()).done;){var W=C.value;if(!this._groups.has(W))return(0,e.warn)("Optional content group not found: ".concat(W)),!0;if(this._groups.get(W).visible)return!0}}catch(x){I.e(x)}finally{I.f()}return!1}else if(w.policy==="AllOn"){var k=a(w.ids),U;try{for(k.s();!(U=k.n()).done;){var y=U.value;if(!this._groups.has(y))return(0,e.warn)("Optional content group not found: ".concat(y)),!0;if(!this._groups.get(y).visible)return!1}}catch(x){k.e(x)}finally{k.f()}return!0}else if(w.policy==="AnyOff"){var h=a(w.ids),d;try{for(h.s();!(d=h.n()).done;){var S=d.value;if(!this._groups.has(S))return(0,e.warn)("Optional content group not found: ".concat(S)),!0;if(!this._groups.get(S).visible)return!0}}catch(x){h.e(x)}finally{h.f()}return!1}else if(w.policy==="AllOff"){var b=a(w.ids),v;try{for(b.s();!(v=b.n()).done;){var A=v.value;if(!this._groups.has(A))return(0,e.warn)("Optional content group not found: ".concat(A)),!0;if(this._groups.get(A).visible)return!1}}catch(x){b.e(x)}finally{b.f()}return!0}return(0,e.warn)("Unknown optional content policy ".concat(w.policy,".")),!0}return(0,e.warn)("Unknown group type ".concat(w.type,".")),!0}},{key:"setVisibility",value:function(w){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this._groups.has(w)){(0,e.warn)("Optional content group not found: ".concat(w));return}this._groups.get(w).visible=!!I}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,e.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(w){return this._groups.get(w)||null}}]),G}();n.OptionalContentConfig=N},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFDataTransportStream=void 0;var e=c(t(2)),a=t(4),i=t(1);function c(k){return k&&k.__esModule?k:{default:k}}function f(k,U,y,h,d,S,b){try{var v=k[S](b),A=v.value}catch(x){y(x);return}v.done?U(A):Promise.resolve(A).then(h,d)}function m(k){return function(){var U=this,y=arguments;return new Promise(function(h,d){var S=k.apply(U,y);function b(A){f(S,h,d,b,v,"next",A)}function v(A){f(S,h,d,b,v,"throw",A)}b(void 0)})}}function R(k,U){var y=typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(!y){if(Array.isArray(k)||(y=B(k))||U){y&&(k=y);var h=0,d=function(){};return{s:d,n:function(){return h>=k.length?{done:!0}:{done:!1,value:k[h++]}},e:function(x){throw x},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=!0,b=!1,v;return{s:function(){y=y.call(k)},n:function(){var x=y.next();return S=x.done,x},e:function(x){b=!0,v=x},f:function(){try{!S&&y.return!=null&&y.return()}finally{if(b)throw v}}}}function B(k,U){if(k){if(typeof k=="string")return N(k,U);var y=Object.prototype.toString.call(k).slice(8,-1);if(y==="Object"&&k.constructor&&(y=k.constructor.name),y==="Map"||y==="Set")return Array.from(k);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return N(k,U)}}function N(k,U){(U==null||U>k.length)&&(U=k.length);for(var y=0,h=new Array(U);y<U;y++)h[y]=k[y];return h}function G(k,U){if(!(k instanceof U))throw new TypeError("Cannot call a class as a function")}function F(k,U){for(var y=0;y<U.length;y++){var h=U[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(k,h.key,h)}}function w(k,U,y){return U&&F(k.prototype,U),k}var I=function(){function k(U,y){var h=this;G(this,k),(0,a.assert)(y,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=U.progressiveDone||!1,this._contentDispositionFilename=U.contentDispositionFilename||null;var d=U.initialData;if((d==null?void 0:d.length)>0){var S=new Uint8Array(d).buffer;this._queuedChunks.push(S)}this._pdfDataRangeTransport=y,this._isStreamingSupported=!U.disableStream,this._isRangeSupported=!U.disableRange,this._contentLength=U.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(b,v){h._onReceiveData({begin:b,chunk:v})}),this._pdfDataRangeTransport.addProgressListener(function(b,v){h._onProgress({loaded:b,total:v})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(b){h._onReceiveData({chunk:b})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){h._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return w(k,[{key:"_onReceiveData",value:function(y){var h=new Uint8Array(y.chunk).buffer;if(y.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(h):this._queuedChunks.push(h);else{var d=this._rangeReaders.some(function(S){return S._begin!==y.begin?!1:(S._enqueue(h),!0)});(0,a.assert)(d,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var y,h;return(y=(h=this._fullRequestReader)===null||h===void 0?void 0:h._loaded)!==null&&y!==void 0?y:0}},{key:"_onProgress",value:function(y){if(y.total===void 0){var h=this._rangeReaders[0];h!=null&&h.onProgress&&h.onProgress({loaded:y.loaded})}else{var d=this._fullRequestReader;d!=null&&d.onProgress&&d.onProgress({loaded:y.loaded,total:y.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(y){var h=this._rangeReaders.indexOf(y);h>=0&&this._rangeReaders.splice(h,1)}},{key:"getFullReader",value:function(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var y=this._queuedChunks;return this._queuedChunks=null,new C(this,y,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(y,h){if(h<=this._progressiveDataLength)return null;var d=new W(this,y,h);return this._pdfDataRangeTransport.requestDataRange(y,h),this._rangeReaders.push(d),d}},{key:"cancelAllRequests",value:function(y){this._fullRequestReader&&this._fullRequestReader.cancel(y);var h=R(this._rangeReaders.slice(0)),d;try{for(h.s();!(d=h.n()).done;){var S=d.value;S.cancel(y)}}catch(b){h.e(b)}finally{h.f()}this._pdfDataRangeTransport.abort()}}]),k}();n.PDFDataTransportStream=I;var C=function(){function k(U,y){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;G(this,k),this._stream=U,this._done=h||!1,this._filename=(0,i.isPdfFile)(d)?d:null,this._queuedChunks=y||[],this._loaded=0;var S=R(this._queuedChunks),b;try{for(S.s();!(b=S.n()).done;){var v=b.value;this._loaded+=v.byteLength}}catch(A){S.e(A)}finally{S.f()}this._requests=[],this._headersReady=Promise.resolve(),U._fullRequestReader=this,this.onProgress=null}return w(k,[{key:"_enqueue",value:function(y){if(!this._done){if(this._requests.length>0){var h=this._requests.shift();h.resolve({value:y,done:!1})}else this._queuedChunks.push(y);this._loaded+=y.byteLength}}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:function(){var U=m(e.default.mark(function h(){var d,S;return e.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!(this._queuedChunks.length>0)){v.next=3;break}return d=this._queuedChunks.shift(),v.abrupt("return",{value:d,done:!1});case 3:if(!this._done){v.next=5;break}return v.abrupt("return",{value:void 0,done:!0});case 5:return S=(0,a.createPromiseCapability)(),this._requests.push(S),v.abrupt("return",S.promise);case 8:case"end":return v.stop()}},h,this)}));function y(){return U.apply(this,arguments)}return y}()},{key:"cancel",value:function(y){this._done=!0;var h=R(this._requests),d;try{for(h.s();!(d=h.n()).done;){var S=d.value;S.resolve({value:void 0,done:!0})}}catch(b){h.e(b)}finally{h.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),k}(),W=function(){function k(U,y,h){G(this,k),this._stream=U,this._begin=y,this._end=h,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return w(k,[{key:"_enqueue",value:function(y){if(!this._done){if(this._requests.length===0)this._queuedChunk=y;else{var h=this._requests.shift();h.resolve({value:y,done:!1});var d=R(this._requests),S;try{for(d.s();!(S=d.n()).done;){var b=S.value;b.resolve({value:void 0,done:!0})}}catch(v){d.e(v)}finally{d.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var U=m(e.default.mark(function h(){var d,S;return e.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!this._queuedChunk){v.next=4;break}return d=this._queuedChunk,this._queuedChunk=null,v.abrupt("return",{value:d,done:!1});case 4:if(!this._done){v.next=6;break}return v.abrupt("return",{value:void 0,done:!0});case 6:return S=(0,a.createPromiseCapability)(),this._requests.push(S),v.abrupt("return",S.promise);case 9:case"end":return v.stop()}},h,this)}));function y(){return U.apply(this,arguments)}return y}()},{key:"cancel",value:function(y){this._done=!0;var h=R(this._requests),d;try{for(h.s();!(d=h.n()).done;){var S=d.value;S.resolve({value:void 0,done:!0})}}catch(b){h.e(b)}finally{h.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),k}()},(u,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaText=void 0;function t(R,B){var N=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!N){if(Array.isArray(R)||(N=e(R))||B){N&&(R=N);var G=0,F=function(){};return{s:F,n:function(){return G>=R.length?{done:!0}:{done:!1,value:R[G++]}},e:function(k){throw k},f:F}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,I=!1,C;return{s:function(){N=N.call(R)},n:function(){var k=N.next();return w=k.done,k},e:function(k){I=!0,C=k},f:function(){try{!w&&N.return!=null&&N.return()}finally{if(I)throw C}}}}function e(R,B){if(R){if(typeof R=="string")return a(R,B);var N=Object.prototype.toString.call(R).slice(8,-1);if(N==="Object"&&R.constructor&&(N=R.constructor.name),N==="Map"||N==="Set")return Array.from(R);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return a(R,B)}}function a(R,B){(B==null||B>R.length)&&(B=R.length);for(var N=0,G=new Array(B);N<B;N++)G[N]=R[N];return G}function i(R,B){if(!(R instanceof B))throw new TypeError("Cannot call a class as a function")}function c(R,B){for(var N=0;N<B.length;N++){var G=B[N];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(R,G.key,G)}}function f(R,B,N){return N&&c(R,N),R}var m=function(){function R(){i(this,R)}return f(R,null,[{key:"textContent",value:function(N){var G=[],F={items:G,styles:Object.create(null)};function w(I){var C;if(I){var W=null,k=I.name;if(k==="#text")W=I.value;else if(R.shouldBuildText(k))I!=null&&(C=I.attributes)!==null&&C!==void 0&&C.textContent?W=I.attributes.textContent:I.value&&(W=I.value);else return;if(W!==null&&G.push({str:W}),!!I.children){var U=t(I.children),y;try{for(U.s();!(y=U.n()).done;){var h=y.value;w(h)}}catch(d){U.e(d)}finally{U.f()}}}}return w(N),F}},{key:"shouldBuildText",value:function(N){return!(N==="textarea"||N==="input"||N==="option"||N==="select")}}]),R}();n.XfaText=m},(u,n,t)=>{function e(de){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(z){return typeof z}:e=function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},e(de)}Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationLayer=void 0;var a=t(4),i=t(1),c=t(139),f=t(149),m=t(150);function R(de,he,z){return B(de,he),z}function B(de,he){if(de!==he)throw new TypeError("Private static access of wrong provenance")}function N(de,he,z){return typeof Reflect<"u"&&Reflect.get?N=Reflect.get:N=function(Q,se,ae){var J=G(Q,se);if(J){var ve=Object.getOwnPropertyDescriptor(J,se);return ve.get?ve.get.call(ae):ve.value}},N(de,he,z||de)}function G(de,he){for(;!Object.prototype.hasOwnProperty.call(de,he)&&(de=b(de),de!==null););return de}function F(de,he,z){return he in de?Object.defineProperty(de,he,{value:z,enumerable:!0,configurable:!0,writable:!0}):de[he]=z,de}function w(de){return W(de)||C(de)||H(de)||I()}function I(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(de){if(typeof Symbol<"u"&&de[Symbol.iterator]!=null||de["@@iterator"]!=null)return Array.from(de)}function W(de){if(Array.isArray(de))return L(de)}function k(de,he){if(typeof he!="function"&&he!==null)throw new TypeError("Super expression must either be null or a function");de.prototype=Object.create(he&&he.prototype,{constructor:{value:de,writable:!0,configurable:!0}}),he&&U(de,he)}function U(de,he){return U=Object.setPrototypeOf||function(re,Q){return re.__proto__=Q,re},U(de,he)}function y(de){var he=S();return function(){var re=b(de),Q;if(he){var se=b(this).constructor;Q=Reflect.construct(re,arguments,se)}else Q=re.apply(this,arguments);return h(this,Q)}}function h(de,he){if(he&&(e(he)==="object"||typeof he=="function"))return he;if(he!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(de)}function d(de){if(de===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(de){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)},b(de)}function v(de,he){var z=typeof Symbol<"u"&&de[Symbol.iterator]||de["@@iterator"];if(!z){if(Array.isArray(de)||(z=H(de))||he){z&&(de=z);var re=0,Q=function(){};return{s:Q,n:function(){return re>=de.length?{done:!0}:{done:!1,value:de[re++]}},e:function(fe){throw fe},f:Q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se=!0,ae=!1,J;return{s:function(){z=z.call(de)},n:function(){var fe=z.next();return se=fe.done,fe},e:function(fe){ae=!0,J=fe},f:function(){try{!se&&z.return!=null&&z.return()}finally{if(ae)throw J}}}}function A(de,he){return te(de)||X(de,he)||H(de,he)||x()}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H(de,he){if(de){if(typeof de=="string")return L(de,he);var z=Object.prototype.toString.call(de).slice(8,-1);if(z==="Object"&&de.constructor&&(z=de.constructor.name),z==="Map"||z==="Set")return Array.from(de);if(z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return L(de,he)}}function L(de,he){(he==null||he>de.length)&&(he=de.length);for(var z=0,re=new Array(he);z<he;z++)re[z]=de[z];return re}function X(de,he){var z=de==null?null:typeof Symbol<"u"&&de[Symbol.iterator]||de["@@iterator"];if(z!=null){var re=[],Q=!0,se=!1,ae,J;try{for(z=z.call(de);!(Q=(ae=z.next()).done)&&(re.push(ae.value),!(he&&re.length===he));Q=!0);}catch(ve){se=!0,J=ve}finally{try{!Q&&z.return!=null&&z.return()}finally{if(se)throw J}}return re}}function te(de){if(Array.isArray(de))return de}function ee(de,he){if(!(de instanceof he))throw new TypeError("Cannot call a class as a function")}function oe(de,he){for(var z=0;z<he.length;z++){var re=he[z];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(de,re.key,re)}}function $(de,he,z){return he&&oe(de.prototype,he),z&&oe(de,z),de}var q=1e3,E=new WeakSet,g=function(){function de(){ee(this,de)}return $(de,null,[{key:"create",value:function(z){var re=z.data.annotationType;switch(re){case a.AnnotationType.LINK:return new M(z);case a.AnnotationType.TEXT:return new K(z);case a.AnnotationType.WIDGET:var Q=z.data.fieldType;switch(Q){case"Tx":return new Y(z);case"Btn":return z.data.radioButton?new ke(z):z.data.checkBox?new Se(z):new Ee(z);case"Ch":return new V(z)}return new ne(z);case a.AnnotationType.POPUP:return new O(z);case a.AnnotationType.FREETEXT:return new l(z);case a.AnnotationType.LINE:return new _(z);case a.AnnotationType.SQUARE:return new D(z);case a.AnnotationType.CIRCLE:return new j(z);case a.AnnotationType.POLYLINE:return new Z(z);case a.AnnotationType.CARET:return new pe(z);case a.AnnotationType.INK:return new ge(z);case a.AnnotationType.POLYGON:return new ce(z);case a.AnnotationType.HIGHLIGHT:return new ye(z);case a.AnnotationType.UNDERLINE:return new Ae(z);case a.AnnotationType.SQUIGGLY:return new Te(z);case a.AnnotationType.STRIKEOUT:return new xe(z);case a.AnnotationType.STAMP:return new Ie(z);case a.AnnotationType.FILEATTACHMENT:return new Me(z);default:return new P(z)}}}]),de}(),P=function(){function de(he){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=z.isRenderable,Q=re===void 0?!1:re,se=z.ignoreBorder,ae=se===void 0?!1:se,J=z.createQuadrilaterals,ve=J===void 0?!1:J;ee(this,de),this.isRenderable=Q,this.data=he.data,this.layer=he.layer,this.page=he.page,this.viewport=he.viewport,this.linkService=he.linkService,this.downloadManager=he.downloadManager,this.imageResourcesPath=he.imageResourcesPath,this.renderForms=he.renderForms,this.svgFactory=he.svgFactory,this.annotationStorage=he.annotationStorage,this.enableScripting=he.enableScripting,this.hasJSActions=he.hasJSActions,this._fieldObjects=he.fieldObjects,this._mouseState=he.mouseState,Q&&(this.container=this._createContainer(ae)),ve&&(this.quadrilaterals=this._createQuadrilaterals(ae))}return $(de,[{key:"_createContainer",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,re=this.data,Q=this.page,se=this.viewport,ae=document.createElement("section"),J=re.rect[2]-re.rect[0],ve=re.rect[3]-re.rect[1];ae.setAttribute("data-annotation-id",re.id);var fe=a.Util.normalizeRect([re.rect[0],Q.view[3]-re.rect[1]+Q.view[1],re.rect[2],Q.view[3]-re.rect[3]+Q.view[1]]);if(re.hasOwnCanvas){var _e=se.transform.slice(),we=a.Util.singularValueDecompose2dScale(_e),Le=A(we,2),Ne=Le[0],Pe=Le[1];J=Math.ceil(J*Ne),ve=Math.ceil(ve*Pe),fe[0]*=Ne,fe[1]*=Pe;for(var ze=0;ze<4;ze++)_e[ze]=Math.sign(_e[ze]);ae.style.transform="matrix(".concat(_e.join(","),")")}else ae.style.transform="matrix(".concat(se.transform.join(","),")");if(ae.style.transformOrigin="".concat(-fe[0],"px ").concat(-fe[1],"px"),!z&&re.borderStyle.width>0){ae.style.borderWidth="".concat(re.borderStyle.width,"px"),re.borderStyle.style!==a.AnnotationBorderStyleType.UNDERLINE&&(J-=2*re.borderStyle.width,ve-=2*re.borderStyle.width);var Oe=re.borderStyle.horizontalCornerRadius,Fe=re.borderStyle.verticalCornerRadius;if(Oe>0||Fe>0){var We="".concat(Oe,"px / ").concat(Fe,"px");ae.style.borderRadius=We}switch(re.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:ae.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:ae.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:ae.style.borderBottomStyle="solid";break}var Be=re.borderColor||re.color||null;Be?ae.style.borderColor=a.Util.makeHexColor(re.color[0]|0,re.color[1]|0,re.color[2]|0):ae.style.borderWidth=0}return ae.style.left="".concat(fe[0],"px"),ae.style.top="".concat(fe[1],"px"),re.hasOwnCanvas?ae.style.width=ae.style.height="auto":(ae.style.width="".concat(J,"px"),ae.style.height="".concat(ve,"px")),ae}},{key:"_createQuadrilaterals",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.data.quadPoints)return null;var re=[],Q=this.data.rect,se=v(this.data.quadPoints),ae;try{for(se.s();!(ae=se.n()).done;){var J=ae.value;this.data.rect=[J[2].x,J[2].y,J[1].x,J[1].y],re.push(this._createContainer(z))}}catch(ve){se.e(ve)}finally{se.f()}return this.data.rect=Q,re}},{key:"_createPopup",value:function(z,re){var Q=this.container;this.quadrilaterals&&(z=z||this.quadrilaterals,Q=this.quadrilaterals[0]),z||(z=document.createElement("div"),z.style.height=Q.style.height,z.style.width=Q.style.width,Q.appendChild(z));var se=new p({container:Q,trigger:z,color:re.color,titleObj:re.titleObj,modificationDate:re.modificationDate,contentsObj:re.contentsObj,richText:re.richText,hideWrapper:!0}),ae=se.render();ae.style.left=Q.style.width,Q.appendChild(ae)}},{key:"_renderQuadrilaterals",value:function(z){var re=v(this.quadrilaterals),Q;try{for(re.s();!(Q=re.n()).done;){var se=Q.value;se.className=z}}catch(ae){re.e(ae)}finally{re.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(z){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Q=[];if(this._fieldObjects){var se=this._fieldObjects[z];if(se){var ae=v(se),J;try{for(ae.s();!(J=ae.n()).done;){var ve=J.value,fe=ve.page,_e=ve.id,we=ve.exportValues;if(fe!==-1&&_e!==re){var Le=typeof we=="string"?we:null,Ne=document.getElementById(_e);if(Ne&&!E.has(Ne)){(0,a.warn)("_getElementsByName - element not allowed: ".concat(_e));continue}Q.push({id:_e,exportValue:Le,domElement:Ne})}}}catch(Be){ae.e(Be)}finally{ae.f()}}return Q}var Pe=v(document.getElementsByName(z)),ze;try{for(Pe.s();!(ze=Pe.n()).done;){var Oe=ze.value,Fe=Oe.id,We=Oe.exportValue;Fe!==re&&E.has(Oe)&&Q.push({id:Fe,exportValue:We,domElement:Oe})}}catch(Be){Pe.e(Be)}finally{Pe.f()}return Q}}],[{key:"platform",get:function(){var z=typeof navigator<"u"?navigator.platform:"";return(0,a.shadow)(this,"platform",{isWin:z.includes("Win"),isMac:z.includes("Mac")})}}]),de}(),M=function(de){k(z,de);var he=y(z);function z(re){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ee(this,z);var se=!!(re.data.url||re.data.dest||re.data.action||re.data.isTooltipOnly||re.data.resetForm||re.data.actions&&(re.data.actions.Action||re.data.actions["Mouse Up"]||re.data.actions["Mouse Down"]));return he.call(this,re,{isRenderable:se,ignoreBorder:!!(Q!=null&&Q.ignoreBorder),createQuadrilaterals:!0})}return $(z,[{key:"render",value:function(){var Q=this.data,se=this.linkService,ae=document.createElement("a");if(Q.url){var J;se.addLinkAttributes||(0,a.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),(J=se.addLinkAttributes)===null||J===void 0||J.call(se,ae,Q.url,Q.newWindow)}else if(Q.action)this._bindNamedAction(ae,Q.action);else if(Q.dest)this._bindLink(ae,Q.dest);else{var ve=!1;Q.actions&&(Q.actions.Action||Q.actions["Mouse Up"]||Q.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(ve=!0,this._bindJSAction(ae,Q)),Q.resetForm?this._bindResetFormAction(ae,Q.resetForm):ve||this._bindLink(ae,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(fe,_e){var we=_e===0?ae:ae.cloneNode();return fe.appendChild(we),fe}):(this.container.className="linkAnnotation",this.container.appendChild(ae),this.container)}},{key:"_bindLink",value:function(Q,se){var ae=this;Q.href=this.linkService.getDestinationHash(se),Q.onclick=function(){return se&&ae.linkService.goToDestination(se),!1},(se||se==="")&&(Q.className="internalLink")}},{key:"_bindNamedAction",value:function(Q,se){var ae=this;Q.href=this.linkService.getAnchorUrl(""),Q.onclick=function(){return ae.linkService.executeNamedAction(se),!1},Q.className="internalLink"}},{key:"_bindJSAction",value:function(Q,se){var ae=this;Q.href=this.linkService.getAnchorUrl("");for(var J=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),ve=function(){var Ne=_e[fe],Pe=J.get(Ne);if(!Pe)return"continue";Q[Pe]=function(){var ze;return(ze=ae.linkService.eventBus)===null||ze===void 0||ze.dispatch("dispatcheventinsandbox",{source:ae,detail:{id:se.id,name:Ne}}),!1}},fe=0,_e=Object.keys(se.actions);fe<_e.length;fe++)var we=ve();Q.onclick||(Q.onclick=function(){return!1}),Q.className="internalLink"}},{key:"_bindResetFormAction",value:function(Q,se){var ae=this,J=Q.onclick;if(J||(Q.href=this.linkService.getAnchorUrl("")),Q.className="internalLink",!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),J||(Q.onclick=function(){return!1});return}Q.onclick=function(){J&&J();var ve=se.fields,fe=se.refs,_e=se.include,we=[];if(ve.length!==0||fe.length!==0){var Le=new Set(fe),Ne=v(ve),Pe;try{for(Ne.s();!(Pe=Ne.n()).done;){var ze=Pe.value,Oe=ae._fieldObjects[ze]||[],Fe=v(Oe),We;try{for(Fe.s();!(We=Fe.n()).done;){var Be=We.value.id;Le.add(Be)}}catch(He){Fe.e(He)}finally{Fe.f()}}}catch(He){Ne.e(He)}finally{Ne.f()}for(var $e=0,qe=Object.values(ae._fieldObjects);$e<qe.length;$e++){var Ze=qe[$e],nt=v(Ze),ot;try{for(nt.s();!(ot=nt.n()).done;){var gt=ot.value;Le.has(gt.id)===_e&&we.push(gt)}}catch(He){nt.e(He)}finally{nt.f()}}}else for(var vt=0,wt=Object.values(ae._fieldObjects);vt<wt.length;vt++){var Yt=wt[vt];we.push.apply(we,w(Yt))}for(var Ot=ae.annotationStorage,Ft=[],It=0,qt=we;It<qt.length;It++){var At=qt[It],Et=At.id;switch(Ft.push(Et),At.type){case"text":{var le=At.defaultValue||"";Ot.setValue(Et,{value:le,valueAsString:le});break}case"checkbox":case"radiobutton":{var Ce=At.defaultValue===At.exportValues;Ot.setValue(Et,{value:Ce});break}case"combobox":case"listbox":{var ue=At.defaultValue||"";Ot.setValue(Et,{value:ue});break}default:continue}var me=document.getElementById(Et);!me||!E.has(me)||me.dispatchEvent(new Event("resetform"))}if(ae.enableScripting){var Ue;(Ue=ae.linkService.eventBus)===null||Ue===void 0||Ue.dispatch("dispatcheventinsandbox",{source:ae,detail:{id:"app",ids:Ft,name:"ResetForm"}})}return!1}}}]),z}(P),K=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae;ee(this,z);var J=!!(re.data.hasPopup||(Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return he.call(this,re,{isRenderable:J})}return $(z,[{key:"render",value:function(){this.container.className="textAnnotation";var Q=document.createElement("img");return Q.style.height=this.container.style.height,Q.style.width=this.container.style.width,Q.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Q.alt="[{{type}} Annotation]",Q.dataset.l10nId="text_annotation_type",Q.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(Q,this.data),this.container.appendChild(Q),this.container}}]),z}(P),ne=function(de){k(z,de);var he=y(z);function z(){return ee(this,z),he.apply(this,arguments)}return $(z,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(Q){var se=P.platform,ae=se.isWin,J=se.isMac;return ae&&Q.ctrlKey||J&&Q.metaKey}},{key:"_setEventListener",value:function(Q,se,ae,J){var ve=this;se.includes("mouse")?Q.addEventListener(se,function(fe){var _e;(_e=ve.linkService.eventBus)===null||_e===void 0||_e.dispatch("dispatcheventinsandbox",{source:ve,detail:{id:ve.data.id,name:ae,value:J(fe),shift:fe.shiftKey,modifier:ve._getKeyModifier(fe)}})}):Q.addEventListener(se,function(fe){var _e;(_e=ve.linkService.eventBus)===null||_e===void 0||_e.dispatch("dispatcheventinsandbox",{source:ve,detail:{id:ve.data.id,name:ae,value:fe.target.checked}})})}},{key:"_setEventListeners",value:function(Q,se,ae){var J=v(se),ve;try{for(J.s();!(ve=J.n()).done;){var fe,_e=A(ve.value,2),we=_e[0],Le=_e[1];(Le==="Action"||(fe=this.data.actions)!==null&&fe!==void 0&&fe[Le])&&this._setEventListener(Q,we,Le,ae)}}catch(Ne){J.e(Ne)}finally{J.f()}}},{key:"_setBackgroundColor",value:function(Q){var se=this.data.backgroundColor||null;Q.style.backgroundColor=se===null?"transparent":a.Util.makeHexColor(se[0],se[1],se[2])}},{key:"_dispatchEventFromSandbox",value:function(Q,se){for(var ae=this,J=function(Pe,ze,Oe){var Fe=Oe.detail[Pe];Oe.target.style[ze]=f.ColorConverters["".concat(Fe[0],"_HTML")](Fe.slice(1))},ve={display:function(Pe){var ze=Pe.detail.display%2===1;Pe.target.style.visibility=ze?"hidden":"visible",ae.annotationStorage.setValue(ae.data.id,{hidden:ze,print:Pe.detail.display===0||Pe.detail.display===3})},print:function(Pe){ae.annotationStorage.setValue(ae.data.id,{print:Pe.detail.print})},hidden:function(Pe){Pe.target.style.visibility=Pe.detail.hidden?"hidden":"visible",ae.annotationStorage.setValue(ae.data.id,{hidden:Pe.detail.hidden})},focus:function(Pe){setTimeout(function(){return Pe.target.focus({preventScroll:!1})},0)},userName:function(Pe){Pe.target.title=Pe.detail.userName},readonly:function(Pe){Pe.detail.readonly?Pe.target.setAttribute("readonly",""):Pe.target.removeAttribute("readonly")},required:function(Pe){Pe.detail.required?Pe.target.setAttribute("required",""):Pe.target.removeAttribute("required")},bgColor:function(Pe){J("bgColor","backgroundColor",Pe)},fillColor:function(Pe){J("fillColor","backgroundColor",Pe)},fgColor:function(Pe){J("fgColor","color",Pe)},textColor:function(Pe){J("textColor","color",Pe)},borderColor:function(Pe){J("borderColor","borderColor",Pe)},strokeColor:function(Pe){J("strokeColor","borderColor",Pe)}},fe=0,_e=Object.keys(se.detail);fe<_e.length;fe++){var we=_e[fe],Le=Q[we]||ve[we];Le&&Le(se)}}}]),z}(P),Y=function(de){k(z,de);var he=y(z);function z(re){ee(this,z);var Q=re.renderForms||!re.data.hasAppearance&&!!re.data.fieldValue;return he.call(this,re,{isRenderable:Q})}return $(z,[{key:"setPropertyOnSiblings",value:function(Q,se,ae,J){var ve=this.annotationStorage,fe=v(this._getElementsByName(Q.name,Q.id)),_e;try{for(fe.s();!(_e=fe.n()).done;){var we=_e.value;we.domElement&&(we.domElement[se]=ae),ve.setValue(we.id,F({},J,ae))}}catch(Le){fe.e(Le)}finally{fe.f()}}},{key:"render",value:function(){var Q=this,se=this.annotationStorage,ae=this.data.id;this.container.className="textWidgetAnnotation";var J=null;if(this.renderForms){var ve=se.getValue(ae,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),fe=ve.valueAsString||ve.value||"",_e={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(J=document.createElement("textarea"),J.textContent=fe):(J=document.createElement("input"),J.type="text",J.setAttribute("value",fe)),E.add(J),J.disabled=this.data.readOnly,J.name=this.data.fieldName,J.tabIndex=q,_e.userValue=fe,J.setAttribute("id",ae),J.addEventListener("input",function(Oe){se.setValue(ae,{value:Oe.target.value}),Q.setPropertyOnSiblings(J,"value",Oe.target.value,"value")}),J.addEventListener("resetform",function(Oe){var Fe=Q.data.defaultFieldValue||"";J.value=_e.userValue=Fe,delete _e.formattedValue});var we=function(Fe){_e.formattedValue&&(Fe.target.value=_e.formattedValue),Fe.target.scrollLeft=0,_e.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var Le;J.addEventListener("focus",function(Oe){_e.userValue&&(Oe.target.value=_e.userValue)}),J.addEventListener("updatefromsandbox",function(Oe){var Fe={value:function(Be){_e.userValue=Be.detail.value||"",se.setValue(ae,{value:_e.userValue.toString()}),_e.formattedValue||(Be.target.value=_e.userValue)},valueAsString:function(Be){_e.formattedValue=Be.detail.valueAsString||"",Be.target!==document.activeElement&&(Be.target.value=_e.formattedValue),se.setValue(ae,{formattedValue:_e.formattedValue})},selRange:function(Be){var $e=A(Be.detail.selRange,2),qe=$e[0],Ze=$e[1];qe>=0&&Ze<Be.target.value.length&&Be.target.setSelectionRange(qe,Ze)}};Q._dispatchEventFromSandbox(Fe,Oe)}),J.addEventListener("keydown",function(Oe){var Fe;_e.beforeInputValue=Oe.target.value;var We=-1;Oe.key==="Escape"?We=0:Oe.key==="Enter"?We=2:Oe.key==="Tab"&&(We=3),We!==-1&&(_e.userValue=Oe.target.value,(Fe=Q.linkService.eventBus)===null||Fe===void 0||Fe.dispatch("dispatcheventinsandbox",{source:Q,detail:{id:ae,name:"Keystroke",value:Oe.target.value,willCommit:!0,commitKey:We,selStart:Oe.target.selectionStart,selEnd:Oe.target.selectionEnd}}))});var Ne=we;we=null,J.addEventListener("blur",function(Oe){if(Q._mouseState.isDown){var Fe;_e.userValue=Oe.target.value,(Fe=Q.linkService.eventBus)===null||Fe===void 0||Fe.dispatch("dispatcheventinsandbox",{source:Q,detail:{id:ae,name:"Keystroke",value:Oe.target.value,willCommit:!0,commitKey:1,selStart:Oe.target.selectionStart,selEnd:Oe.target.selectionEnd}})}Ne(Oe)}),J.addEventListener("mousedown",function(Oe){_e.beforeInputValue=Oe.target.value,_e.beforeInputSelectionRange=null}),J.addEventListener("keyup",function(Oe){Oe.target.selectionStart===Oe.target.selectionEnd&&(_e.beforeInputSelectionRange=null)}),J.addEventListener("select",function(Oe){_e.beforeInputSelectionRange=[Oe.target.selectionStart,Oe.target.selectionEnd]}),(Le=this.data.actions)!==null&&Le!==void 0&&Le.Keystroke&&J.addEventListener("input",function(Oe){var Fe,We=-1,Be=-1;if(_e.beforeInputSelectionRange){var $e=A(_e.beforeInputSelectionRange,2);We=$e[0],Be=$e[1]}(Fe=Q.linkService.eventBus)===null||Fe===void 0||Fe.dispatch("dispatcheventinsandbox",{source:Q,detail:{id:ae,name:"Keystroke",value:_e.beforeInputValue,change:Oe.data,willCommit:!1,selStart:We,selEnd:Be}})}),this._setEventListeners(J,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Oe){return Oe.target.value})}if(we&&J.addEventListener("blur",we),this.data.maxLen!==null&&(J.maxLength=this.data.maxLen),this.data.comb){var Pe=this.data.rect[2]-this.data.rect[0],ze=Pe/this.data.maxLen;J.classList.add("comb"),J.style.letterSpacing="calc(".concat(ze,"px - 1ch)")}}else J=document.createElement("div"),J.textContent=this.data.fieldValue,J.style.verticalAlign="middle",J.style.display="table-cell";return this._setTextStyle(J),this._setBackgroundColor(J),this.container.appendChild(J),this.container}},{key:"_setTextStyle",value:function(Q){var se=["left","center","right"],ae=this.data.defaultAppearanceData,J=ae.fontSize,ve=ae.fontColor,fe=Q.style;J&&(fe.fontSize="".concat(J,"px")),fe.color=a.Util.makeHexColor(ve[0],ve[1],ve[2]),this.data.textAlignment!==null&&(fe.textAlign=se[this.data.textAlignment])}}]),z}(ne),Se=function(de){k(z,de);var he=y(z);function z(re){return ee(this,z),he.call(this,re,{isRenderable:re.renderForms})}return $(z,[{key:"render",value:function(){var Q=this,se=this.annotationStorage,ae=this.data,J=ae.id,ve=se.getValue(J,{value:ae.exportValue===ae.fieldValue}).value;typeof ve=="string"&&(ve=ve!=="Off",se.setValue(J,{value:ve})),this.container.className="buttonWidgetAnnotation checkBox";var fe=document.createElement("input");return E.add(fe),fe.disabled=ae.readOnly,fe.type="checkbox",fe.name=ae.fieldName,ve&&fe.setAttribute("checked",!0),fe.setAttribute("id",J),fe.setAttribute("exportValue",ae.exportValue),fe.tabIndex=q,fe.addEventListener("change",function(_e){var we=_e.target,Le=we.name,Ne=we.checked,Pe=v(Q._getElementsByName(Le,J)),ze;try{for(Pe.s();!(ze=Pe.n()).done;){var Oe=ze.value,Fe=Ne&&Oe.exportValue===ae.exportValue;Oe.domElement&&(Oe.domElement.checked=Fe),se.setValue(Oe.id,{value:Fe})}}catch(We){Pe.e(We)}finally{Pe.f()}se.setValue(J,{value:Ne})}),fe.addEventListener("resetform",function(_e){var we=ae.defaultFieldValue||"Off";_e.target.checked=we===ae.exportValue}),this.enableScripting&&this.hasJSActions&&(fe.addEventListener("updatefromsandbox",function(_e){var we={value:function(Ne){Ne.target.checked=Ne.detail.value!=="Off",se.setValue(J,{value:Ne.target.checked})}};Q._dispatchEventFromSandbox(we,_e)}),this._setEventListeners(fe,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(_e){return _e.target.checked})),this._setBackgroundColor(fe),this.container.appendChild(fe),this.container}}]),z}(ne),ke=function(de){k(z,de);var he=y(z);function z(re){return ee(this,z),he.call(this,re,{isRenderable:re.renderForms})}return $(z,[{key:"render",value:function(){var Q=this;this.container.className="buttonWidgetAnnotation radioButton";var se=this.annotationStorage,ae=this.data,J=ae.id,ve=se.getValue(J,{value:ae.fieldValue===ae.buttonValue}).value;typeof ve=="string"&&(ve=ve!==ae.buttonValue,se.setValue(J,{value:ve}));var fe=document.createElement("input");if(E.add(fe),fe.disabled=ae.readOnly,fe.type="radio",fe.name=ae.fieldName,ve&&fe.setAttribute("checked",!0),fe.setAttribute("id",J),fe.tabIndex=q,fe.addEventListener("change",function(we){var Le=we.target,Ne=Le.name,Pe=Le.checked,ze=v(Q._getElementsByName(Ne,J)),Oe;try{for(ze.s();!(Oe=ze.n()).done;){var Fe=Oe.value;se.setValue(Fe.id,{value:!1})}}catch(We){ze.e(We)}finally{ze.f()}se.setValue(J,{value:Pe})}),fe.addEventListener("resetform",function(we){var Le=ae.defaultFieldValue;we.target.checked=Le!=null&&Le===ae.buttonValue}),this.enableScripting&&this.hasJSActions){var _e=ae.buttonValue;fe.addEventListener("updatefromsandbox",function(we){var Le={value:function(Pe){var ze=_e===Pe.detail.value,Oe=v(Q._getElementsByName(Pe.target.name)),Fe;try{for(Oe.s();!(Fe=Oe.n()).done;){var We=Fe.value,Be=ze&&We.id===J;We.domElement&&(We.domElement.checked=Be),se.setValue(We.id,{value:Be})}}catch($e){Oe.e($e)}finally{Oe.f()}}};Q._dispatchEventFromSandbox(Le,we)}),this._setEventListeners(fe,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(we){return we.target.checked})}return this._setBackgroundColor(fe),this.container.appendChild(fe),this.container}}]),z}(ne),Ee=function(de){k(z,de);var he=y(z);function z(re){return ee(this,z),he.call(this,re,{ignoreBorder:re.data.hasAppearance})}return $(z,[{key:"render",value:function(){var Q=N(b(z.prototype),"render",this).call(this);return Q.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(Q.title=this.data.alternativeText),Q}}]),z}(M),V=function(de){k(z,de);var he=y(z);function z(re){return ee(this,z),he.call(this,re,{isRenderable:re.renderForms})}return $(z,[{key:"render",value:function(){var Q=this;this.container.className="choiceWidgetAnnotation";var se=this.annotationStorage,ae=this.data.id;se.getValue(ae,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var J=this.data.defaultAppearanceData.fontSize;J||(J=9);var ve="calc(".concat(J,"px * var(--zoom-factor))"),fe=document.createElement("select");E.add(fe),fe.disabled=this.data.readOnly,fe.name=this.data.fieldName,fe.setAttribute("id",ae),fe.tabIndex=q,fe.style.fontSize="".concat(J,"px"),this.data.combo||(fe.size=this.data.options.length,this.data.multiSelect&&(fe.multiple=!0)),fe.addEventListener("resetform",function(Oe){var Fe=Q.data.defaultFieldValue,We=v(fe.options),Be;try{for(We.s();!(Be=We.n()).done;){var $e=Be.value;$e.selected=$e.value===Fe}}catch(qe){We.e(qe)}finally{We.f()}});var _e=v(this.data.options),we;try{for(_e.s();!(we=_e.n()).done;){var Le=we.value,Ne=document.createElement("option");Ne.textContent=Le.displayValue,Ne.value=Le.exportValue,this.data.combo&&(Ne.style.fontSize=ve),this.data.fieldValue.includes(Le.exportValue)&&Ne.setAttribute("selected",!0),fe.appendChild(Ne)}}catch(Oe){_e.e(Oe)}finally{_e.f()}var Pe=function(Fe,We){var Be=We?"value":"textContent",$e=Fe.target.options;return Fe.target.multiple?Array.prototype.filter.call($e,function(qe){return qe.selected}).map(function(qe){return qe[Be]}):$e.selectedIndex===-1?null:$e[$e.selectedIndex][Be]},ze=function(Fe){var We=Fe.target.options;return Array.prototype.map.call(We,function(Be){return{displayValue:Be.textContent,exportValue:Be.value}})};return this.enableScripting&&this.hasJSActions?(fe.addEventListener("updatefromsandbox",function(Oe){var Fe={value:function(Be){var $e=Be.detail.value,qe=new Set(Array.isArray($e)?$e:[$e]),Ze=v(fe.options),nt;try{for(Ze.s();!(nt=Ze.n()).done;){var ot=nt.value;ot.selected=qe.has(ot.value)}}catch(gt){Ze.e(gt)}finally{Ze.f()}se.setValue(ae,{value:Pe(Be,!0)})},multipleSelection:function(Be){fe.multiple=!0},remove:function(Be){var $e=fe.options,qe=Be.detail.remove;if($e[qe].selected=!1,fe.remove(qe),$e.length>0){var Ze=Array.prototype.findIndex.call($e,function(nt){return nt.selected});Ze===-1&&($e[0].selected=!0)}se.setValue(ae,{value:Pe(Be,!0),items:ze(Be)})},clear:function(Be){for(;fe.length!==0;)fe.remove(0);se.setValue(ae,{value:null,items:[]})},insert:function(Be){var $e=Be.detail.insert,qe=$e.index,Ze=$e.displayValue,nt=$e.exportValue,ot=document.createElement("option");ot.textContent=Ze,ot.value=nt,fe.insertBefore(ot,fe.children[qe]),se.setValue(ae,{value:Pe(Be,!0),items:ze(Be)})},items:function(Be){for(var $e=Be.detail.items;fe.length!==0;)fe.remove(0);var qe=v($e),Ze;try{for(qe.s();!(Ze=qe.n()).done;){var nt=Ze.value,ot=nt.displayValue,gt=nt.exportValue,vt=document.createElement("option");vt.textContent=ot,vt.value=gt,fe.appendChild(vt)}}catch(wt){qe.e(wt)}finally{qe.f()}fe.options.length>0&&(fe.options[0].selected=!0),se.setValue(ae,{value:Pe(Be,!0),items:ze(Be)})},indices:function(Be){var $e=new Set(Be.detail.indices),qe=v(Be.target.options),Ze;try{for(qe.s();!(Ze=qe.n()).done;){var nt=Ze.value;nt.selected=$e.has(nt.index)}}catch(ot){qe.e(ot)}finally{qe.f()}se.setValue(ae,{value:Pe(Be,!0)})},editable:function(Be){Be.target.disabled=!Be.detail.editable}};Q._dispatchEventFromSandbox(Fe,Oe)}),fe.addEventListener("input",function(Oe){var Fe,We=Pe(Oe,!0),Be=Pe(Oe,!1);se.setValue(ae,{value:We}),(Fe=Q.linkService.eventBus)===null||Fe===void 0||Fe.dispatch("dispatcheventinsandbox",{source:Q,detail:{id:ae,name:"Keystroke",value:Be,changeEx:We,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(fe,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(Oe){return Oe.target.checked})):fe.addEventListener("input",function(Oe){se.setValue(ae,{value:Pe(Oe)})}),this._setBackgroundColor(fe),this.container.appendChild(fe),this.container}}]),z}(ne),O=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae;ee(this,z);var J=!!((Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return he.call(this,re,{isRenderable:J})}return $(z,[{key:"render",value:function(){var Q=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",Q.includes(this.data.parentType))return this.container;var se='[data-annotation-id="'.concat(this.data.parentId,'"]'),ae=this.layer.querySelectorAll(se);if(ae.length===0)return this.container;var J=new p({container:this.container,trigger:Array.from(ae),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ve=this.page,fe=a.Util.normalizeRect([this.data.parentRect[0],ve.view[3]-this.data.parentRect[1]+ve.view[1],this.data.parentRect[2],ve.view[3]-this.data.parentRect[3]+ve.view[1]]),_e=fe[0]+this.data.parentRect[2]-this.data.parentRect[0],we=fe[1];return this.container.style.transformOrigin="".concat(-_e,"px ").concat(-we,"px"),this.container.style.left="".concat(_e,"px"),this.container.style.top="".concat(we,"px"),this.container.appendChild(J.render()),this.container}}]),z}(P),p=function(){function de(he){ee(this,de),this.container=he.container,this.trigger=he.trigger,this.color=he.color,this.titleObj=he.titleObj,this.modificationDate=he.modificationDate,this.contentsObj=he.contentsObj,this.richText=he.richText,this.hideWrapper=he.hideWrapper||!1,this.pinned=!1}return $(de,[{key:"render",value:function(){var z,re,Q=.7,se=document.createElement("div");se.className="popupWrapper",this.hideElement=this.hideWrapper?se:this.container,this.hideElement.hidden=!0;var ae=document.createElement("div");ae.className="popup";var J=this.color;if(J){var ve=Q*(255-J[0])+J[0],fe=Q*(255-J[1])+J[1],_e=Q*(255-J[2])+J[2];ae.style.backgroundColor=a.Util.makeHexColor(ve|0,fe|0,_e|0)}var we=document.createElement("h1");we.dir=this.titleObj.dir,we.textContent=this.titleObj.str,ae.appendChild(we);var Le=i.PDFDateString.toDateObject(this.modificationDate);if(Le){var Ne=document.createElement("span");Ne.className="popupDate",Ne.textContent="{{date}}, {{time}}",Ne.dataset.l10nId="annotation_date_string",Ne.dataset.l10nArgs=JSON.stringify({date:Le.toLocaleDateString(),time:Le.toLocaleTimeString()}),ae.appendChild(Ne)}if((z=this.richText)!==null&&z!==void 0&&z.str&&(!((re=this.contentsObj)!==null&&re!==void 0&&re.str)||this.contentsObj.str===this.richText.str))m.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ae}),ae.lastChild.className="richText popupContent";else{var Pe=this._formatContents(this.contentsObj);ae.appendChild(Pe)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var ze=v(this.trigger),Oe;try{for(ze.s();!(Oe=ze.n()).done;){var Fe=Oe.value;Fe.addEventListener("click",this._toggle.bind(this)),Fe.addEventListener("mouseover",this._show.bind(this,!1)),Fe.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(We){ze.e(We)}finally{ze.f()}return ae.addEventListener("click",this._hide.bind(this,!0)),se.appendChild(ae),se}},{key:"_formatContents",value:function(z){var re=z.str,Q=z.dir,se=document.createElement("p");se.className="popupContent",se.dir=Q;for(var ae=re.split(/(?:\r\n?|\n)/),J=0,ve=ae.length;J<ve;++J){var fe=ae[J];se.appendChild(document.createTextNode(fe)),J<ve-1&&se.appendChild(document.createElement("br"))}return se}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;z&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;z&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),de}(),l=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae;ee(this,z);var J=!!(re.data.hasPopup||(Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return he.call(this,re,{isRenderable:J,ignoreBorder:!0})}return $(z,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),z}(P),_=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae;ee(this,z);var J=!!(re.data.hasPopup||(Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return he.call(this,re,{isRenderable:J,ignoreBorder:!0})}return $(z,[{key:"render",value:function(){this.container.className="lineAnnotation";var Q=this.data,se=Q.rect[2]-Q.rect[0],ae=Q.rect[3]-Q.rect[1],J=this.svgFactory.create(se,ae),ve=this.svgFactory.createElement("svg:line");return ve.setAttribute("x1",Q.rect[2]-Q.lineCoordinates[0]),ve.setAttribute("y1",Q.rect[3]-Q.lineCoordinates[1]),ve.setAttribute("x2",Q.rect[2]-Q.lineCoordinates[2]),ve.setAttribute("y2",Q.rect[3]-Q.lineCoordinates[3]),ve.setAttribute("stroke-width",Q.borderStyle.width||1),ve.setAttribute("stroke","transparent"),ve.setAttribute("fill","transparent"),J.appendChild(ve),this.container.append(J),this._createPopup(ve,Q),this.container}}]),z}(P),D=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae;ee(this,z);var J=!!(re.data.hasPopup||(Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return he.call(this,re,{isRenderable:J,ignoreBorder:!0})}return $(z,[{key:"render",value:function(){this.container.className="squareAnnotation";var Q=this.data,se=Q.rect[2]-Q.rect[0],ae=Q.rect[3]-Q.rect[1],J=this.svgFactory.create(se,ae),ve=Q.borderStyle.width,fe=this.svgFactory.createElement("svg:rect");return fe.setAttribute("x",ve/2),fe.setAttribute("y",ve/2),fe.setAttribute("width",se-ve),fe.setAttribute("height",ae-ve),fe.setAttribute("stroke-width",ve||1),fe.setAttribute("stroke","transparent"),fe.setAttribute("fill","transparent"),J.appendChild(fe),this.container.append(J),this._createPopup(fe,Q),this.container}}]),z}(P),j=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae;ee(this,z);var J=!!(re.data.hasPopup||(Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return he.call(this,re,{isRenderable:J,ignoreBorder:!0})}return $(z,[{key:"render",value:function(){this.container.className="circleAnnotation";var Q=this.data,se=Q.rect[2]-Q.rect[0],ae=Q.rect[3]-Q.rect[1],J=this.svgFactory.create(se,ae),ve=Q.borderStyle.width,fe=this.svgFactory.createElement("svg:ellipse");return fe.setAttribute("cx",se/2),fe.setAttribute("cy",ae/2),fe.setAttribute("rx",se/2-ve/2),fe.setAttribute("ry",ae/2-ve/2),fe.setAttribute("stroke-width",ve||1),fe.setAttribute("stroke","transparent"),fe.setAttribute("fill","transparent"),J.appendChild(fe),this.container.append(J),this._createPopup(fe,Q),this.container}}]),z}(P),Z=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae,J;ee(this,z);var ve=!!(re.data.hasPopup||(Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return J=he.call(this,re,{isRenderable:ve,ignoreBorder:!0}),J.containerClassName="polylineAnnotation",J.svgElementName="svg:polyline",J}return $(z,[{key:"render",value:function(){this.container.className=this.containerClassName;var Q=this.data,se=Q.rect[2]-Q.rect[0],ae=Q.rect[3]-Q.rect[1],J=this.svgFactory.create(se,ae),ve=[],fe=v(Q.vertices),_e;try{for(fe.s();!(_e=fe.n()).done;){var we=_e.value,Le=we.x-Q.rect[0],Ne=Q.rect[3]-we.y;ve.push(Le+","+Ne)}}catch(ze){fe.e(ze)}finally{fe.f()}ve=ve.join(" ");var Pe=this.svgFactory.createElement(this.svgElementName);return Pe.setAttribute("points",ve),Pe.setAttribute("stroke-width",Q.borderStyle.width||1),Pe.setAttribute("stroke","transparent"),Pe.setAttribute("fill","transparent"),J.appendChild(Pe),this.container.append(J),this._createPopup(Pe,Q),this.container}}]),z}(P),ce=function(de){k(z,de);var he=y(z);function z(re){var Q;return ee(this,z),Q=he.call(this,re),Q.containerClassName="polygonAnnotation",Q.svgElementName="svg:polygon",Q}return z}(Z),pe=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae;ee(this,z);var J=!!(re.data.hasPopup||(Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return he.call(this,re,{isRenderable:J,ignoreBorder:!0})}return $(z,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),z}(P),ge=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae,J;ee(this,z);var ve=!!(re.data.hasPopup||(Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return J=he.call(this,re,{isRenderable:ve,ignoreBorder:!0}),J.containerClassName="inkAnnotation",J.svgElementName="svg:polyline",J}return $(z,[{key:"render",value:function(){this.container.className=this.containerClassName;var Q=this.data,se=Q.rect[2]-Q.rect[0],ae=Q.rect[3]-Q.rect[1],J=this.svgFactory.create(se,ae),ve=v(Q.inkLists),fe;try{for(ve.s();!(fe=ve.n()).done;){var _e=fe.value,we=[],Le=v(_e),Ne;try{for(Le.s();!(Ne=Le.n()).done;){var Pe=Ne.value,ze=Pe.x-Q.rect[0],Oe=Q.rect[3]-Pe.y;we.push("".concat(ze,",").concat(Oe))}}catch(We){Le.e(We)}finally{Le.f()}we=we.join(" ");var Fe=this.svgFactory.createElement(this.svgElementName);Fe.setAttribute("points",we),Fe.setAttribute("stroke-width",Q.borderStyle.width||1),Fe.setAttribute("stroke","transparent"),Fe.setAttribute("fill","transparent"),this._createPopup(Fe,Q),J.appendChild(Fe)}}catch(We){ve.e(We)}finally{ve.f()}return this.container.append(J),this.container}}]),z}(P),ye=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae;ee(this,z);var J=!!(re.data.hasPopup||(Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return he.call(this,re,{isRenderable:J,ignoreBorder:!0,createQuadrilaterals:!0})}return $(z,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),z}(P),Ae=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae;ee(this,z);var J=!!(re.data.hasPopup||(Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return he.call(this,re,{isRenderable:J,ignoreBorder:!0,createQuadrilaterals:!0})}return $(z,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),z}(P),Te=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae;ee(this,z);var J=!!(re.data.hasPopup||(Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return he.call(this,re,{isRenderable:J,ignoreBorder:!0,createQuadrilaterals:!0})}return $(z,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),z}(P),xe=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae;ee(this,z);var J=!!(re.data.hasPopup||(Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return he.call(this,re,{isRenderable:J,ignoreBorder:!0,createQuadrilaterals:!0})}return $(z,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),z}(P),Ie=function(de){k(z,de);var he=y(z);function z(re){var Q,se,ae;ee(this,z);var J=!!(re.data.hasPopup||(Q=re.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=re.data.contentsObj)!==null&&se!==void 0&&se.str||(ae=re.data.richText)!==null&&ae!==void 0&&ae.str);return he.call(this,re,{isRenderable:J,ignoreBorder:!0})}return $(z,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),z}(P),Me=function(de){k(z,de);var he=y(z);function z(re){var Q,se;ee(this,z),se=he.call(this,re,{isRenderable:!0});var ae=se.data.file,J=ae.filename,ve=ae.content;return se.filename=(0,i.getFilenameFromUrl)(J),se.content=ve,(Q=se.linkService.eventBus)===null||Q===void 0||Q.dispatch("fileattachmentannotation",{source:d(se),id:(0,a.stringToPDFString)(J),filename:J,content:ve}),se}return $(z,[{key:"render",value:function(){var Q,se;this.container.className="fileAttachmentAnnotation";var ae=document.createElement("div");return ae.style.height=this.container.style.height,ae.style.width=this.container.style.width,ae.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((Q=this.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=this.data.contentsObj)!==null&&se!==void 0&&se.str||this.data.richText)&&this._createPopup(ae,this.data),this.container.appendChild(ae),this.container}},{key:"_download",value:function(){var Q;(Q=this.downloadManager)===null||Q===void 0||Q.openOrDownloadData(this.container,this.content,this.filename)}}]),z}(P),je=function(){function de(){ee(this,de)}return $(de,null,[{key:"render",value:function(z){var re=[],Q=[],se=v(z.annotations),ae;try{for(se.s();!(ae=se.n()).done;){var J=ae.value;if(J){if(J.annotationType===a.AnnotationType.POPUP){Q.push(J);continue}re.push(J)}}}catch(Fe){se.e(Fe)}finally{se.f()}Q.length&&re.push.apply(re,Q);for(var ve=z.div,fe=0,_e=re;fe<_e.length;fe++){var we=_e[fe],Le=g.create({data:we,layer:ve,page:z.page,viewport:z.viewport,linkService:z.linkService,downloadManager:z.downloadManager,imageResourcesPath:z.imageResourcesPath||"",renderForms:z.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:z.annotationStorage||new c.AnnotationStorage,enableScripting:z.enableScripting,hasJSActions:z.hasJSActions,fieldObjects:z.fieldObjects,mouseState:z.mouseState||{isDown:!1}});if(Le.isRenderable){var Ne=Le.render();if(we.hidden&&(Ne.style.visibility="hidden"),Array.isArray(Ne)){var Pe=v(Ne),ze;try{for(Pe.s();!(ze=Pe.n()).done;){var Oe=ze.value;ve.appendChild(Oe)}}catch(Fe){Pe.e(Fe)}finally{Pe.f()}}else Le instanceof O?ve.prepend(Ne):ve.appendChild(Ne)}}R(this,de,Ge).call(this,ve,z.annotationCanvasMap)}},{key:"update",value:function(z){var re=z.page,Q=z.viewport,se=z.annotations,ae=z.annotationCanvasMap,J=z.div,ve=Q.transform,fe="matrix(".concat(ve.join(","),")"),_e,we,Le=v(se),Ne;try{for(Le.s();!(Ne=Le.n()).done;){var Pe=Ne.value,ze=J.querySelectorAll('[data-annotation-id="'.concat(Pe.id,'"]'));if(ze){var Oe=v(ze),Fe;try{for(Oe.s();!(Fe=Oe.n()).done;){var We=Fe.value;if(Pe.hasOwnCanvas){var Be=a.Util.normalizeRect([Pe.rect[0],re.view[3]-Pe.rect[1]+re.view[1],Pe.rect[2],re.view[3]-Pe.rect[3]+re.view[1]]);if(!we){_e=Math.abs(ve[0]||ve[1]);for(var $e=ve.slice(),qe=0;qe<4;qe++)$e[qe]=Math.sign($e[qe]);we="matrix(".concat($e.join(","),")")}var Ze=Be[0]*_e,nt=Be[1]*_e;We.style.left="".concat(Ze,"px"),We.style.top="".concat(nt,"px"),We.style.transformOrigin="".concat(-Ze,"px ").concat(-nt,"px"),We.style.transform=we}else We.style.transform=fe}}catch(ot){Oe.e(ot)}finally{Oe.f()}}}}catch(ot){Le.e(ot)}finally{Le.f()}R(this,de,Ge).call(this,J,ae),J.hidden=!1}}]),de}();n.AnnotationLayer=je;function Ge(de,he){if(he){var z=v(he),re;try{for(z.s();!(re=z.n()).done;){var Q=A(re.value,2),se=Q[0],ae=Q[1],J=de.querySelector('[data-annotation-id="'.concat(se,'"]'));if(J){var ve=J.firstChild;ve.nodeName==="CANVAS"?J.replaceChild(ae,ve):J.insertBefore(ae,ve)}}}catch(fe){z.e(fe)}finally{z.f()}he.clear()}}},(u,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorConverters=void 0;function t(F,w){return f(F)||c(F,w)||a(F,w)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(F,w){if(F){if(typeof F=="string")return i(F,w);var I=Object.prototype.toString.call(F).slice(8,-1);if(I==="Object"&&F.constructor&&(I=F.constructor.name),I==="Map"||I==="Set")return Array.from(F);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return i(F,w)}}function i(F,w){(w==null||w>F.length)&&(w=F.length);for(var I=0,C=new Array(w);I<w;I++)C[I]=F[I];return C}function c(F,w){var I=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(I!=null){var C=[],W=!0,k=!1,U,y;try{for(I=I.call(F);!(W=(U=I.next()).done)&&(C.push(U.value),!(w&&C.length===w));W=!0);}catch(h){k=!0,y=h}finally{try{!W&&I.return!=null&&I.return()}finally{if(k)throw y}}return C}}function f(F){if(Array.isArray(F))return F}function m(F,w){if(!(F instanceof w))throw new TypeError("Cannot call a class as a function")}function R(F,w){for(var I=0;I<w.length;I++){var C=w[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(F,C.key,C)}}function B(F,w,I){return I&&R(F,I),F}function N(F){return Math.floor(Math.max(0,Math.min(1,F))*255).toString(16).padStart(2,"0")}var G=function(){function F(){m(this,F)}return B(F,null,[{key:"CMYK_G",value:function(I){var C=t(I,4),W=C[0],k=C[1],U=C[2],y=C[3];return["G",1-Math.min(1,.3*W+.59*U+.11*k+y)]}},{key:"G_CMYK",value:function(I){var C=t(I,1),W=C[0];return["CMYK",0,0,0,1-W]}},{key:"G_RGB",value:function(I){var C=t(I,1),W=C[0];return["RGB",W,W,W]}},{key:"G_HTML",value:function(I){var C=t(I,1),W=C[0],k=N(W);return"#".concat(k).concat(k).concat(k)}},{key:"RGB_G",value:function(I){var C=t(I,3),W=C[0],k=C[1],U=C[2];return["G",.3*W+.59*k+.11*U]}},{key:"RGB_HTML",value:function(I){var C=t(I,3),W=C[0],k=C[1],U=C[2],y=N(W),h=N(k),d=N(U);return"#".concat(y).concat(h).concat(d)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(I){var C=t(I,4),W=C[0],k=C[1],U=C[2],y=C[3];return["RGB",1-Math.min(1,W+y),1-Math.min(1,U+y),1-Math.min(1,k+y)]}},{key:"CMYK_HTML",value:function(I){return this.RGB_HTML(this.CMYK_RGB(I))}},{key:"RGB_CMYK",value:function(I){var C=t(I,3),W=C[0],k=C[1],U=C[2],y=1-W,h=1-k,d=1-U,S=Math.min(y,h,d);return["CMYK",y,h,d,S]}}]),F}();n.ColorConverters=G},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaLayer=void 0;var e=t(4),a=t(147);function i(C,W){return m(C)||f(C,W)||B(C,W)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(C,W){var k=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(k!=null){var U=[],y=!0,h=!1,d,S;try{for(k=k.call(C);!(y=(d=k.next()).done)&&(U.push(d.value),!(W&&U.length===W));y=!0);}catch(b){h=!0,S=b}finally{try{!y&&k.return!=null&&k.return()}finally{if(h)throw S}}return U}}function m(C){if(Array.isArray(C))return C}function R(C,W){var k=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!k){if(Array.isArray(C)||(k=B(C))||W){k&&(C=k);var U=0,y=function(){};return{s:y,n:function(){return U>=C.length?{done:!0}:{done:!1,value:C[U++]}},e:function(v){throw v},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,d=!1,S;return{s:function(){k=k.call(C)},n:function(){var v=k.next();return h=v.done,v},e:function(v){d=!0,S=v},f:function(){try{!h&&k.return!=null&&k.return()}finally{if(d)throw S}}}}function B(C,W){if(C){if(typeof C=="string")return N(C,W);var k=Object.prototype.toString.call(C).slice(8,-1);if(k==="Object"&&C.constructor&&(k=C.constructor.name),k==="Map"||k==="Set")return Array.from(C);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return N(C,W)}}function N(C,W){(W==null||W>C.length)&&(W=C.length);for(var k=0,U=new Array(W);k<W;k++)U[k]=C[k];return U}function G(C,W){if(!(C instanceof W))throw new TypeError("Cannot call a class as a function")}function F(C,W){for(var k=0;k<W.length;k++){var U=W[k];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(C,U.key,U)}}function w(C,W,k){return k&&F(C,k),C}var I=function(){function C(){G(this,C)}return w(C,null,[{key:"setupStorage",value:function(k,U,y,h,d){var S=h.getValue(U,{value:null});switch(y.name){case"textarea":if(S.value!==null&&(k.textContent=S.value),d==="print")break;k.addEventListener("input",function(x){h.setValue(U,{value:x.target.value})});break;case"input":if(y.attributes.type==="radio"||y.attributes.type==="checkbox"){if(S.value===y.attributes.xfaOn?k.setAttribute("checked",!0):S.value===y.attributes.xfaOff&&k.removeAttribute("checked"),d==="print")break;k.addEventListener("change",function(x){h.setValue(U,{value:x.target.checked?x.target.getAttribute("xfaOn"):x.target.getAttribute("xfaOff")})})}else{if(S.value!==null&&k.setAttribute("value",S.value),d==="print")break;k.addEventListener("input",function(x){h.setValue(U,{value:x.target.value})})}break;case"select":if(S.value!==null){var b=R(y.children),v;try{for(b.s();!(v=b.n()).done;){var A=v.value;A.attributes.value===S.value&&(A.attributes.selected=!0)}}catch(x){b.e(x)}finally{b.f()}}k.addEventListener("input",function(x){var H=x.target.options,L=H.selectedIndex===-1?"":H[H.selectedIndex].value;h.setValue(U,{value:L})});break}}},{key:"setAttributes",value:function(k){var U=k.html,y=k.element,h=k.storage,d=h===void 0?null:h,S=k.intent,b=k.linkService,v=y.attributes,A=U instanceof HTMLAnchorElement;v.type==="radio"&&(v.name="".concat(v.name,"-").concat(S));for(var x=0,H=Object.entries(v);x<H.length;x++){var L=i(H[x],2),X=L[0],te=L[1];if(!(te==null||X==="dataId"))if(X!=="style")if(X==="textContent")U.textContent=te;else if(X==="class")te.length&&U.setAttribute(X,te.join(" "));else{if(A&&(X==="href"||X==="newWindow"))continue;U.setAttribute(X,te)}else Object.assign(U.style,te)}if(A){var ee;b.addLinkAttributes||(0,e.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),(ee=b.addLinkAttributes)===null||ee===void 0||ee.call(b,U,v.href,v.newWindow)}d&&v.dataId&&this.setupStorage(U,v.dataId,y,d)}},{key:"render",value:function(k){var U=k.annotationStorage,y=k.linkService,h=k.xfaHtml,d=k.intent||"display",S=document.createElement(h.name);h.attributes&&this.setAttributes({html:S,element:h,intent:d,linkService:y});var b=[[h,-1,S]],v=k.div;if(v.appendChild(S),k.viewport){var A="matrix(".concat(k.viewport.transform.join(","),")");v.style.transform=A}d!=="richText"&&v.setAttribute("class","xfaLayer xfaFont");for(var x=[];b.length>0;){var H,L=i(b[b.length-1],3),X=L[0],te=L[1],ee=L[2];if(te+1===X.children.length){b.pop();continue}var oe=X.children[++b[b.length-1][1]];if(oe!==null){var $=oe.name;if($==="#text"){var q=document.createTextNode(oe.value);x.push(q),ee.appendChild(q);continue}var E=void 0;if(oe!=null&&(H=oe.attributes)!==null&&H!==void 0&&H.xmlns?E=document.createElementNS(oe.attributes.xmlns,$):E=document.createElement($),ee.appendChild(E),oe.attributes&&this.setAttributes({html:E,element:oe,storage:U,intent:d,linkService:y}),oe.children&&oe.children.length>0)b.push([oe,-1,E]);else if(oe.value){var g=document.createTextNode(oe.value);a.XfaText.shouldBuildText($)&&x.push(g),E.appendChild(g)}}}var P=R(v.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea")),M;try{for(P.s();!(M=P.n()).done;){var K=M.value;K.setAttribute("readOnly",!0)}}catch(ne){P.e(ne)}finally{P.f()}return{textDivs:x}}},{key:"update",value:function(k){var U="matrix(".concat(k.viewport.transform.join(","),")");k.div.style.transform=U,k.div.hidden=!1}}]),C}();n.XfaLayer=I},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.renderTextLayer=S;var e=t(4);function a(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function i(b,v){for(var A=0;A<v.length;A++){var x=v[A];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}function c(b,v,A){return v&&i(b.prototype,v),b}function f(b,v){var A=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!A){if(Array.isArray(b)||(A=m(b))||v){A&&(b=A);var x=0,H=function(){};return{s:H,n:function(){return x>=b.length?{done:!0}:{done:!1,value:b[x++]}},e:function(oe){throw oe},f:H}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var L=!0,X=!1,te;return{s:function(){A=A.call(b)},n:function(){var oe=A.next();return L=oe.done,oe},e:function(oe){X=!0,te=oe},f:function(){try{!L&&A.return!=null&&A.return()}finally{if(X)throw te}}}}function m(b,v){if(b){if(typeof b=="string")return R(b,v);var A=Object.prototype.toString.call(b).slice(8,-1);if(A==="Object"&&b.constructor&&(A=b.constructor.name),A==="Map"||A==="Set")return Array.from(b);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return R(b,v)}}function R(b,v){(v==null||v>b.length)&&(v=b.length);for(var A=0,x=new Array(v);A<v;A++)x[A]=b[A];return x}var B=1e5,N=30,G=.8,F=new Map,w=/^\s+$/g;function I(b,v){var A=F.get(b);if(A)return A;v.save(),v.font="".concat(N,"px ").concat(b);var x=v.measureText(""),H=x.fontBoundingBoxAscent,L=Math.abs(x.fontBoundingBoxDescent);if(H){v.restore();var X=H/(H+L);return F.set(b,X),X}v.strokeStyle="red",v.clearRect(0,0,N,N),v.strokeText("g",0,0);var te=v.getImageData(0,0,N,N).data;L=0;for(var ee=te.length-1-3;ee>=0;ee-=4)if(te[ee]>0){L=Math.ceil(ee/4/N);break}v.clearRect(0,0,N,N),v.strokeText("A",0,N),te=v.getImageData(0,0,N,N).data,H=0;for(var oe=0,$=te.length;oe<$;oe+=4)if(te[oe]>0){H=N-Math.floor(oe/4/N);break}if(v.restore(),H){var q=H/(H+L);return F.set(b,q),q}return F.set(b,G),G}function C(b,v,A,x){var H=document.createElement("span"),L=b._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:v.str!=="",hasEOL:v.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:v.str!=="",hasEOL:v.hasEOL};b._textDivs.push(H);var X=e.Util.transform(b._viewport.transform,v.transform),te=Math.atan2(X[1],X[0]),ee=A[v.fontName];ee.vertical&&(te+=Math.PI/2);var oe=Math.hypot(X[2],X[3]),$=oe*I(ee.fontFamily,x),q,E;te===0?(q=X[4],E=X[5]-$):(q=X[4]+$*Math.sin(te),E=X[5]-$*Math.cos(te)),H.style.left="".concat(q,"px"),H.style.top="".concat(E,"px"),H.style.fontSize="".concat(oe,"px"),H.style.fontFamily=ee.fontFamily,H.setAttribute("role","presentation"),H.textContent=v.str,H.dir=v.dir,b._fontInspectorEnabled&&(H.dataset.fontName=v.fontName),te!==0&&(L.angle=te*(180/Math.PI));var g=!1;if(v.str.length>1||b._enhanceTextSelection&&w.test(v.str))g=!0;else if(v.str!==" "&&v.transform[0]!==v.transform[3]){var P=Math.abs(v.transform[0]),M=Math.abs(v.transform[3]);P!==M&&Math.max(P,M)/Math.min(P,M)>1.5&&(g=!0)}if(g&&(ee.vertical?L.canvasWidth=v.height*b._viewport.scale:L.canvasWidth=v.width*b._viewport.scale),b._textDivProperties.set(H,L),b._textContentStream&&b._layoutText(H),b._enhanceTextSelection&&L.hasText){var K=1,ne=0;te!==0&&(K=Math.cos(te),ne=Math.sin(te));var Y=(ee.vertical?v.height:v.width)*b._viewport.scale,Se=oe,ke,Ee;te!==0?(ke=[K,ne,-ne,K,q,E],Ee=e.Util.getAxialAlignedBoundingBox([0,0,Y,Se],ke)):Ee=[q,E,q+Y,E+Se],b._bounds.push({left:Ee[0],top:Ee[1],right:Ee[2],bottom:Ee[3],div:H,size:[Y,Se],m:ke})}}function W(b){if(!b._canceled){var v=b._textDivs,A=b._capability,x=v.length;if(x>B){b._renderingDone=!0,A.resolve();return}if(!b._textContentStream)for(var H=0;H<x;H++)b._layoutText(v[H]);b._renderingDone=!0,A.resolve()}}function k(b,v,A){for(var x=0,H=0;H<A;H++){var L=b[v++];L>0&&(x=x?Math.min(L,x):L)}return x}function U(b){for(var v=b._bounds,A=b._viewport,x=y(A.width,A.height,v),H=0;H<x.length;H++){var L=v[H].div,X=b._textDivProperties.get(L);if(X.angle===0){X.paddingLeft=v[H].left-x[H].left,X.paddingTop=v[H].top-x[H].top,X.paddingRight=x[H].right-v[H].right,X.paddingBottom=x[H].bottom-v[H].bottom,b._textDivProperties.set(L,X);continue}for(var te=x[H],ee=v[H],oe=ee.m,$=oe[0],q=oe[1],E=[[0,0],[0,ee.size[1]],[ee.size[0],0],ee.size],g=new Float64Array(64),P=0,M=E.length;P<M;P++){var K=e.Util.applyTransform(E[P],oe);g[P+0]=$&&(te.left-K[0])/$,g[P+4]=q&&(te.top-K[1])/q,g[P+8]=$&&(te.right-K[0])/$,g[P+12]=q&&(te.bottom-K[1])/q,g[P+16]=q&&(te.left-K[0])/-q,g[P+20]=$&&(te.top-K[1])/$,g[P+24]=q&&(te.right-K[0])/-q,g[P+28]=$&&(te.bottom-K[1])/$,g[P+32]=$&&(te.left-K[0])/-$,g[P+36]=q&&(te.top-K[1])/-q,g[P+40]=$&&(te.right-K[0])/-$,g[P+44]=q&&(te.bottom-K[1])/-q,g[P+48]=q&&(te.left-K[0])/q,g[P+52]=$&&(te.top-K[1])/-$,g[P+56]=q&&(te.right-K[0])/q,g[P+60]=$&&(te.bottom-K[1])/-$}var ne=1+Math.min(Math.abs($),Math.abs(q));X.paddingLeft=k(g,32,16)/ne,X.paddingTop=k(g,48,16)/ne,X.paddingRight=k(g,0,16)/ne,X.paddingBottom=k(g,16,16)/ne,b._textDivProperties.set(L,X)}}function y(b,v,A){var x=A.map(function(g,P){return{x1:g.left,y1:g.top,x2:g.right,y2:g.bottom,index:P,x1New:void 0,x2New:void 0}});h(b,x);var H=new Array(A.length),L=f(x),X;try{for(L.s();!(X=L.n()).done;){var te=X.value,ee=te.index;H[ee]={left:te.x1New,top:0,right:te.x2New,bottom:0}}}catch(g){L.e(g)}finally{L.f()}A.map(function(g,P){var M=H[P],K=x[P];K.x1=g.top,K.y1=b-M.right,K.x2=g.bottom,K.y2=b-M.left,K.index=P,K.x1New=void 0,K.x2New=void 0}),h(v,x);var oe=f(x),$;try{for(oe.s();!($=oe.n()).done;){var q=$.value,E=q.index;H[E].top=q.x1New,H[E].bottom=q.x2New}}catch(g){oe.e(g)}finally{oe.f()}return H}function h(b,v){v.sort(function(O,p){return O.x1-p.x1||O.index-p.index});var A={x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0},x=[{start:-1/0,end:1/0,boundary:A}],H=f(v),L;try{for(H.s();!(L=H.n()).done;){for(var X=L.value,te=0;te<x.length&&x[te].end<=X.y1;)te++;for(var ee=x.length-1;ee>=0&&x[ee].start>=X.y2;)ee--;var oe=void 0,$=void 0,q=void 0,E=void 0,g=-1/0;for(q=te;q<=ee;q++){oe=x[q],$=oe.boundary;var P=void 0;$.x2>X.x1?P=$.index>X.index?$.x1New:X.x1:$.x2New===void 0?P=($.x2+X.x1)/2:P=$.x2New,P>g&&(g=P)}for(X.x1New=g,q=te;q<=ee;q++)oe=x[q],$=oe.boundary,$.x2New===void 0?$.x2>X.x1?$.index>X.index&&($.x2New=$.x2):$.x2New=g:$.x2New>g&&($.x2New=Math.max(g,$.x2));var M=[],K=null;for(q=te;q<=ee;q++){oe=x[q],$=oe.boundary;var ne=$.x2>X.x2?$:X;K===ne?M[M.length-1].end=oe.end:(M.push({start:oe.start,end:oe.end,boundary:ne}),K=ne)}for(x[te].start<X.y1&&(M[0].start=X.y1,M.unshift({start:x[te].start,end:X.y1,boundary:x[te].boundary})),X.y2<x[ee].end&&(M[M.length-1].end=X.y2,M.push({start:X.y2,end:x[ee].end,boundary:x[ee].boundary})),q=te;q<=ee;q++)if(oe=x[q],$=oe.boundary,$.x2New===void 0){var Y=!1;for(E=te-1;!Y&&E>=0&&x[E].start>=$.y1;E--)Y=x[E].boundary===$;for(E=ee+1;!Y&&E<x.length&&x[E].end<=$.y2;E++)Y=x[E].boundary===$;for(E=0;!Y&&E<M.length;E++)Y=M[E].boundary===$;Y||($.x2New=g)}Array.prototype.splice.apply(x,[te,ee-te+1].concat(M))}}catch(O){H.e(O)}finally{H.f()}for(var Se=0,ke=x;Se<ke.length;Se++){var Ee=ke[Se],V=Ee.boundary;V.x2New===void 0&&(V.x2New=Math.max(b,V.x2))}}var d=function(){function b(v){var A,x=this,H=v.textContent,L=v.textContentStream,X=v.container,te=v.viewport,ee=v.textDivs,oe=v.textContentItemsStr,$=v.enhanceTextSelection;a(this,b),this._textContent=H,this._textContentStream=L,this._container=X,this._document=X.ownerDocument,this._viewport=te,this._textDivs=ee||[],this._textContentItemsStr=oe||[],this._enhanceTextSelection=!!$,this._fontInspectorEnabled=!!((A=globalThis.FontInspector)!==null&&A!==void 0&&A.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,e.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){x._enhanceTextSelection||(x._textDivProperties=null),x._layoutTextCtx&&(x._layoutTextCtx.canvas.width=0,x._layoutTextCtx.canvas.height=0,x._layoutTextCtx=null)}).catch(function(){})}return c(b,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new e.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(A,x){for(var H=0,L=A.length;H<L;H++){if(A[H].str===void 0){if(A[H].type==="beginMarkedContentProps"||A[H].type==="beginMarkedContent"){var X=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),A[H].id!==null&&this._container.setAttribute("id","".concat(A[H].id)),X.appendChild(this._container)}else A[H].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(A[H].str),C(this,A[H],x,this._layoutTextCtx)}}},{key:"_layoutText",value:function(A){var x=this._textDivProperties.get(A),H="";if(x.canvasWidth!==0&&x.hasText){var L=A.style,X=L.fontSize,te=L.fontFamily;(X!==this._layoutTextLastFontSize||te!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(X," ").concat(te),this._layoutTextLastFontSize=X,this._layoutTextLastFontFamily=te);var ee=this._layoutTextCtx.measureText(A.textContent),oe=ee.width;if(oe>0){var $=x.canvasWidth/oe;this._enhanceTextSelection&&(x.scale=$),H="scaleX(".concat($,")")}}if(x.angle!==0&&(H="rotate(".concat(x.angle,"deg) ").concat(H)),H.length>0&&(this._enhanceTextSelection&&(x.originalTransform=H),A.style.transform=H),x.hasText&&this._container.appendChild(A),x.hasEOL){var q=document.createElement("br");q.setAttribute("role","presentation"),this._container.appendChild(q)}}},{key:"_render",value:function(){var A=this,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=(0,e.createPromiseCapability)(),L=Object.create(null),X=this._document.createElement("canvas");if(X.height=X.width=N,X.mozOpaque=!0,this._layoutTextCtx=X.getContext("2d",{alpha:!1}),this._textContent){var te=this._textContent.items,ee=this._textContent.styles;this._processItems(te,ee),H.resolve()}else if(this._textContentStream){var oe=function $(){A._reader.read().then(function(q){var E=q.value,g=q.done;if(g){H.resolve();return}Object.assign(L,E.styles),A._processItems(E.items,L),$()},H.reject)};this._reader=this._textContentStream.getReader(),oe()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');H.promise.then(function(){L=null,x?A._renderTimer=setTimeout(function(){W(A),A._renderTimer=null},x):W(A)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!this._enhanceTextSelection||!this._renderingDone)){this._bounds!==null&&(U(this),this._bounds=null);for(var x=[],H=[],L=0,X=this._textDivs.length;L<X;L++){var te=this._textDivs[L],ee=this._textDivProperties.get(te);ee.hasText&&(A?(x.length=0,H.length=0,ee.originalTransform&&x.push(ee.originalTransform),ee.paddingTop>0?(H.push("".concat(ee.paddingTop,"px")),x.push("translateY(".concat(-ee.paddingTop,"px)"))):H.push(0),ee.paddingRight>0?H.push("".concat(ee.paddingRight/ee.scale,"px")):H.push(0),ee.paddingBottom>0?H.push("".concat(ee.paddingBottom,"px")):H.push(0),ee.paddingLeft>0?(H.push("".concat(ee.paddingLeft/ee.scale,"px")),x.push("translateX(".concat(-ee.paddingLeft/ee.scale,"px)"))):H.push(0),te.style.padding=H.join(" "),x.length&&(te.style.transform=x.join(" "))):(te.style.padding=null,te.style.transform=ee.originalTransform))}}}}]),b}();function S(b){var v=new d({textContent:b.textContent,textContentStream:b.textContentStream,container:b.container,viewport:b.viewport,textDivs:b.textDivs,textContentItemsStr:b.textContentItemsStr,enhanceTextSelection:b.enhanceTextSelection});return v._render(b.timeout),v}},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SVGGraphics=void 0;var e=t(4),a=t(1),i=t(6);function c($){return R($)||m($)||I($)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function R($){if(Array.isArray($))return C($)}function B($,q){return F($)||G($,q)||I($,q)||N()}function N(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G($,q){var E=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(E!=null){var g=[],P=!0,M=!1,K,ne;try{for(E=E.call($);!(P=(K=E.next()).done)&&(g.push(K.value),!(q&&g.length===q));P=!0);}catch(Y){M=!0,ne=Y}finally{try{!P&&E.return!=null&&E.return()}finally{if(M)throw ne}}return g}}function F($){if(Array.isArray($))return $}function w($,q){var E=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!E){if(Array.isArray($)||(E=I($))||q){E&&($=E);var g=0,P=function(){};return{s:P,n:function(){return g>=$.length?{done:!0}:{done:!1,value:$[g++]}},e:function(Se){throw Se},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M=!0,K=!1,ne;return{s:function(){E=E.call($)},n:function(){var Se=E.next();return M=Se.done,Se},e:function(Se){K=!0,ne=Se},f:function(){try{!M&&E.return!=null&&E.return()}finally{if(K)throw ne}}}}function I($,q){if($){if(typeof $=="string")return C($,q);var E=Object.prototype.toString.call($).slice(8,-1);if(E==="Object"&&$.constructor&&(E=$.constructor.name),E==="Map"||E==="Set")return Array.from($);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return C($,q)}}function C($,q){(q==null||q>$.length)&&(q=$.length);for(var E=0,g=new Array(q);E<q;E++)g[E]=$[E];return g}function W($,q){for(var E=0;E<q.length;E++){var g=q[E];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty($,g.key,g)}}function k($,q,E){return q&&W($.prototype,q),$}function U($,q){if(!($ instanceof q))throw new TypeError("Cannot call a class as a function")}var y=function $(){U(this,$),(0,e.unreachable)("Not implemented: SVGGraphics")};n.SVGGraphics=y;{var h=function(q){var E=[],g=[],P=w(q),M;try{for(P.s();!(M=P.n()).done;){var K=M.value;if(K.fn==="save"){E.push({fnId:92,fn:"group",items:[]}),g.push(E),E=E[E.length-1].items;continue}K.fn==="restore"?E=g.pop():E.push(K)}}catch(ne){P.e(ne)}finally{P.f()}return E},d=function(q){if(Number.isInteger(q))return q.toString();var E=q.toFixed(10),g=E.length-1;if(E[g]!=="0")return E;do g--;while(E[g]==="0");return E.substring(0,E[g]==="."?g:g+1)},S=function(q){if(q[4]===0&&q[5]===0){if(q[1]===0&&q[2]===0)return q[0]===1&&q[3]===1?"":"scale(".concat(d(q[0])," ").concat(d(q[3]),")");if(q[0]===q[3]&&q[1]===-q[2]){var E=Math.acos(q[0])*180/Math.PI;return"rotate(".concat(d(E),")")}}else if(q[0]===1&&q[1]===0&&q[2]===0&&q[3]===1)return"translate(".concat(d(q[4])," ").concat(d(q[5]),")");return"matrix(".concat(d(q[0])," ").concat(d(q[1])," ").concat(d(q[2])," ").concat(d(q[3])," ").concat(d(q[4])," ")+"".concat(d(q[5]),")")},b={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},v="http://www.w3.org/XML/1998/namespace",A="http://www.w3.org/1999/xlink",x=["butt","round","square"],H=["miter","round","bevel"],L=function(){for(var $=new Uint8Array([137,80,78,71,13,10,26,10]),q=12,E=new Int32Array(256),g=0;g<256;g++){for(var P=g,M=0;M<8;M++)P&1?P=3988292384^P>>1&2147483647:P=P>>1&2147483647;E[g]=P}function K(V,O,p){for(var l=-1,_=O;_<p;_++){var D=(l^V[_])&255,j=E[D];l=l>>>8^j}return l^-1}function ne(V,O,p,l){var _=l,D=O.length;p[_]=D>>24&255,p[_+1]=D>>16&255,p[_+2]=D>>8&255,p[_+3]=D&255,_+=4,p[_]=V.charCodeAt(0)&255,p[_+1]=V.charCodeAt(1)&255,p[_+2]=V.charCodeAt(2)&255,p[_+3]=V.charCodeAt(3)&255,_+=4,p.set(O,_),_+=O.length;var j=K(p,l+4,_);p[_]=j>>24&255,p[_+1]=j>>16&255,p[_+2]=j>>8&255,p[_+3]=j&255}function Y(V,O,p){for(var l=1,_=0,D=O;D<p;++D)l=(l+(V[D]&255))%65521,_=(_+l)%65521;return _<<16|l}function Se(V){if(!i.isNodeJS)return ke(V);try{var O;parseInt(process.versions.node)>=8?O=V:O=Buffer.from(V);var p=require$$5.deflateSync(O,{level:9});return p instanceof Uint8Array?p:new Uint8Array(p)}catch(l){(0,e.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+l)}return ke(V)}function ke(V){var O=V.length,p=65535,l=Math.ceil(O/p),_=new Uint8Array(2+O+l*5+4),D=0;_[D++]=120,_[D++]=156;for(var j=0;O>p;)_[D++]=0,_[D++]=255,_[D++]=255,_[D++]=0,_[D++]=0,_.set(V.subarray(j,j+p),D),D+=p,j+=p,O-=p;_[D++]=1,_[D++]=O&255,_[D++]=O>>8&255,_[D++]=~O&65535&255,_[D++]=(~O&65535)>>8&255,_.set(V.subarray(j),D),D+=V.length-j;var Z=Y(V,0,V.length);return _[D++]=Z>>24&255,_[D++]=Z>>16&255,_[D++]=Z>>8&255,_[D++]=Z&255,_}function Ee(V,O,p,l){var _=V.width,D=V.height,j,Z,ce,pe=V.data;switch(O){case e.ImageKind.GRAYSCALE_1BPP:Z=0,j=1,ce=_+7>>3;break;case e.ImageKind.RGB_24BPP:Z=2,j=8,ce=_*3;break;case e.ImageKind.RGBA_32BPP:Z=6,j=8,ce=_*4;break;default:throw new Error("invalid format")}for(var ge=new Uint8Array((1+ce)*D),ye=0,Ae=0,Te=0;Te<D;++Te)ge[ye++]=0,ge.set(pe.subarray(Ae,Ae+ce),ye),Ae+=ce,ye+=ce;if(O===e.ImageKind.GRAYSCALE_1BPP&&l){ye=0;for(var xe=0;xe<D;xe++){ye++;for(var Ie=0;Ie<ce;Ie++)ge[ye++]^=255}}var Me=new Uint8Array([_>>24&255,_>>16&255,_>>8&255,_&255,D>>24&255,D>>16&255,D>>8&255,D&255,j,Z,0,0,0]),je=Se(ge),Ge=$.length+q*3+Me.length+je.length,de=new Uint8Array(Ge),he=0;return de.set($,he),he+=$.length,ne("IHDR",Me,de,he),he+=q+Me.length,ne("IDATA",je,de,he),he+=q+je.length,ne("IEND",new Uint8Array(0),de,he),(0,e.createObjectURL)(de,"image/png",p)}return function(O,p,l){var _=O.kind===void 0?e.ImageKind.GRAYSCALE_1BPP:O.kind;return Ee(O,_,p,l)}}(),X=function(){function $(){U(this,$),this.fontSizeScale=1,this.fontWeight=b.fontWeight,this.fontSize=0,this.textMatrix=e.IDENTITY_MATRIX,this.fontMatrix=e.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=e.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=b.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return k($,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(E,g){this.x=E,this.y=g}}]),$}(),te=0,ee=0,oe=0;n.SVGGraphics=y=function(){function $(q,E){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;U(this,$),this.svgFactory=new a.DOMSVGFactory,this.current=new X,this.transformMatrix=e.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=q,this.objs=E,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!g,this._operatorIdMapping=[];for(var P in e.OPS)this._operatorIdMapping[e.OPS[P]]=P}return k($,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var E=this.current;this.extraStack.push(E),this.current=E.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(E){this.save(),this.executeOpTree(E),this.restore()}},{key:"loadDependencies",value:function(E){for(var g=this,P=E.fnArray,M=E.argsArray,K=0,ne=P.length;K<ne;K++)if(P[K]===e.OPS.dependency){var Y=w(M[K]),Se;try{var ke=function(){var V=Se.value,O=V.startsWith("g_")?g.commonObjs:g.objs,p=new Promise(function(l){O.get(V,l)});g.current.dependencies.push(p)};for(Y.s();!(Se=Y.n()).done;)ke()}catch(Ee){Y.e(Ee)}finally{Y.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(E,g,P,M,K,ne){var Y=[E,g,P,M,K,ne];this.transformMatrix=e.Util.transform(this.transformMatrix,Y),this.tgrp=null}},{key:"getSVG",value:function(E,g){var P=this;this.viewport=g;var M=this._initialize(g);return this.loadDependencies(E).then(function(){return P.transformMatrix=e.IDENTITY_MATRIX,P.executeOpTree(P.convertOpList(E)),M})}},{key:"convertOpList",value:function(E){for(var g=this._operatorIdMapping,P=E.argsArray,M=E.fnArray,K=[],ne=0,Y=M.length;ne<Y;ne++){var Se=M[ne];K.push({fnId:Se,fn:g[Se],args:P[ne]})}return h(K)}},{key:"executeOpTree",value:function(E){var g=w(E),P;try{for(g.s();!(P=g.n()).done;){var M=P.value,K=M.fn,ne=M.fnId,Y=M.args;switch(ne|0){case e.OPS.beginText:this.beginText();break;case e.OPS.dependency:break;case e.OPS.setLeading:this.setLeading(Y);break;case e.OPS.setLeadingMoveText:this.setLeadingMoveText(Y[0],Y[1]);break;case e.OPS.setFont:this.setFont(Y);break;case e.OPS.showText:this.showText(Y[0]);break;case e.OPS.showSpacedText:this.showText(Y[0]);break;case e.OPS.endText:this.endText();break;case e.OPS.moveText:this.moveText(Y[0],Y[1]);break;case e.OPS.setCharSpacing:this.setCharSpacing(Y[0]);break;case e.OPS.setWordSpacing:this.setWordSpacing(Y[0]);break;case e.OPS.setHScale:this.setHScale(Y[0]);break;case e.OPS.setTextMatrix:this.setTextMatrix(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]);break;case e.OPS.setTextRise:this.setTextRise(Y[0]);break;case e.OPS.setTextRenderingMode:this.setTextRenderingMode(Y[0]);break;case e.OPS.setLineWidth:this.setLineWidth(Y[0]);break;case e.OPS.setLineJoin:this.setLineJoin(Y[0]);break;case e.OPS.setLineCap:this.setLineCap(Y[0]);break;case e.OPS.setMiterLimit:this.setMiterLimit(Y[0]);break;case e.OPS.setFillRGBColor:this.setFillRGBColor(Y[0],Y[1],Y[2]);break;case e.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Y[0],Y[1],Y[2]);break;case e.OPS.setStrokeColorN:this.setStrokeColorN(Y);break;case e.OPS.setFillColorN:this.setFillColorN(Y);break;case e.OPS.shadingFill:this.shadingFill(Y[0]);break;case e.OPS.setDash:this.setDash(Y[0],Y[1]);break;case e.OPS.setRenderingIntent:this.setRenderingIntent(Y[0]);break;case e.OPS.setFlatness:this.setFlatness(Y[0]);break;case e.OPS.setGState:this.setGState(Y[0]);break;case e.OPS.fill:this.fill();break;case e.OPS.eoFill:this.eoFill();break;case e.OPS.stroke:this.stroke();break;case e.OPS.fillStroke:this.fillStroke();break;case e.OPS.eoFillStroke:this.eoFillStroke();break;case e.OPS.clip:this.clip("nonzero");break;case e.OPS.eoClip:this.clip("evenodd");break;case e.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case e.OPS.paintImageXObject:this.paintImageXObject(Y[0]);break;case e.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Y[0]);break;case e.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Y[0]);break;case e.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Y[0],Y[1]);break;case e.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case e.OPS.closePath:this.closePath();break;case e.OPS.closeStroke:this.closeStroke();break;case e.OPS.closeFillStroke:this.closeFillStroke();break;case e.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case e.OPS.nextLine:this.nextLine();break;case e.OPS.transform:this.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]);break;case e.OPS.constructPath:this.constructPath(Y[0],Y[1]);break;case e.OPS.endPath:this.endPath();break;case 92:this.group(M.items);break;default:(0,e.warn)("Unimplemented operator ".concat(K));break}}}catch(Se){g.e(Se)}finally{g.f()}}},{key:"setWordSpacing",value:function(E){this.current.wordSpacing=E}},{key:"setCharSpacing",value:function(E){this.current.charSpacing=E}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(E,g,P,M,K,ne){var Y=this.current;Y.textMatrix=Y.lineMatrix=[E,g,P,M,K,ne],Y.textMatrixScale=Math.hypot(E,g),Y.x=Y.lineX=0,Y.y=Y.lineY=0,Y.xcoords=[],Y.ycoords=[],Y.tspan=this.svgFactory.createElement("svg:tspan"),Y.tspan.setAttributeNS(null,"font-family",Y.fontFamily),Y.tspan.setAttributeNS(null,"font-size","".concat(d(Y.fontSize),"px")),Y.tspan.setAttributeNS(null,"y",d(-Y.y)),Y.txtElement=this.svgFactory.createElement("svg:text"),Y.txtElement.appendChild(Y.tspan)}},{key:"beginText",value:function(){var E=this.current;E.x=E.lineX=0,E.y=E.lineY=0,E.textMatrix=e.IDENTITY_MATRIX,E.lineMatrix=e.IDENTITY_MATRIX,E.textMatrixScale=1,E.tspan=this.svgFactory.createElement("svg:tspan"),E.txtElement=this.svgFactory.createElement("svg:text"),E.txtgrp=this.svgFactory.createElement("svg:g"),E.xcoords=[],E.ycoords=[]}},{key:"moveText",value:function(E,g){var P=this.current;P.x=P.lineX+=E,P.y=P.lineY+=g,P.xcoords=[],P.ycoords=[],P.tspan=this.svgFactory.createElement("svg:tspan"),P.tspan.setAttributeNS(null,"font-family",P.fontFamily),P.tspan.setAttributeNS(null,"font-size","".concat(d(P.fontSize),"px")),P.tspan.setAttributeNS(null,"y",d(-P.y))}},{key:"showText",value:function(E){var g=this.current,P=g.font,M=g.fontSize;if(M!==0){var K=g.fontSizeScale,ne=g.charSpacing,Y=g.wordSpacing,Se=g.fontDirection,ke=g.textHScale*Se,Ee=P.vertical,V=Ee?1:-1,O=P.defaultVMetrics,p=M*g.fontMatrix[0],l=0,_=w(E),D;try{for(_.s();!(D=_.n()).done;){var j=D.value;if(j===null){l+=Se*Y;continue}else if((0,e.isNum)(j)){l+=V*j*M/1e3;continue}var Z=(j.isSpace?Y:0)+ne,ce=j.fontChar,pe=void 0,ge=void 0,ye=j.width;if(Ee){var Ae=void 0,Te=j.vmetric||O;Ae=j.vmetric?Te[1]:ye*.5,Ae=-Ae*p;var xe=Te[2]*p;ye=Te?-Te[0]:ye,pe=Ae/K,ge=(l+xe)/K}else pe=l/K,ge=0;(j.isInFont||P.missingFile)&&(g.xcoords.push(g.x+pe),Ee&&g.ycoords.push(-g.y+ge),g.tspan.textContent+=ce);var Ie=void 0;Ee?Ie=ye*p-Z*Se:Ie=ye*p+Z*Se,l+=Ie}}catch(de){_.e(de)}finally{_.f()}g.tspan.setAttributeNS(null,"x",g.xcoords.map(d).join(" ")),Ee?g.tspan.setAttributeNS(null,"y",g.ycoords.map(d).join(" ")):g.tspan.setAttributeNS(null,"y",d(-g.y)),Ee?g.y-=l:g.x+=l*ke,g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size","".concat(d(g.fontSize),"px")),g.fontStyle!==b.fontStyle&&g.tspan.setAttributeNS(null,"font-style",g.fontStyle),g.fontWeight!==b.fontWeight&&g.tspan.setAttributeNS(null,"font-weight",g.fontWeight);var Me=g.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK;if(Me===e.TextRenderingMode.FILL||Me===e.TextRenderingMode.FILL_STROKE?(g.fillColor!==b.fillColor&&g.tspan.setAttributeNS(null,"fill",g.fillColor),g.fillAlpha<1&&g.tspan.setAttributeNS(null,"fill-opacity",g.fillAlpha)):g.textRenderingMode===e.TextRenderingMode.ADD_TO_PATH?g.tspan.setAttributeNS(null,"fill","transparent"):g.tspan.setAttributeNS(null,"fill","none"),Me===e.TextRenderingMode.STROKE||Me===e.TextRenderingMode.FILL_STROKE){var je=1/(g.textMatrixScale||1);this._setStrokeAttributes(g.tspan,je)}var Ge=g.textMatrix;g.textRise!==0&&(Ge=Ge.slice(),Ge[5]+=g.textRise),g.txtElement.setAttributeNS(null,"transform","".concat(S(Ge)," scale(").concat(d(ke),", -1)")),g.txtElement.setAttributeNS(v,"xml:space","preserve"),g.txtElement.appendChild(g.tspan),g.txtgrp.appendChild(g.txtElement),this._ensureTransformGroup().appendChild(g.txtElement)}}},{key:"setLeadingMoveText",value:function(E,g){this.setLeading(-g),this.moveText(E,g)}},{key:"addFontStyle",value:function(E){if(!E.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var g=(0,e.createObjectURL)(E.data,E.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(E.loadedName,'";')+" src: url(".concat(g,`); }
`)}},{key:"setFont",value:function(E){var g=this.current,P=this.commonObjs.get(E[0]),M=E[1];g.font=P,this.embedFonts&&!P.missingFile&&!this.embeddedFonts[P.loadedName]&&(this.addFontStyle(P),this.embeddedFonts[P.loadedName]=P),g.fontMatrix=P.fontMatrix||e.FONT_IDENTITY_MATRIX;var K="normal";P.black?K="900":P.bold&&(K="bold");var ne=P.italic?"italic":"normal";M<0?(M=-M,g.fontDirection=-1):g.fontDirection=1,g.fontSize=M,g.fontFamily=P.loadedName,g.fontWeight=K,g.fontStyle=ne,g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"y",d(-g.y)),g.xcoords=[],g.ycoords=[]}},{key:"endText",value:function(){var E,g=this.current;g.textRenderingMode&e.TextRenderingMode.ADD_TO_PATH_FLAG&&(E=g.txtElement)!==null&&E!==void 0&&E.hasChildNodes()&&(g.element=g.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(E){E>0&&(this.current.lineWidth=E)}},{key:"setLineCap",value:function(E){this.current.lineCap=x[E]}},{key:"setLineJoin",value:function(E){this.current.lineJoin=H[E]}},{key:"setMiterLimit",value:function(E){this.current.miterLimit=E}},{key:"setStrokeAlpha",value:function(E){this.current.strokeAlpha=E}},{key:"setStrokeRGBColor",value:function(E,g,P){this.current.strokeColor=e.Util.makeHexColor(E,g,P)}},{key:"setFillAlpha",value:function(E){this.current.fillAlpha=E}},{key:"setFillRGBColor",value:function(E,g,P){this.current.fillColor=e.Util.makeHexColor(E,g,P),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(E){this.current.strokeColor=this._makeColorN_Pattern(E)}},{key:"setFillColorN",value:function(E){this.current.fillColor=this._makeColorN_Pattern(E)}},{key:"shadingFill",value:function(E){var g=this.viewport.width,P=this.viewport.height,M=e.Util.inverseTransform(this.transformMatrix),K=e.Util.applyTransform([0,0],M),ne=e.Util.applyTransform([0,P],M),Y=e.Util.applyTransform([g,0],M),Se=e.Util.applyTransform([g,P],M),ke=Math.min(K[0],ne[0],Y[0],Se[0]),Ee=Math.min(K[1],ne[1],Y[1],Se[1]),V=Math.max(K[0],ne[0],Y[0],Se[0]),O=Math.max(K[1],ne[1],Y[1],Se[1]),p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",ke),p.setAttributeNS(null,"y",Ee),p.setAttributeNS(null,"width",V-ke),p.setAttributeNS(null,"height",O-Ee),p.setAttributeNS(null,"fill",this._makeShadingPattern(E)),this.current.fillAlpha<1&&p.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(p)}},{key:"_makeColorN_Pattern",value:function(E){return E[0]==="TilingPattern"?this._makeTilingPattern(E):this._makeShadingPattern(E)}},{key:"_makeTilingPattern",value:function(E){var g=E[1],P=E[2],M=E[3]||e.IDENTITY_MATRIX,K=B(E[4],4),ne=K[0],Y=K[1],Se=K[2],ke=K[3],Ee=E[5],V=E[6],O=E[7],p="shading".concat(oe++),l=e.Util.normalizeRect([].concat(c(e.Util.applyTransform([ne,Y],M)),c(e.Util.applyTransform([Se,ke],M)))),_=B(l,4),D=_[0],j=_[1],Z=_[2],ce=_[3],pe=e.Util.singularValueDecompose2dScale(M),ge=B(pe,2),ye=ge[0],Ae=ge[1],Te=Ee*ye,xe=V*Ae,Ie=this.svgFactory.createElement("svg:pattern");Ie.setAttributeNS(null,"id",p),Ie.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Ie.setAttributeNS(null,"width",Te),Ie.setAttributeNS(null,"height",xe),Ie.setAttributeNS(null,"x","".concat(D)),Ie.setAttributeNS(null,"y","".concat(j));var Me=this.svg,je=this.transformMatrix,Ge=this.current.fillColor,de=this.current.strokeColor,he=this.svgFactory.create(Z-D,ce-j);if(this.svg=he,this.transformMatrix=M,O===2){var z=e.Util.makeHexColor.apply(e.Util,c(g));this.current.fillColor=z,this.current.strokeColor=z}return this.executeOpTree(this.convertOpList(P)),this.svg=Me,this.transformMatrix=je,this.current.fillColor=Ge,this.current.strokeColor=de,Ie.appendChild(he.childNodes[0]),this.defs.appendChild(Ie),"url(#".concat(p,")")}},{key:"_makeShadingPattern",value:function(E){switch(typeof E=="string"&&(E=this.objs.get(E)),E[0]){case"RadialAxial":var g="shading".concat(oe++),P=E[3],M;switch(E[1]){case"axial":var K=E[4],ne=E[5];M=this.svgFactory.createElement("svg:linearGradient"),M.setAttributeNS(null,"id",g),M.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),M.setAttributeNS(null,"x1",K[0]),M.setAttributeNS(null,"y1",K[1]),M.setAttributeNS(null,"x2",ne[0]),M.setAttributeNS(null,"y2",ne[1]);break;case"radial":var Y=E[4],Se=E[5],ke=E[6],Ee=E[7];M=this.svgFactory.createElement("svg:radialGradient"),M.setAttributeNS(null,"id",g),M.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),M.setAttributeNS(null,"cx",Se[0]),M.setAttributeNS(null,"cy",Se[1]),M.setAttributeNS(null,"r",Ee),M.setAttributeNS(null,"fx",Y[0]),M.setAttributeNS(null,"fy",Y[1]),M.setAttributeNS(null,"fr",ke);break;default:throw new Error("Unknown RadialAxial type: ".concat(E[1]))}var V=w(P),O;try{for(V.s();!(O=V.n()).done;){var p=O.value,l=this.svgFactory.createElement("svg:stop");l.setAttributeNS(null,"offset",p[0]),l.setAttributeNS(null,"stop-color",p[1]),M.appendChild(l)}}catch(_){V.e(_)}finally{V.f()}return this.defs.appendChild(M),"url(#".concat(g,")");case"Mesh":return(0,e.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(E[0]))}}},{key:"setDash",value:function(E,g){this.current.dashArray=E,this.current.dashPhase=g}},{key:"constructPath",value:function(E,g){var P=this.current,M=P.x,K=P.y,ne=[],Y=0,Se=w(E),ke;try{for(Se.s();!(ke=Se.n()).done;){var Ee=ke.value;switch(Ee|0){case e.OPS.rectangle:M=g[Y++],K=g[Y++];var V=g[Y++],O=g[Y++],p=M+V,l=K+O;ne.push("M",d(M),d(K),"L",d(p),d(K),"L",d(p),d(l),"L",d(M),d(l),"Z");break;case e.OPS.moveTo:M=g[Y++],K=g[Y++],ne.push("M",d(M),d(K));break;case e.OPS.lineTo:M=g[Y++],K=g[Y++],ne.push("L",d(M),d(K));break;case e.OPS.curveTo:M=g[Y+4],K=g[Y+5],ne.push("C",d(g[Y]),d(g[Y+1]),d(g[Y+2]),d(g[Y+3]),d(M),d(K)),Y+=6;break;case e.OPS.curveTo2:ne.push("C",d(M),d(K),d(g[Y]),d(g[Y+1]),d(g[Y+2]),d(g[Y+3])),M=g[Y+2],K=g[Y+3],Y+=4;break;case e.OPS.curveTo3:M=g[Y+2],K=g[Y+3],ne.push("C",d(g[Y]),d(g[Y+1]),d(M),d(K),d(M),d(K)),Y+=4;break;case e.OPS.closePath:ne.push("Z");break}}}catch(_){Se.e(_)}finally{Se.f()}ne=ne.join(" "),P.path&&E.length>0&&E[0]!==e.OPS.rectangle&&E[0]!==e.OPS.moveTo?ne=P.path.getAttributeNS(null,"d")+ne:(P.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(P.path)),P.path.setAttributeNS(null,"d",ne),P.path.setAttributeNS(null,"fill","none"),P.element=P.path,P.setCurrentPoint(M,K)}},{key:"endPath",value:function(){var E=this.current;if(E.path=null,!!this.pendingClip){if(!E.element){this.pendingClip=null;return}var g="clippath".concat(te++),P=this.svgFactory.createElement("svg:clipPath");P.setAttributeNS(null,"id",g),P.setAttributeNS(null,"transform",S(this.transformMatrix));var M=E.element.cloneNode(!0);if(this.pendingClip==="evenodd"?M.setAttributeNS(null,"clip-rule","evenodd"):M.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,P.appendChild(M),this.defs.appendChild(P),E.activeClipUrl){E.clipGroup=null;var K=w(this.extraStack),ne;try{for(K.s();!(ne=K.n()).done;){var Y=ne.value;Y.clipGroup=null}}catch(Se){K.e(Se)}finally{K.f()}P.setAttributeNS(null,"clip-path",E.activeClipUrl)}E.activeClipUrl="url(#".concat(g,")"),this.tgrp=null}}},{key:"clip",value:function(E){this.pendingClip=E}},{key:"closePath",value:function(){var E=this.current;if(E.path){var g="".concat(E.path.getAttributeNS(null,"d"),"Z");E.path.setAttributeNS(null,"d",g)}}},{key:"setLeading",value:function(E){this.current.leading=-E}},{key:"setTextRise",value:function(E){this.current.textRise=E}},{key:"setTextRenderingMode",value:function(E){this.current.textRenderingMode=E}},{key:"setHScale",value:function(E){this.current.textHScale=E/100}},{key:"setRenderingIntent",value:function(E){}},{key:"setFlatness",value:function(E){}},{key:"setGState",value:function(E){var g=w(E),P;try{for(g.s();!(P=g.n()).done;){var M=B(P.value,2),K=M[0],ne=M[1];switch(K){case"LW":this.setLineWidth(ne);break;case"LC":this.setLineCap(ne);break;case"LJ":this.setLineJoin(ne);break;case"ML":this.setMiterLimit(ne);break;case"D":this.setDash(ne[0],ne[1]);break;case"RI":this.setRenderingIntent(ne);break;case"FL":this.setFlatness(ne);break;case"Font":this.setFont(ne);break;case"CA":this.setStrokeAlpha(ne);break;case"ca":this.setFillAlpha(ne);break;default:(0,e.warn)("Unimplemented graphic state operator ".concat(K));break}}}catch(Y){g.e(Y)}finally{g.f()}}},{key:"fill",value:function(){var E=this.current;E.element&&(E.element.setAttributeNS(null,"fill",E.fillColor),E.element.setAttributeNS(null,"fill-opacity",E.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var E=this.current;E.element&&(this._setStrokeAttributes(E.element),E.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(E){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,P=this.current,M=P.dashArray;g!==1&&M.length>0&&(M=M.map(function(K){return g*K})),E.setAttributeNS(null,"stroke",P.strokeColor),E.setAttributeNS(null,"stroke-opacity",P.strokeAlpha),E.setAttributeNS(null,"stroke-miterlimit",d(P.miterLimit)),E.setAttributeNS(null,"stroke-linecap",P.lineCap),E.setAttributeNS(null,"stroke-linejoin",P.lineJoin),E.setAttributeNS(null,"stroke-width",d(g*P.lineWidth)+"px"),E.setAttributeNS(null,"stroke-dasharray",M.map(d).join(" ")),E.setAttributeNS(null,"stroke-dashoffset",d(g*P.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x","0"),E.setAttributeNS(null,"y","0"),E.setAttributeNS(null,"width","1px"),E.setAttributeNS(null,"height","1px"),E.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(E)}},{key:"paintImageXObject",value:function(E){var g=E.startsWith("g_")?this.commonObjs.get(E):this.objs.get(E);if(!g){(0,e.warn)("Dependent image with object ID ".concat(E," is not ready yet"));return}this.paintInlineImageXObject(g)}},{key:"paintInlineImageXObject",value:function(E,g){var P=E.width,M=E.height,K=L(E,this.forceDataSchema,!!g),ne=this.svgFactory.createElement("svg:rect");ne.setAttributeNS(null,"x","0"),ne.setAttributeNS(null,"y","0"),ne.setAttributeNS(null,"width",d(P)),ne.setAttributeNS(null,"height",d(M)),this.current.element=ne,this.clip("nonzero");var Y=this.svgFactory.createElement("svg:image");Y.setAttributeNS(A,"xlink:href",K),Y.setAttributeNS(null,"x","0"),Y.setAttributeNS(null,"y",d(-M)),Y.setAttributeNS(null,"width",d(P)+"px"),Y.setAttributeNS(null,"height",d(M)+"px"),Y.setAttributeNS(null,"transform","scale(".concat(d(1/P)," ").concat(d(-1/M),")")),g?g.appendChild(Y):this._ensureTransformGroup().appendChild(Y)}},{key:"paintImageMaskXObject",value:function(E){var g=this.current,P=E.width,M=E.height,K=g.fillColor;g.maskId="mask".concat(ee++);var ne=this.svgFactory.createElement("svg:mask");ne.setAttributeNS(null,"id",g.maskId);var Y=this.svgFactory.createElement("svg:rect");Y.setAttributeNS(null,"x","0"),Y.setAttributeNS(null,"y","0"),Y.setAttributeNS(null,"width",d(P)),Y.setAttributeNS(null,"height",d(M)),Y.setAttributeNS(null,"fill",K),Y.setAttributeNS(null,"mask","url(#".concat(g.maskId,")")),this.defs.appendChild(ne),this._ensureTransformGroup().appendChild(Y),this.paintInlineImageXObject(E,ne)}},{key:"paintFormXObjectBegin",value:function(E,g){if(Array.isArray(E)&&E.length===6&&this.transform(E[0],E[1],E[2],E[3],E[4],E[5]),g){var P=g[2]-g[0],M=g[3]-g[1],K=this.svgFactory.createElement("svg:rect");K.setAttributeNS(null,"x",g[0]),K.setAttributeNS(null,"y",g[1]),K.setAttributeNS(null,"width",d(P)),K.setAttributeNS(null,"height",d(M)),this.current.element=K,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(E){var g=this.svgFactory.create(E.width,E.height),P=this.svgFactory.createElement("svg:defs");g.appendChild(P),this.defs=P;var M=this.svgFactory.createElement("svg:g");return M.setAttributeNS(null,"transform",S(E.transform)),g.appendChild(M),this.svg=M,g}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var E=this.svgFactory.createElement("svg:g");E.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(E),this.current.clipGroup=E}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",S(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),$}()}},(u,n,t)=>{function e(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(M){return typeof M}:e=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},e(g)}Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNodeStream=void 0;var a=f(t(2)),i=t(4),c=t(154);function f(g){return g&&g.__esModule?g:{default:g}}function m(g,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(P&&P.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),P&&R(g,P)}function R(g,P){return R=Object.setPrototypeOf||function(K,ne){return K.__proto__=ne,K},R(g,P)}function B(g){var P=F();return function(){var K=w(g),ne;if(P){var Y=w(this).constructor;ne=Reflect.construct(K,arguments,Y)}else ne=K.apply(this,arguments);return N(this,ne)}}function N(g,P){if(P&&(e(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G(g)}function G(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(g){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},w(g)}function I(g,P,M,K,ne,Y,Se){try{var ke=g[Y](Se),Ee=ke.value}catch(V){M(V);return}ke.done?P(Ee):Promise.resolve(Ee).then(K,ne)}function C(g){return function(){var P=this,M=arguments;return new Promise(function(K,ne){var Y=g.apply(P,M);function Se(Ee){I(Y,K,ne,Se,ke,"next",Ee)}function ke(Ee){I(Y,K,ne,Se,ke,"throw",Ee)}Se(void 0)})}}function W(g,P){var M=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!M){if(Array.isArray(g)||(M=k(g))||P){M&&(g=M);var K=0,ne=function(){};return{s:ne,n:function(){return K>=g.length?{done:!0}:{done:!1,value:g[K++]}},e:function(V){throw V},f:ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y=!0,Se=!1,ke;return{s:function(){M=M.call(g)},n:function(){var V=M.next();return Y=V.done,V},e:function(V){Se=!0,ke=V},f:function(){try{!Y&&M.return!=null&&M.return()}finally{if(Se)throw ke}}}}function k(g,P){if(g){if(typeof g=="string")return U(g,P);var M=Object.prototype.toString.call(g).slice(8,-1);if(M==="Object"&&g.constructor&&(M=g.constructor.name),M==="Map"||M==="Set")return Array.from(g);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return U(g,P)}}function U(g,P){(P==null||P>g.length)&&(P=g.length);for(var M=0,K=new Array(P);M<P;M++)K[M]=g[M];return K}function y(g,P){if(!(g instanceof P))throw new TypeError("Cannot call a class as a function")}function h(g,P){for(var M=0;M<P.length;M++){var K=P[M];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(g,K.key,K)}}function d(g,P,M){return P&&h(g.prototype,P),g}var S=require$$5,b=require$$5,v=require$$5,A=require$$5,x=/^file:\/\/\/[a-zA-Z]:\//;function H(g){var P=A.parse(g);return P.protocol==="file:"||P.host?P:/^[a-z]:[/\\]/i.test(g)?A.parse("file:///".concat(g)):(P.host||(P.protocol="file:"),P)}var L=function(){function g(P){y(this,g),this.source=P,this.url=H(P.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&P.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return d(g,[{key:"_progressiveDataLength",get:function(){var M,K;return(M=(K=this._fullRequestReader)===null||K===void 0?void 0:K._loaded)!==null&&M!==void 0?M:0}},{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new q(this):new oe(this),this._fullRequestReader}},{key:"getRangeReader",value:function(M,K){if(K<=this._progressiveDataLength)return null;var ne=this.isFsUrl?new E(this,M,K):new $(this,M,K);return this._rangeRequestReaders.push(ne),ne}},{key:"cancelAllRequests",value:function(M){this._fullRequestReader&&this._fullRequestReader.cancel(M);var K=W(this._rangeRequestReaders.slice(0)),ne;try{for(K.s();!(ne=K.n()).done;){var Y=ne.value;Y.cancel(M)}}catch(Se){K.e(Se)}finally{K.f()}}}]),g}();n.PDFNodeStream=L;var X=function(){function g(P){y(this,g),this._url=P.url,this._done=!1,this._storedError=null,this.onProgress=null;var M=P.source;this._contentLength=M.length,this._loaded=0,this._filename=null,this._disableRange=M.disableRange||!1,this._rangeChunkSize=M.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!M.disableStream,this._isRangeSupported=!M.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}return d(g,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var P=C(a.default.mark(function K(){var ne,Y;return a.default.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.next=2,this._readCapability.promise;case 2:if(!this._done){ke.next=4;break}return ke.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){ke.next=6;break}throw this._storedError;case 6:if(ne=this._readableStream.read(),ne!==null){ke.next=10;break}return this._readCapability=(0,i.createPromiseCapability)(),ke.abrupt("return",this.read());case 10:return this._loaded+=ne.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),Y=new Uint8Array(ne).buffer,ke.abrupt("return",{value:Y,done:!1});case 14:case"end":return ke.stop()}},K,this)}));function M(){return P.apply(this,arguments)}return M}()},{key:"cancel",value:function(M){if(!this._readableStream){this._error(M);return}this._readableStream.destroy(M)}},{key:"_error",value:function(M){this._storedError=M,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(M){var K=this;this._readableStream=M,M.on("readable",function(){K._readCapability.resolve()}),M.on("end",function(){M.destroy(),K._done=!0,K._readCapability.resolve()}),M.on("error",function(ne){K._error(ne)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),g}(),te=function(){function g(P){y(this,g),this._url=P.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)();var M=P.source;this._isStreamingSupported=!M.disableStream}return d(g,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var P=C(a.default.mark(function K(){var ne,Y;return a.default.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.next=2,this._readCapability.promise;case 2:if(!this._done){ke.next=4;break}return ke.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){ke.next=6;break}throw this._storedError;case 6:if(ne=this._readableStream.read(),ne!==null){ke.next=10;break}return this._readCapability=(0,i.createPromiseCapability)(),ke.abrupt("return",this.read());case 10:return this._loaded+=ne.length,this.onProgress&&this.onProgress({loaded:this._loaded}),Y=new Uint8Array(ne).buffer,ke.abrupt("return",{value:Y,done:!1});case 14:case"end":return ke.stop()}},K,this)}));function M(){return P.apply(this,arguments)}return M}()},{key:"cancel",value:function(M){if(!this._readableStream){this._error(M);return}this._readableStream.destroy(M)}},{key:"_error",value:function(M){this._storedError=M,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(M){var K=this;this._readableStream=M,M.on("readable",function(){K._readCapability.resolve()}),M.on("end",function(){M.destroy(),K._done=!0,K._readCapability.resolve()}),M.on("error",function(ne){K._error(ne)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),g}();function ee(g,P){return{protocol:g.protocol,auth:g.auth,host:g.hostname,port:g.port,path:g.path,method:"GET",headers:P}}var oe=function(g){m(M,g);var P=B(M);function M(K){var ne;y(this,M),ne=P.call(this,K);var Y=function(ke){if(ke.statusCode===404){var Ee=new i.MissingPDFException('Missing PDF "'.concat(ne._url,'".'));ne._storedError=Ee,ne._headersCapability.reject(Ee);return}ne._headersCapability.resolve(),ne._setReadableStream(ke);var V=function(D){return ne._readableStream.headers[D.toLowerCase()]},O=(0,c.validateRangeRequestCapabilities)({getResponseHeader:V,isHttp:K.isHttp,rangeChunkSize:ne._rangeChunkSize,disableRange:ne._disableRange}),p=O.allowRangeRequests,l=O.suggestedLength;ne._isRangeSupported=p,ne._contentLength=l||ne._contentLength,ne._filename=(0,c.extractFilenameFromHeader)(V)};return ne._request=null,ne._url.protocol==="http:"?ne._request=b.request(ee(ne._url,K.httpHeaders),Y):ne._request=v.request(ee(ne._url,K.httpHeaders),Y),ne._request.on("error",function(Se){ne._storedError=Se,ne._headersCapability.reject(Se)}),ne._request.end(),ne}return M}(X),$=function(g){m(M,g);var P=B(M);function M(K,ne,Y){var Se;y(this,M),Se=P.call(this,K),Se._httpHeaders={};for(var ke in K.httpHeaders){var Ee=K.httpHeaders[ke];typeof Ee>"u"||(Se._httpHeaders[ke]=Ee)}Se._httpHeaders.Range="bytes=".concat(ne,"-").concat(Y-1);var V=function(p){if(p.statusCode===404){var l=new i.MissingPDFException('Missing PDF "'.concat(Se._url,'".'));Se._storedError=l;return}Se._setReadableStream(p)};return Se._request=null,Se._url.protocol==="http:"?Se._request=b.request(ee(Se._url,Se._httpHeaders),V):Se._request=v.request(ee(Se._url,Se._httpHeaders),V),Se._request.on("error",function(O){Se._storedError=O}),Se._request.end(),Se}return M}(te),q=function(g){m(M,g);var P=B(M);function M(K){var ne;y(this,M),ne=P.call(this,K);var Y=decodeURIComponent(ne._url.path);return x.test(ne._url.href)&&(Y=Y.replace(/^\//,"")),S.lstat(Y,function(Se,ke){if(Se){Se.code==="ENOENT"&&(Se=new i.MissingPDFException('Missing PDF "'.concat(Y,'".'))),ne._storedError=Se,ne._headersCapability.reject(Se);return}ne._contentLength=ke.size,ne._setReadableStream(S.createReadStream(Y)),ne._headersCapability.resolve()}),ne}return M}(X),E=function(g){m(M,g);var P=B(M);function M(K,ne,Y){var Se;y(this,M),Se=P.call(this,K);var ke=decodeURIComponent(Se._url.path);return x.test(Se._url.href)&&(ke=ke.replace(/^\//,"")),Se._setReadableStream(S.createReadStream(ke,{start:ne,end:Y-1})),Se}return M}(te)},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createResponseStatusError=m,n.extractFilenameFromHeader=f,n.validateRangeRequestCapabilities=c,n.validateResponseStatus=R;var e=t(4),a=t(155),i=t(1);function c(B){var N=B.getResponseHeader,G=B.isHttp,F=B.rangeChunkSize,w=B.disableRange;(0,e.assert)(F>0,"Range chunk size must be larger than zero");var I={allowRangeRequests:!1,suggestedLength:void 0},C=parseInt(N("Content-Length"),10);if(!Number.isInteger(C)||(I.suggestedLength=C,C<=2*F)||w||!G||N("Accept-Ranges")!=="bytes")return I;var W=N("Content-Encoding")||"identity";return W!=="identity"||(I.allowRangeRequests=!0),I}function f(B){var N=B("Content-Disposition");if(N){var G=(0,a.getFilenameFromContentDispositionHeader)(N);if(G.includes("%"))try{G=decodeURIComponent(G)}catch{}if((0,i.isPdfFile)(G))return G}return null}function m(B,N){return B===404||B===0&&N.startsWith("file:")?new e.MissingPDFException('Missing PDF "'+N+'".'):new e.UnexpectedResponseException("Unexpected server response (".concat(B,') while retrieving PDF "').concat(N,'".'),B)}function R(B){return B===200||B===206}},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getFilenameFromContentDispositionHeader=B;var e=t(4);function a(N,G){return R(N)||m(N,G)||c(N,G)||i()}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(N,G){if(N){if(typeof N=="string")return f(N,G);var F=Object.prototype.toString.call(N).slice(8,-1);if(F==="Object"&&N.constructor&&(F=N.constructor.name),F==="Map"||F==="Set")return Array.from(N);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return f(N,G)}}function f(N,G){(G==null||G>N.length)&&(G=N.length);for(var F=0,w=new Array(G);F<G;F++)w[F]=N[F];return w}function m(N,G){var F=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(F!=null){var w=[],I=!0,C=!1,W,k;try{for(F=F.call(N);!(I=(W=F.next()).done)&&(w.push(W.value),!(G&&w.length===G));I=!0);}catch(U){C=!0,k=U}finally{try{!I&&F.return!=null&&F.return()}finally{if(C)throw k}}return w}}function R(N){if(Array.isArray(N))return N}function B(N){var G=!0,F=W("filename\\*","i").exec(N);if(F){F=F[1];var w=h(F);return w=unescape(w),w=d(w),w=S(w),U(w)}if(F=y(N),F){var I=S(F);return U(I)}if(F=W("filename","i").exec(N),F){F=F[1];var C=h(F);return C=S(C),U(C)}function W(b,v){return new RegExp("(?:^|;)\\s*"+b+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function k(b,v){if(b){if(!/^[\x00-\xFF]+$/.test(v))return v;try{var A=new TextDecoder(b,{fatal:!0}),x=(0,e.stringToBytes)(v);v=A.decode(x),G=!1}catch{if(/^utf-?8$/i.test(b))try{v=decodeURIComponent(escape(v)),G=!1}catch{}}}return v}function U(b){return G&&/[\x80-\xff]/.test(b)&&(b=k("utf-8",b),G&&(b=k("iso-8859-1",b))),b}function y(b){for(var v=[],A,x=W("filename\\*((?!0\\d)\\d+)(\\*?)","ig");(A=x.exec(b))!==null;){var H=A,L=a(H,4),X=L[1],te=L[2],ee=L[3];if(X=parseInt(X,10),X in v){if(X===0)break;continue}v[X]=[te,ee]}for(var oe=[],$=0;$<v.length&&$ in v;++$){var q=a(v[$],2),E=q[0],g=q[1];g=h(g),E&&(g=unescape(g),$===0&&(g=d(g))),oe.push(g)}return oe.join("")}function h(b){if(b.startsWith('"')){for(var v=b.slice(1).split('\\"'),A=0;A<v.length;++A){var x=v[A].indexOf('"');x!==-1&&(v[A]=v[A].slice(0,x),v.length=A+1),v[A]=v[A].replace(/\\(.)/g,"$1")}b=v.join('"')}return b}function d(b){var v=b.indexOf("'");if(v===-1)return b;var A=b.slice(0,v),x=b.slice(v+1),H=x.replace(/^[^']*'/,"");return k(A,H)}function S(b){return!b.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(b)?b:b.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,A,x,H){if(x==="q"||x==="Q")return H=H.replace(/_/g," "),H=H.replace(/=([0-9a-fA-F]{2})/g,function(L,X){return String.fromCharCode(parseInt(X,16))}),k(A,H);try{H=atob(H)}catch{}return k(A,H)})}return""}},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNetworkStream=void 0;var e=c(t(2)),a=t(4),i=t(154);function c(d){return d&&d.__esModule?d:{default:d}}function f(d,S,b,v,A,x,H){try{var L=d[x](H),X=L.value}catch(te){b(te);return}L.done?S(X):Promise.resolve(X).then(v,A)}function m(d){return function(){var S=this,b=arguments;return new Promise(function(v,A){var x=d.apply(S,b);function H(X){f(x,v,A,H,L,"next",X)}function L(X){f(x,v,A,H,L,"throw",X)}H(void 0)})}}function R(d,S){var b=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!b){if(Array.isArray(d)||(b=B(d))||S){b&&(d=b);var v=0,A=function(){};return{s:A,n:function(){return v>=d.length?{done:!0}:{done:!1,value:d[v++]}},e:function(te){throw te},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,H=!1,L;return{s:function(){b=b.call(d)},n:function(){var te=b.next();return x=te.done,te},e:function(te){H=!0,L=te},f:function(){try{!x&&b.return!=null&&b.return()}finally{if(H)throw L}}}}function B(d,S){if(d){if(typeof d=="string")return N(d,S);var b=Object.prototype.toString.call(d).slice(8,-1);if(b==="Object"&&d.constructor&&(b=d.constructor.name),b==="Map"||b==="Set")return Array.from(d);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return N(d,S)}}function N(d,S){(S==null||S>d.length)&&(S=d.length);for(var b=0,v=new Array(S);b<S;b++)v[b]=d[b];return v}function G(d,S){if(!(d instanceof S))throw new TypeError("Cannot call a class as a function")}function F(d,S){for(var b=0;b<S.length;b++){var v=S[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}function w(d,S,b){return S&&F(d.prototype,S),d}var I=200,C=206;function W(d){var S=d.response;if(typeof S!="string")return S;var b=(0,a.stringToBytes)(S);return b.buffer}var k=function(){function d(S){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};G(this,d),this.url=S,this.isHttp=/^https?:/i.test(S),this.httpHeaders=this.isHttp&&b.httpHeaders||Object.create(null),this.withCredentials=b.withCredentials||!1,this.getXhr=b.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return w(d,[{key:"requestRange",value:function(b,v,A){var x={begin:b,end:v};for(var H in A)x[H]=A[H];return this.request(x)}},{key:"requestFull",value:function(b){return this.request(b)}},{key:"request",value:function(b){var v=this.getXhr(),A=this.currXhrId++,x=this.pendingRequests[A]={xhr:v};v.open("GET",this.url),v.withCredentials=this.withCredentials;for(var H in this.httpHeaders){var L=this.httpHeaders[H];typeof L>"u"||v.setRequestHeader(H,L)}return this.isHttp&&"begin"in b&&"end"in b?(v.setRequestHeader("Range","bytes=".concat(b.begin,"-").concat(b.end-1)),x.expectedStatus=C):x.expectedStatus=I,v.responseType="arraybuffer",b.onError&&(v.onerror=function(X){b.onError(v.status)}),v.onreadystatechange=this.onStateChange.bind(this,A),v.onprogress=this.onProgress.bind(this,A),x.onHeadersReceived=b.onHeadersReceived,x.onDone=b.onDone,x.onError=b.onError,x.onProgress=b.onProgress,v.send(null),A}},{key:"onProgress",value:function(b,v){var A,x=this.pendingRequests[b];x&&((A=x.onProgress)===null||A===void 0||A.call(x,v))}},{key:"onStateChange",value:function(b,v){var A=this.pendingRequests[b];if(A){var x=A.xhr;if(x.readyState>=2&&A.onHeadersReceived&&(A.onHeadersReceived(),delete A.onHeadersReceived),x.readyState===4&&b in this.pendingRequests){if(delete this.pendingRequests[b],x.status===0&&this.isHttp){var H;(H=A.onError)===null||H===void 0||H.call(A,x.status);return}var L=x.status||I,X=L===I&&A.expectedStatus===C;if(!X&&L!==A.expectedStatus){var te;(te=A.onError)===null||te===void 0||te.call(A,x.status);return}var ee=W(x);if(L===C){var oe=x.getResponseHeader("Content-Range"),$=/bytes (\d+)-(\d+)\/(\d+)/.exec(oe);A.onDone({begin:parseInt($[1],10),chunk:ee})}else if(ee)A.onDone({begin:0,chunk:ee});else{var q;(q=A.onError)===null||q===void 0||q.call(A,x.status)}}}}},{key:"getRequestXhr",value:function(b){return this.pendingRequests[b].xhr}},{key:"isPendingRequest",value:function(b){return b in this.pendingRequests}},{key:"abortRequest",value:function(b){var v=this.pendingRequests[b].xhr;delete this.pendingRequests[b],v.abort()}}]),d}(),U=function(){function d(S){G(this,d),this._source=S,this._manager=new k(S.url,{httpHeaders:S.httpHeaders,withCredentials:S.withCredentials}),this._rangeChunkSize=S.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return w(d,[{key:"_onRangeRequestReaderClosed",value:function(b){var v=this._rangeRequestReaders.indexOf(b);v>=0&&this._rangeRequestReaders.splice(v,1)}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new y(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(b,v){var A=new h(this._manager,b,v);return A.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(A),A}},{key:"cancelAllRequests",value:function(b){var v;(v=this._fullRequestReader)===null||v===void 0||v.cancel(b);var A=R(this._rangeRequestReaders.slice(0)),x;try{for(A.s();!(x=A.n()).done;){var H=x.value;H.cancel(b)}}catch(L){A.e(L)}finally{A.f()}}}]),d}();n.PDFNetworkStream=U;var y=function(){function d(S,b){G(this,d),this._manager=S;var v={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._fullRequestId=S.requestFull(v),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._contentLength=b.length,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return w(d,[{key:"_onHeadersReceived",value:function(){var b=this._fullRequestId,v=this._manager.getRequestXhr(b),A=function(te){return v.getResponseHeader(te)},x=(0,i.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),H=x.allowRangeRequests,L=x.suggestedLength;H&&(this._isRangeSupported=!0),this._contentLength=L||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(A),this._isRangeSupported&&this._manager.abortRequest(b),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(b){if(b)if(this._requests.length>0){var v=this._requests.shift();v.resolve({value:b.chunk,done:!1})}else this._cachedChunks.push(b.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){var A=R(this._requests),x;try{for(A.s();!(x=A.n()).done;){var H=x.value;H.resolve({value:void 0,done:!0})}}catch(L){A.e(L)}finally{A.f()}this._requests.length=0}}},{key:"_onError",value:function(b){this._storedError=(0,i.createResponseStatusError)(b,this._url),this._headersReceivedCapability.reject(this._storedError);var v=R(this._requests),A;try{for(v.s();!(A=v.n()).done;){var x=A.value;x.reject(this._storedError)}}catch(H){v.e(H)}finally{v.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(b){var v;(v=this.onProgress)===null||v===void 0||v.call(this,{loaded:b.loaded,total:b.lengthComputable?b.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:function(){var S=m(e.default.mark(function v(){var A,x;return e.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!this._storedError){L.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){L.next=5;break}return A=this._cachedChunks.shift(),L.abrupt("return",{value:A,done:!1});case 5:if(!this._done){L.next=7;break}return L.abrupt("return",{value:void 0,done:!0});case 7:return x=(0,a.createPromiseCapability)(),this._requests.push(x),L.abrupt("return",x.promise);case 10:case"end":return L.stop()}},v,this)}));function b(){return S.apply(this,arguments)}return b}()},{key:"cancel",value:function(b){this._done=!0,this._headersReceivedCapability.reject(b);var v=R(this._requests),A;try{for(v.s();!(A=v.n()).done;){var x=A.value;x.resolve({value:void 0,done:!0})}}catch(H){v.e(H)}finally{v.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),d}(),h=function(){function d(S,b,v){G(this,d),this._manager=S;var A={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=S.url,this._requestId=S.requestRange(b,v,A),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return w(d,[{key:"_close",value:function(){var b;(b=this.onClosed)===null||b===void 0||b.call(this,this)}},{key:"_onDone",value:function(b){var v=b.chunk;if(this._requests.length>0){var A=this._requests.shift();A.resolve({value:v,done:!1})}else this._queuedChunk=v;this._done=!0;var x=R(this._requests),H;try{for(x.s();!(H=x.n()).done;){var L=H.value;L.resolve({value:void 0,done:!0})}}catch(X){x.e(X)}finally{x.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(b){this._storedError=(0,i.createResponseStatusError)(b,this._url);var v=R(this._requests),A;try{for(v.s();!(A=v.n()).done;){var x=A.value;x.reject(this._storedError)}}catch(H){v.e(H)}finally{v.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(b){if(!this.isStreamingSupported){var v;(v=this.onProgress)===null||v===void 0||v.call(this,{loaded:b.loaded})}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var S=m(e.default.mark(function v(){var A,x;return e.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!this._storedError){L.next=2;break}throw this._storedError;case 2:if(this._queuedChunk===null){L.next=6;break}return A=this._queuedChunk,this._queuedChunk=null,L.abrupt("return",{value:A,done:!1});case 6:if(!this._done){L.next=8;break}return L.abrupt("return",{value:void 0,done:!0});case 8:return x=(0,a.createPromiseCapability)(),this._requests.push(x),L.abrupt("return",x.promise);case 11:case"end":return L.stop()}},v,this)}));function b(){return S.apply(this,arguments)}return b}()},{key:"cancel",value:function(b){this._done=!0;var v=R(this._requests),A;try{for(v.s();!(A=v.n()).done;){var x=A.value;x.resolve({value:void 0,done:!0})}}catch(H){v.e(H)}finally{v.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),d}()},(u,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFFetchStream=void 0;var e=c(t(2)),a=t(4),i=t(154);function c(y){return y&&y.__esModule?y:{default:y}}function f(y,h,d,S,b,v,A){try{var x=y[v](A),H=x.value}catch(L){d(L);return}x.done?h(H):Promise.resolve(H).then(S,b)}function m(y){return function(){var h=this,d=arguments;return new Promise(function(S,b){var v=y.apply(h,d);function A(H){f(v,S,b,A,x,"next",H)}function x(H){f(v,S,b,A,x,"throw",H)}A(void 0)})}}function R(y,h){var d=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!d){if(Array.isArray(y)||(d=B(y))||h){d&&(y=d);var S=0,b=function(){};return{s:b,n:function(){return S>=y.length?{done:!0}:{done:!1,value:y[S++]}},e:function(L){throw L},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=!0,A=!1,x;return{s:function(){d=d.call(y)},n:function(){var L=d.next();return v=L.done,L},e:function(L){A=!0,x=L},f:function(){try{!v&&d.return!=null&&d.return()}finally{if(A)throw x}}}}function B(y,h){if(y){if(typeof y=="string")return N(y,h);var d=Object.prototype.toString.call(y).slice(8,-1);if(d==="Object"&&y.constructor&&(d=y.constructor.name),d==="Map"||d==="Set")return Array.from(y);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return N(y,h)}}function N(y,h){(h==null||h>y.length)&&(h=y.length);for(var d=0,S=new Array(h);d<h;d++)S[d]=y[d];return S}function G(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function F(y,h){for(var d=0;d<h.length;d++){var S=h[d];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}function w(y,h,d){return h&&F(y.prototype,h),y}function I(y,h,d){return{method:"GET",headers:y,signal:d==null?void 0:d.signal,mode:"cors",credentials:h?"include":"same-origin",redirect:"follow"}}function C(y){var h=new Headers;for(var d in y){var S=y[d];typeof S>"u"||h.append(d,S)}return h}var W=function(){function y(h){G(this,y),this.source=h,this.isHttp=/^https?:/i.test(h.url),this.httpHeaders=this.isHttp&&h.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return w(y,[{key:"_progressiveDataLength",get:function(){var d,S;return(d=(S=this._fullRequestReader)===null||S===void 0?void 0:S._loaded)!==null&&d!==void 0?d:0}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new k(this),this._fullRequestReader}},{key:"getRangeReader",value:function(d,S){if(S<=this._progressiveDataLength)return null;var b=new U(this,d,S);return this._rangeRequestReaders.push(b),b}},{key:"cancelAllRequests",value:function(d){this._fullRequestReader&&this._fullRequestReader.cancel(d);var S=R(this._rangeRequestReaders.slice(0)),b;try{for(S.s();!(b=S.n()).done;){var v=b.value;v.cancel(d)}}catch(A){S.e(A)}finally{S.f()}}}]),y}();n.PDFFetchStream=W;var k=function(){function y(h){var d=this;G(this,y),this._stream=h,this._reader=null,this._loaded=0,this._filename=null;var S=h.source;this._withCredentials=S.withCredentials||!1,this._contentLength=S.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=S.disableRange||!1,this._rangeChunkSize=S.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!S.disableStream,this._isRangeSupported=!S.disableRange,this._headers=C(this._stream.httpHeaders);var b=S.url;fetch(b,I(this._headers,this._withCredentials,this._abortController)).then(function(v){if(!(0,i.validateResponseStatus)(v.status))throw(0,i.createResponseStatusError)(v.status,b);d._reader=v.body.getReader(),d._headersCapability.resolve();var A=function(te){return v.headers.get(te)},x=(0,i.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:d._stream.isHttp,rangeChunkSize:d._rangeChunkSize,disableRange:d._disableRange}),H=x.allowRangeRequests,L=x.suggestedLength;d._isRangeSupported=H,d._contentLength=L||d._contentLength,d._filename=(0,i.extractFilenameFromHeader)(A),!d._isStreamingSupported&&d._isRangeSupported&&d.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return w(y,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var h=m(e.default.mark(function S(){var b,v,A,x;return e.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,this._headersCapability.promise;case 2:return L.next=4,this._reader.read();case 4:if(b=L.sent,v=b.value,A=b.done,!A){L.next=9;break}return L.abrupt("return",{value:v,done:A});case 9:return this._loaded+=v.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),x=new Uint8Array(v).buffer,L.abrupt("return",{value:x,done:!1});case 13:case"end":return L.stop()}},S,this)}));function d(){return h.apply(this,arguments)}return d}()},{key:"cancel",value:function(d){this._reader&&this._reader.cancel(d),this._abortController&&this._abortController.abort()}}]),y}(),U=function(){function y(h,d,S){var b=this;G(this,y),this._stream=h,this._reader=null,this._loaded=0;var v=h.source;this._withCredentials=v.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!v.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=C(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(d,"-").concat(S-1));var A=v.url;fetch(A,I(this._headers,this._withCredentials,this._abortController)).then(function(x){if(!(0,i.validateResponseStatus)(x.status))throw(0,i.createResponseStatusError)(x.status,A);b._readCapability.resolve(),b._reader=x.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}return w(y,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var h=m(e.default.mark(function S(){var b,v,A,x;return e.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,this._readCapability.promise;case 2:return L.next=4,this._reader.read();case 4:if(b=L.sent,v=b.value,A=b.done,!A){L.next=9;break}return L.abrupt("return",{value:v,done:A});case 9:return this._loaded+=v.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),x=new Uint8Array(v).buffer,L.abrupt("return",{value:x,done:!1});case 13:case"end":return L.stop()}},S,this)}));function d(){return h.apply(this,arguments)}return d}()},{key:"cancel",value:function(d){this._reader&&this._reader.cancel(d),this._abortController&&this._abortController.abort()}}]),y}()}],__webpack_module_cache__={};function __w_pdfjs_require__(u){var n=__webpack_module_cache__[u];if(n!==void 0)return n.exports;var t=__webpack_module_cache__[u]={id:u,loaded:!1,exports:{}};return __webpack_modules__[u].call(t.exports,t,t.exports,__w_pdfjs_require__),t.loaded=!0,t.exports}__w_pdfjs_require__.nmd=u=>(u.paths=[],u.children||(u.children=[]),u);var __webpack_exports__={};return(()=>{var u=__webpack_exports__;Object.defineProperty(u,"__esModule",{value:!0}),Object.defineProperty(u,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(u,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(u,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(u,"GlobalWorkerOptions",{enumerable:!0,get:function(){return i.GlobalWorkerOptions}}),Object.defineProperty(u,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(u,"LinkTarget",{enumerable:!0,get:function(){return n.LinkTarget}}),Object.defineProperty(u,"LoopbackPort",{enumerable:!0,get:function(){return e.LoopbackPort}}),Object.defineProperty(u,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(u,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(u,"PDFDataRangeTransport",{enumerable:!0,get:function(){return e.PDFDataRangeTransport}}),Object.defineProperty(u,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(u,"PDFWorker",{enumerable:!0,get:function(){return e.PDFWorker}}),Object.defineProperty(u,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(u,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(u,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(u,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(u,"SVGGraphics",{enumerable:!0,get:function(){return m.SVGGraphics}}),Object.defineProperty(u,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(u,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(u,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(u,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(u,"XfaLayer",{enumerable:!0,get:function(){return R.XfaLayer}}),Object.defineProperty(u,"addLinkAttributes",{enumerable:!0,get:function(){return n.addLinkAttributes}}),Object.defineProperty(u,"build",{enumerable:!0,get:function(){return e.build}}),Object.defineProperty(u,"createObjectURL",{enumerable:!0,get:function(){return t.createObjectURL}}),Object.defineProperty(u,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(u,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(u,"getDocument",{enumerable:!0,get:function(){return e.getDocument}}),Object.defineProperty(u,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(u,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(u,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(u,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(u,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(u,"removeNullCharacters",{enumerable:!0,get:function(){return t.removeNullCharacters}}),Object.defineProperty(u,"renderTextLayer",{enumerable:!0,get:function(){return f.renderTextLayer}}),Object.defineProperty(u,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(u,"version",{enumerable:!0,get:function(){return e.version}});var n=__w_pdfjs_require__(1),t=__w_pdfjs_require__(4),e=__w_pdfjs_require__(136),a=__w_pdfjs_require__(148),i=__w_pdfjs_require__(142),c=__w_pdfjs_require__(6),f=__w_pdfjs_require__(151),m=__w_pdfjs_require__(152),R=__w_pdfjs_require__(150);if(c.isNodeJS){var B=__w_pdfjs_require__(153),N=B.PDFNodeStream;(0,e.setPDFNetworkStreamFactory)(function(C){return new N(C)})}else{var G=__w_pdfjs_require__(156),F=G.PDFNetworkStream,w=__w_pdfjs_require__(157),I=w.PDFFetchStream;(0,e.setPDFNetworkStreamFactory)(function(C){return(0,n.isValidFetchUrl)(C.url)?new I(C):new F(C)})}})(),__webpack_exports__})()})})(pdf);var pdfExports=pdf.exports;function _objectWithoutProperties(u,n){if(u==null)return{};var t,e,a=_objectWithoutPropertiesLoose(u,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(u);for(e=0;e<i.length;e++)t=i[e],n.includes(t)||{}.propertyIsEnumerable.call(u,t)&&(a[t]=u[t])}return a}function _classCallCheck(u,n){if(!(u instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(u,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,toPropertyKey(e.key),e)}}function _createClass(u,n,t){return n&&_defineProperties(u.prototype,n),Object.defineProperty(u,"prototype",{writable:!1}),u}function _inherits(u,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(n&&n.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),n&&_setPrototypeOf(u,n)}function _possibleConstructorReturn(u,n){if(n&&(_typeof(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(u)}function _getPrototypeOf(u){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf(u)}var __spreadArray=function(u,n,t){if(t||arguments.length===2)for(var e=0,a=n.length,i;e<a;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return u.concat(i||Array.prototype.slice.call(n))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(u,n){var t={};return allEvents.forEach(function(e){var a=u[e];a&&(n?t[e]=function(i){return a(i,n(e))}:t[e]=a)}),t}function makeCancellablePromise(u){var n=!1,t=new Promise(function(e,a){u.then(function(i){return!n&&e(i)}).catch(function(i){return!n&&a(i)})});return{promise:t,cancel:function(){n=!0}}}function mergeClassNames(){return Array.prototype.slice.call(arguments).reduce(function(u,n){return u.concat(n)},[]).filter(function(u){return typeof u=="string"}).join(" ")}var prefix="Invariant failed";function invariant(u,n){if(!u)throw new Error(prefix)}const DocumentContext=reactExports.createContext(null);function Message(u){var n=u.children,t=u.type;return React.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(t)},n)}Message.propTypes={children:PropTypes.node,type:PropTypes.oneOf(["error","loading","no-data"]).isRequired};var DEFAULT_LINK_REL="noopener noreferrer nofollow",LinkService=function(){function u(){_classCallCheck(this,u),this.externalLinkTarget=null,this.externalLinkRel=null}return _createClass(u,[{key:"setDocument",value:function(t){this.pdfDocument=t}},{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setExternalLinkRel",value:function(t){this.externalLinkRel=t}},{key:"setExternalLinkTarget",value:function(t){this.externalLinkTarget=t}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function(){return 0},set:function(t){}},{key:"goToDestination",value:function(t){var e=this;new Promise(function(a){typeof t=="string"?e.pdfDocument.getDestination(t).then(a):Array.isArray(t)?a(t):t.then(a)}).then(function(a){invariant(Array.isArray(a));var i=a[0];new Promise(function(c){i instanceof Object?e.pdfDocument.getPageIndex(i).then(function(f){c(f)}).catch(function(){invariant(!1)}):typeof i=="number"?c(i):invariant(!1)}).then(function(c){var f=c+1;invariant(f>=1&&f<=e.pagesCount),e.pdfViewer.scrollPageIntoView({dest:t,pageIndex:c,pageNumber:f})})})}},{key:"navigateTo",value:function(t){this.goToDestination(t)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(t,e,a){t.href=e,t.rel=this.externalLinkRel||DEFAULT_LINK_REL,t.target=a?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),u}(),PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function _arrayWithHoles(u){if(Array.isArray(u))return u}function _iterableToArrayLimit(u,n){var t=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(t!=null){var e,a,i,c,f=[],m=!0,R=!1;try{if(i=(t=t.call(u)).next,n===0){if(Object(t)!==t)return;m=!1}else for(;!(m=(e=i.call(t)).done)&&(f.push(e.value),f.length!==n);m=!0);}catch(B){R=!0,a=B}finally{try{if(!m&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(R)throw a}}return f}}function _arrayLikeToArray(u,n){(n==null||n>u.length)&&(n=u.length);for(var t=0,e=Array(n);t<n;t++)e[t]=u[t];return e}function _unsupportedIterableToArray(u,n){if(u){if(typeof u=="string")return _arrayLikeToArray(u,n);var t={}.toString.call(u).slice(8,-1);return t==="Object"&&u.constructor&&(t=u.constructor.name),t==="Map"||t==="Set"?Array.from(u):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(u,n):void 0}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(u,n){return _arrayWithHoles(u)||_iterableToArrayLimit(u,n)||_unsupportedIterableToArray(u,n)||_nonIterableRest()}var isBrowser=typeof window<"u";function isDefined(u){return typeof u<"u"}function isProvided(u){return isDefined(u)&&u!==null}function isString(u){return typeof u=="string"}function isArrayBuffer(u){return u instanceof ArrayBuffer}function isBlob(u){return invariant(isBrowser),u instanceof Blob}function isFile$1(u){return invariant(isBrowser),u instanceof File}function isDataURI(u){return isString(u)&&/^data:/.test(u)}function dataURItoByteString(u){invariant(isDataURI(u));var n=u.split(","),t=_slicedToArray(n,2),e=t[0],a=t[1],i=e.split(";");return i.indexOf("base64")!==-1?atob(a):unescape(a)}function getPixelRatio(){return isBrowser&&window.devicePixelRatio||1}function cancelRunningTask(u){u&&u.cancel&&u.cancel()}function makePageCallback(u,n){return Object.defineProperty(u,"width",{get:function(){return this.view[2]*n},configurable:!0}),Object.defineProperty(u,"height",{get:function(){return this.view[3]*n},configurable:!0}),Object.defineProperty(u,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(u,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),u}function isCancelException(u){return u.name==="RenderingCancelledException"}function loadFromFile(u){return new Promise(function(n,t){var e=new FileReader;return e.onload=function(){return n(new Uint8Array(e.result))},e.onerror=function(a){switch(a.target.error.code){case a.target.error.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case a.target.error.NOT_READABLE_ERR:return t(new Error("Error while reading a file: File not readable."));case a.target.error.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case a.target.error.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},e.readAsArrayBuffer(u),null})}function _arrayWithoutHoles(u){if(Array.isArray(u))return _arrayLikeToArray(u)}function _iterableToArray(u){if(typeof Symbol<"u"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(u){return _arrayWithoutHoles(u)||_iterableToArray(u)||_unsupportedIterableToArray(u)||_nonIterableSpread()}var eventProps=function(){var u={};return[].concat(_toConsumableArray(mouseEvents),_toConsumableArray(touchEvents),_toConsumableArray(keyboardEvents)).forEach(function(n){u[n]=PropTypes.func}),u}(),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),httpHeaders:PropTypes.object,range:PropTypes.object,url:PropTypes.string,withCredentials:PropTypes.bool})];typeof File<"u"&&fileTypes.push(PropTypes.instanceOf(File));typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));var isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes),isLinkService=PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);var isPage=PropTypes.shape({_transport:PropTypes.shape({fontLoader:PropTypes.object.isRequired}).isRequired,commonObjs:PropTypes.shape({_objs:PropTypes.object.isRequired}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired}),isPageIndex=function u(n,t,e){var a=n[t],i=n.pageNumber,c=n.pdf;if(!isDefined(c))return null;if(isDefined(a)){if(typeof a!="number")return new Error("`".concat(t,"` of type `").concat(_typeof(a),"` supplied to `").concat(e,"`, expected `number`."));if(a<0)return new Error("Expected `".concat(t,"` to be greater or equal to 0."));var f=c.numPages;if(a+1>f)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(f-1,"."))}else if(!isDefined(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(e,"`."));return null},isPageNumber=function u(n,t,e){var a=n[t],i=n.pageIndex,c=n.pdf;if(!isDefined(c))return null;if(isDefined(a)){if(typeof a!="number")return new Error("`".concat(t,"` of type `").concat(_typeof(a),"` supplied to `").concat(e,"`, expected `number`."));if(a<1)return new Error("Expected `".concat(t,"` to be greater or equal to 1."));var f=c.numPages;if(a>f)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(f,"."))}else if(!isDefined(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(e,"`."));return null},isPdf=PropTypes.oneOfType([PropTypes.shape({getDestination:PropTypes.func.isRequired,getOutline:PropTypes.func.isRequired,getPage:PropTypes.func.isRequired,numPages:PropTypes.number.isRequired}),PropTypes.bool]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.shape({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]),_excluded=["url"];function ownKeys$2(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(u,a).enumerable})),t.push.apply(t,e)}return t}function _objectSpread$2(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ownKeys$2(Object(t),!0).forEach(function(e){_defineProperty(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):ownKeys$2(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}function _createSuper$6(u){var n=_isNativeReflectConstruct$6();return function(){var e=_getPrototypeOf(u),a;if(n){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,i)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PDFDataRangeTransport=pdfExports.PDFDataRangeTransport,Document=function(u){_inherits(t,u);var n=_createSuper$6(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i)),_defineProperty(_assertThisInitialized(e),"state",{pdf:null}),_defineProperty(_assertThisInitialized(e),"viewer",{scrollPageIntoView:function(m){var R=m.dest,B=m.pageIndex,N=m.pageNumber,G=e.props.onItemClick;if(G){G({dest:R,pageIndex:B,pageNumber:N});return}var F=e.pages[B];if(F){F.scrollIntoView();return}}}),_defineProperty(_assertThisInitialized(e),"linkService",new LinkService),_defineProperty(_assertThisInitialized(e),"loadDocument",function(){cancelRunningTask(e.runningTask),e.loadingTask&&e.loadingTask.destroy();var f=makeCancellablePromise(e.findDocumentSource());e.runningTask=f,f.promise.then(function(m){if(e.onSourceSuccess(),!!m){e.setState(function(w){return w.pdf?{pdf:null}:null});var R=e.props,B=R.options,N=R.onLoadProgress,G=R.onPassword;e.loadingTask=pdfExports.getDocument(_objectSpread$2(_objectSpread$2({},m),B)),e.loadingTask.onPassword=G,N&&(e.loadingTask.onProgress=N);var F=makeCancellablePromise(e.loadingTask.promise);e.runningTask=F,F.promise.then(function(w){e.setState(function(I){return I.pdf&&I.pdf.fingerprint===w.fingerprint?null:{pdf:w}},e.onLoadSuccess)}).catch(function(w){e.onLoadError(w)})}}).catch(function(m){e.onSourceError(m)})}),_defineProperty(_assertThisInitialized(e),"setupLinkService",function(){var f=e.props,m=f.externalLinkRel,R=f.externalLinkTarget;e.linkService.setViewer(e.viewer),e.linkService.setExternalLinkRel(m),e.linkService.setExternalLinkTarget(R)}),_defineProperty(_assertThisInitialized(e),"onSourceSuccess",function(){var f=e.props.onSourceSuccess;f&&f()}),_defineProperty(_assertThisInitialized(e),"onSourceError",function(f){var m=e.props.onSourceError;m&&m(f)}),_defineProperty(_assertThisInitialized(e),"onLoadSuccess",function(){var f=e.props.onLoadSuccess,m=e.state.pdf;f&&f(m),e.pages=new Array(m.numPages),e.linkService.setDocument(m)}),_defineProperty(_assertThisInitialized(e),"onLoadError",function(f){e.setState({pdf:!1});var m=e.props.onLoadError;m&&m(f)}),_defineProperty(_assertThisInitialized(e),"findDocumentSource",function(){return new Promise(function(f){var m=e.props.file;if(m||f(null),typeof m=="string"){if(isDataURI(m)){var R=dataURItoByteString(m);f({data:R})}f({url:m})}if(m instanceof PDFDataRangeTransport&&f({range:m}),isArrayBuffer(m)&&f({data:m}),isBrowser&&(isBlob(m)||isFile$1(m))){loadFromFile(m).then(function(F){f({data:F})});return}if(invariant(_typeof(m)==="object"),invariant(m.url||m.data||m.range),typeof m.url=="string"&&isDataURI(m.url)){var B=m.url,N=_objectWithoutProperties(m,_excluded),G=dataURItoByteString(B);f(_objectSpread$2({data:G},N))}f(m)})}),_defineProperty(_assertThisInitialized(e),"registerPage",function(f,m){e.pages[f]=m}),_defineProperty(_assertThisInitialized(e),"unregisterPage",function(f){delete e.pages[f]}),e}return _createClass(t,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(a){var i=this.props.file;i!==a.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var a=this.linkService,i=this.registerPage,c=this.unregisterPage,f=this.props,m=f.imageResourcesPath,R=f.renderMode,B=f.rotate,N=this.state.pdf;return{imageResourcesPath:m,linkService:a,pdf:N,registerPage:i,renderMode:R,rotate:B,unregisterPage:c}}},{key:"eventProps",get:function(){var a=this;return makeEventProps(this.props,function(){return a.state.pdf})}},{key:"renderChildren",value:function(){var a=this.props.children;return React.createElement(DocumentContext.Provider,{value:this.childContext},a)}},{key:"renderContent",value:function(){var a=this.props.file,i=this.state.pdf;if(!a){var c=this.props.noData;return React.createElement(Message,{type:"no-data"},typeof c=="function"?c():c)}if(i===null){var f=this.props.loading;return React.createElement(Message,{type:"loading"},typeof f=="function"?f():f)}if(i===!1){var m=this.props.error;return React.createElement(Message,{type:"error"},typeof m=="function"?m():m)}return this.renderChildren()}},{key:"render",value:function(){var a=this.props,i=a.className,c=a.inputRef;return React.createElement("div",_extends({className:mergeClassNames("react-pdf__Document",i),ref:c},this.eventProps),this.renderContent())}}]),t}(reactExports.PureComponent);Document.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF…",noData:"No PDF file specified.",onPassword:function u(n,t){switch(t){case PasswordResponses.NEED_PASSWORD:{var e=prompt("Enter the password to open this PDF file.");n(e);break}case PasswordResponses.INCORRECT_PASSWORD:{var a=prompt("Invalid password. Please try again.");n(a);break}}}};var isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=_objectSpread$2(_objectSpread$2({},eventProps),{},{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.string,file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,rotate:PropTypes.number});var isDestination=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.any)]);PropTypes.shape({dest:isDestination,items:PropTypes.arrayOf(PropTypes.shape({dest:isDestination,title:PropTypes.string})),title:PropTypes.string}).isRequired,PropTypes.func,isPdf.isRequired;function ownKeys$1(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(u,a).enumerable})),t.push.apply(t,e)}return t}function _objectSpread$1(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ownKeys$1(Object(t),!0).forEach(function(e){_defineProperty(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):ownKeys$1(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}_objectSpread$1({className:isClassName,inputRef:isRef,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,pdf:isPdf},eventProps);function mergeRefs(){for(var u=[],n=0;n<arguments.length;n++)u[n]=arguments[n];var t=u.filter(Boolean);if(t.length<=1){var e=t[0];return e||null}return function(i){t.forEach(function(c){typeof c=="function"?c(i):c&&(c.current=i)})}}const PageContext=reactExports.createContext(null);function _createSuper$5(u){var n=_isNativeReflectConstruct$5();return function(){var e=_getPrototypeOf(u),a;if(n){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,i)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ANNOTATION_MODE=pdfExports.AnnotationMode,PageCanvasInternal=function(u){_inherits(t,u);var n=_createSuper$5(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i)),_defineProperty(_assertThisInitialized(e),"canvasElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(e),"onRenderSuccess",function(){e.renderer=null;var f=e.props,m=f.onRenderSuccess,R=f.page,B=f.scale;m&&m(makePageCallback(R,B))}),_defineProperty(_assertThisInitialized(e),"onRenderError",function(f){if(!isCancelException(f)){var m=e.props.onRenderError;m&&m(f)}}),_defineProperty(_assertThisInitialized(e),"drawPageOnCanvas",function(){var f=e.canvasElement.current;if(!f)return null;var m=_assertThisInitialized(e),R=m.renderViewport,B=m.viewport,N=e.props,G=N.canvasBackground,F=N.page,w=N.renderForms;f.width=R.width,f.height=R.height,f.style.width="".concat(Math.floor(B.width),"px"),f.style.height="".concat(Math.floor(B.height),"px");var I={annotationMode:w?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,get canvasContext(){return f.getContext("2d")},viewport:R};return G&&(I.background=G),e.cancelRenderingTask(),e.renderer=F.render(I),e.renderer.promise.then(e.onRenderSuccess).catch(e.onRenderError)}),e}return _createClass(t,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(a){var i=this.props,c=i.canvasBackground,f=i.page,m=i.renderForms;(c!==a.canvasBackground||m!==a.renderForms)&&(f.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var a=this.canvasElement.current;a&&(a.width=0,a.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"renderViewport",get:function(){var a=this.props,i=a.page,c=a.rotate,f=a.scale,m=getPixelRatio();return i.getViewport({scale:f*m,rotation:c})}},{key:"viewport",get:function(){var a=this.props,i=a.page,c=a.rotate,f=a.scale;return i.getViewport({scale:f,rotation:c})}},{key:"render",value:function(){var a=this.props.canvasRef;return React.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:mergeRefs(a,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),t}(reactExports.PureComponent);PageCanvasInternal.propTypes={canvasBackground:PropTypes.string,canvasRef:isRef,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,page:isPage.isRequired,renderForms:PropTypes.bool,rotate:isRotate,scale:PropTypes.number.isRequired};function PageCanvas(u){return React.createElement(PageContext.Consumer,null,function(n){return React.createElement(PageCanvasInternal,_extends({},n,u))})}function _createSuper$4(u){var n=_isNativeReflectConstruct$4();return function(){var e=_getPrototypeOf(u),a;if(n){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,i)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PageSVGInternal=function(u){_inherits(t,u);var n=_createSuper$4(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i)),_defineProperty(_assertThisInitialized(e),"state",{svg:null}),_defineProperty(_assertThisInitialized(e),"onRenderSuccess",function(){e.renderer=null;var f=e.props,m=f.onRenderSuccess,R=f.page,B=f.scale;m&&m(makePageCallback(R,B))}),_defineProperty(_assertThisInitialized(e),"onRenderError",function(f){if(!isCancelException(f)){var m=e.props.onRenderError;m&&m(f)}}),_defineProperty(_assertThisInitialized(e),"renderSVG",function(){var f=e.props.page;return e.renderer=f.getOperatorList(),e.renderer.then(function(m){var R=new pdfExports.SVGGraphics(f.commonObjs,f.objs);e.renderer=R.getSVG(m,e.viewport).then(function(B){e.setState({svg:B},e.onRenderSuccess)}).catch(e.onRenderError)}).catch(e.onRenderError)}),_defineProperty(_assertThisInitialized(e),"drawPageOnContainer",function(f){var m=e.state.svg;if(!(!f||!m)){f.firstElementChild||f.appendChild(m);var R=e.viewport,B=R.width,N=R.height;m.setAttribute("width",B),m.setAttribute("height",N)}}),e}return _createClass(t,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var a=this.props,i=a.page,c=a.rotate,f=a.scale;return i.getViewport({scale:f,rotation:c})}},{key:"render",value:function(){var a=this,i=this.viewport,c=i.width,f=i.height;return React.createElement("div",{className:"react-pdf__Page__svg",ref:function(R){return a.drawPageOnContainer(R)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:c,height:f,userSelect:"none"}})}}]),t}(reactExports.PureComponent);PageSVGInternal.propTypes={onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,page:isPage.isRequired,rotate:isRotate,scale:PropTypes.number.isRequired};function PageSVG(u){return React.createElement(PageContext.Consumer,null,function(n){return React.createElement(PageSVGInternal,_extends({},n,u))})}function _createSuper$3(u){var n=_isNativeReflectConstruct$3();return function(){var e=_getPrototypeOf(u),a;if(n){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,i)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TextLayerItemInternal=function(u){_inherits(t,u);var n=_createSuper$3(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i)),_defineProperty(_assertThisInitialized(e),"itemElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(e),"getElementWidth",function(f){var m=_assertThisInitialized(e),R=m.sideways;return f.getBoundingClientRect()[R?"height":"width"]}),e}return _createClass(t,[{key:"componentDidMount",value:function(){this.alignTextItem()}},{key:"componentDidUpdate",value:function(){this.alignTextItem()}},{key:"unrotatedViewport",get:function(){var a=this.props,i=a.page,c=a.scale;return i.getViewport({scale:c})}},{key:"rotate",get:function(){var a=this.props,i=a.page,c=a.rotate;return c-i.rotate}},{key:"sideways",get:function(){var a=this.rotate;return a%180!==0}},{key:"defaultSideways",get:function(){var a=this.unrotatedViewport.rotation;return a%180!==0}},{key:"fontSize",get:function(){var a=this.props.transform,i=this.defaultSideways,c=_slicedToArray(a,2),f=c[0],m=c[1];return i?m:f}},{key:"top",get:function(){var a=this.props.transform,i=this.unrotatedViewport,c=this.defaultSideways,f=_slicedToArray(a,6),m=f[2],R=f[3],B=f[4],N=f[5],G=_slicedToArray(i.viewBox,4),F=G[1],w=G[3];return c?B+m+F:w-(N+R)}},{key:"left",get:function(){var a=this.props.transform,i=this.unrotatedViewport,c=this.defaultSideways,f=_slicedToArray(a,6),m=f[4],R=f[5],B=_slicedToArray(i.viewBox,1),N=B[0];return c?R-N:m-N}},{key:"getFontData",value:function(a){var i=this.props.page;return new Promise(function(c){i.commonObjs.get(a,c)})}},{key:"alignTextItem",value:function(){var a=this,i=this.itemElement.current;if(i){i.style.transform="";var c=this.props,f=c.fontName,m=c.scale,R=c.width;i.style.fontFamily="".concat(f,", sans-serif"),this.getFontData(f).then(function(B){var N=B?B.fallbackName:"sans-serif";i.style.fontFamily="".concat(f,", ").concat(N);var G=R*m,F=a.getElementWidth(i),w="scaleX(".concat(G/F,")"),I=B?B.ascent:0;I&&(w+=" translateY(".concat((1-I)*100,"%)")),i.style.transform=w,i.style.WebkitTransform=w})}}},{key:"render",value:function(){var a=this.fontSize,i=this.top,c=this.left,f=this.props,m=f.customTextRenderer,R=f.scale,B=f.str;return React.createElement("span",{ref:this.itemElement,style:{height:"1em",fontFamily:"sans-serif",fontSize:"".concat(a*R,"px"),position:"absolute",top:"".concat(i*R,"px"),left:"".concat(c*R,"px"),transformOrigin:"left bottom",whiteSpace:"pre",pointerEvents:"all"}},m?m(this.props):B)}}]),t}(reactExports.PureComponent);TextLayerItemInternal.propTypes={customTextRenderer:PropTypes.func,fontName:PropTypes.string.isRequired,itemIndex:PropTypes.number.isRequired,page:isPage.isRequired,rotate:isRotate,scale:PropTypes.number,str:PropTypes.string.isRequired,transform:PropTypes.arrayOf(PropTypes.number).isRequired,width:PropTypes.number.isRequired};function TextLayerItem(u){return React.createElement(PageContext.Consumer,null,function(n){return React.createElement(TextLayerItemInternal,_extends({},n,u))})}function _createSuper$2(u){var n=_isNativeReflectConstruct$2();return function(){var e=_getPrototypeOf(u),a;if(n){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,i)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TextLayerInternal=function(u){_inherits(t,u);var n=_createSuper$2(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i)),_defineProperty(_assertThisInitialized(e),"state",{textItems:null}),_defineProperty(_assertThisInitialized(e),"loadTextItems",function(){var f=e.props.page,m=makeCancellablePromise(f.getTextContent());e.runningTask=m,m.promise.then(function(R){var B=R.items;e.setState({textItems:B},e.onLoadSuccess)}).catch(function(R){e.onLoadError(R)})}),_defineProperty(_assertThisInitialized(e),"onLoadSuccess",function(){var f=e.props.onGetTextSuccess,m=e.state.textItems;f&&f(m)}),_defineProperty(_assertThisInitialized(e),"onLoadError",function(f){e.setState({textItems:!1});var m=e.props.onGetTextError;m&&m(f)}),e}return _createClass(t,[{key:"componentDidMount",value:function(){var a=this.props.page;invariant(a),this.loadTextItems()}},{key:"componentDidUpdate",value:function(a){var i=this.props.page;a.page&&i!==a.page&&this.loadTextItems()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"unrotatedViewport",get:function(){var a=this.props,i=a.page,c=a.scale;return i.getViewport({scale:c})}},{key:"rotate",get:function(){var a=this.props,i=a.page,c=a.rotate;return c-i.rotate}},{key:"renderTextItems",value:function(){var a=this.state.textItems;return a?a.map(function(i,c){return React.createElement(TextLayerItem,_extends({key:c,itemIndex:c},i))}):null}},{key:"render",value:function(){var a=this.unrotatedViewport,i=this.rotate;return React.createElement("div",{className:"react-pdf__Page__textContent",style:{position:"absolute",top:"50%",left:"50%",width:"".concat(a.width,"px"),height:"".concat(a.height,"px"),color:"transparent",transform:"translate(-50%, -50%) rotate(".concat(i,"deg)"),WebkitTransform:"translate(-50%, -50%) rotate(".concat(i,"deg)"),pointerEvents:"none"}},this.renderTextItems())}}]),t}(reactExports.PureComponent);TextLayerInternal.propTypes={onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,page:isPage.isRequired,rotate:isRotate,scale:PropTypes.number};function TextLayer(u){return React.createElement(PageContext.Consumer,null,function(n){return React.createElement(TextLayerInternal,_extends({},n,u))})}function _createSuper$1(u){var n=_isNativeReflectConstruct$1();return function(){var e=_getPrototypeOf(u),a;if(n){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,i)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var AnnotationLayerInternal=function(u){_inherits(t,u);var n=_createSuper$1(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i)),_defineProperty(_assertThisInitialized(e),"state",{annotations:null}),_defineProperty(_assertThisInitialized(e),"layerElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(e),"loadAnnotations",function(){var f=e.props.page,m=makeCancellablePromise(f.getAnnotations());e.runningTask=m,m.promise.then(function(R){e.setState({annotations:R},e.onLoadSuccess)}).catch(function(R){e.onLoadError(R)})}),_defineProperty(_assertThisInitialized(e),"onLoadSuccess",function(){var f=e.props.onGetAnnotationsSuccess,m=e.state.annotations;f&&f(m)}),_defineProperty(_assertThisInitialized(e),"onLoadError",function(f){e.setState({annotations:!1});var m=e.props.onGetAnnotationsError;m&&m(f)}),_defineProperty(_assertThisInitialized(e),"onRenderSuccess",function(){var f=e.props.onRenderAnnotationLayerSuccess;f&&f()}),_defineProperty(_assertThisInitialized(e),"onRenderError",function(f){var m=e.props.onRenderAnnotationLayerError;m&&m(f)}),e}return _createClass(t,[{key:"componentDidMount",value:function(){var a=this.props.page;invariant(a),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(a){var i=this.props,c=i.page,f=i.renderForms;(a.page&&c!==a.page||f!==a.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"viewport",get:function(){var a=this.props,i=a.page,c=a.rotate,f=a.scale;return i.getViewport({scale:f,rotation:c})}},{key:"renderAnnotationLayer",value:function(){var a=this.state.annotations;if(a){var i=this.props,c=i.imageResourcesPath,f=i.linkService,m=i.page,R=i.renderForms,B=this.viewport.clone({dontFlip:!0}),N={annotations:a,div:this.layerElement.current,imageResourcesPath:c,linkService:f,page:m,renderForms:R,viewport:B};this.layerElement.current.innerHTML="";try{pdfExports.AnnotationLayer.render(N),this.onRenderSuccess()}catch(G){this.onRenderError(G)}}}},{key:"render",value:function(){return React.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement},this.renderAnnotationLayer())}}]),t}(reactExports.PureComponent);AnnotationLayerInternal.propTypes={imageResourcesPath:PropTypes.string,linkService:isLinkService.isRequired,onGetAnnotationsError:PropTypes.func,onGetAnnotationsSuccess:PropTypes.func,onRenderAnnotationLayerError:PropTypes.func,onRenderAnnotationLayerSuccess:PropTypes.func,page:isPage,renderForms:PropTypes.bool,rotate:isRotate,scale:PropTypes.number};var AnnotationLayer=function u(n){return React.createElement(DocumentContext.Consumer,null,function(t){return React.createElement(PageContext.Consumer,null,function(e){return React.createElement(AnnotationLayerInternal,_extends({},t,e,n))})})};function ownKeys(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(u,a).enumerable})),t.push.apply(t,e)}return t}function _objectSpread(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}function _createSuper(u){var n=_isNativeReflectConstruct();return function(){var e=_getPrototypeOf(u),a;if(n){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,i)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var defaultScale=1,PageInternal=function(u){_inherits(t,u);var n=_createSuper(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i)),_defineProperty(_assertThisInitialized(e),"state",{page:null}),_defineProperty(_assertThisInitialized(e),"pageElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(e),"onLoadSuccess",function(){var f=e.props,m=f.onLoadSuccess,R=f.registerPage,B=e.state.page;m&&m(makePageCallback(B,e.scale)),R&&R(e.pageIndex,e.pageElement.current)}),_defineProperty(_assertThisInitialized(e),"onLoadError",function(f){e.setState({page:!1});var m=e.props.onLoadError;m&&m(f)}),_defineProperty(_assertThisInitialized(e),"loadPage",function(){var f=e.props.pdf,m=e.getPageNumber();if(m){e.setState(function(B){return B.page?{page:null}:null});var R=makeCancellablePromise(f.getPage(m));e.runningTask=R,R.promise.then(function(B){e.setState({page:B},e.onLoadSuccess)}).catch(function(B){e.onLoadError(B)})}}),e}return _createClass(t,[{key:"componentDidMount",value:function(){var a=this.props.pdf;invariant(a),this.loadPage()}},{key:"componentDidUpdate",value:function(a){var i=this.props.pdf;if(a.pdf&&i!==a.pdf||this.getPageNumber()!==this.getPageNumber(a)){var c=this.props.unregisterPage;c&&c(this.getPageIndex(a)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var a=this.props.unregisterPage;a&&a(this.pageIndex),cancelRunningTask(this.runningTask)}},{key:"childContext",get:function(){var a=this.state.page;if(!a)return{};var i=this.props,c=i.canvasBackground,f=i.customTextRenderer,m=i.onGetAnnotationsError,R=i.onGetAnnotationsSuccess,B=i.onGetTextError,N=i.onGetTextSuccess,G=i.onRenderAnnotationLayerError,F=i.onRenderAnnotationLayerSuccess,w=i.onRenderError,I=i.onRenderSuccess,C=i.renderForms,W=i.renderInteractiveForms;return{canvasBackground:c,customTextRenderer:f,onGetAnnotationsError:m,onGetAnnotationsSuccess:R,onGetTextError:B,onGetTextSuccess:N,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:F,onRenderError:w,onRenderSuccess:I,page:a,renderForms:C??W,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(a.pageNumber)?a.pageNumber-1:isProvided(a.pageIndex)?a.pageIndex:null}},{key:"getPageNumber",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(a.pageNumber)?a.pageNumber:isProvided(a.pageIndex)?a.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var a=this.props.rotate;if(isProvided(a))return a;var i=this.state.page;return i?i.rotate:null}},{key:"scale",get:function(){var a=this.state.page;if(!a)return null;var i=this.props,c=i.scale,f=i.width,m=i.height,R=this.rotate,B=1,N=c===null?defaultScale:c;if(f||m){var G=a.getViewport({scale:1,rotation:R});B=f?f/G.width:m/G.height}return N*B}},{key:"eventProps",get:function(){var a=this;return makeEventProps(this.props,function(){var i=a.state.page;return i&&makePageCallback(i,a.scale)})}},{key:"pageKey",get:function(){var a=this.state.page;return"".concat(a.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){var a=this.state.page;return"".concat(a.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var a=this.props,i=a.canvasRef,c=a.renderMode;switch(c){case"none":return null;case"svg":return React.createElement(PageSVG,{key:"".concat(this.pageKeyNoScale,"_svg")});case"canvas":default:return React.createElement(PageCanvas,{key:"".concat(this.pageKey,"_canvas"),canvasRef:i})}}},{key:"renderTextLayer",value:function(){var a=this.props.renderTextLayer;return a?React.createElement(TextLayer,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){var a=this.props.renderAnnotationLayer;return a?React.createElement(AnnotationLayer,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var a=this.props.children;return React.createElement(PageContext.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),a)}},{key:"renderContent",value:function(){var a=this.pageNumber,i=this.props.pdf,c=this.state.page;if(!a){var f=this.props.noData;return React.createElement(Message,{type:"no-data"},typeof f=="function"?f():f)}if(i===null||c===null){var m=this.props.loading;return React.createElement(Message,{type:"loading"},typeof m=="function"?m():m)}if(i===!1||c===!1){var R=this.props.error;return React.createElement(Message,{type:"error"},typeof R=="function"?R():R)}return this.renderChildren()}},{key:"render",value:function(){var a=this.pageNumber,i=this.props,c=i.className,f=i.inputRef;return React.createElement("div",_extends({className:mergeClassNames("react-pdf__Page",c),"data-page-number":a,ref:mergeRefs(f,this.pageElement),style:{position:"relative"}},this.eventProps),this.renderContent())}}]),t}(reactExports.PureComponent);PageInternal.defaultProps={error:"Failed to load the page.",loading:"Loading page…",noData:"No page specified.",renderAnnotationLayer:!0,renderForms:!1,renderMode:"canvas",renderTextLayer:!0,scale:defaultScale};var isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);PageInternal.propTypes=_objectSpread(_objectSpread({},eventProps),{},{canvasBackground:PropTypes.string,children:PropTypes.node,className:isClassName,customTextRenderer:PropTypes.func,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,registerPage:PropTypes.func,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderInteractiveForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,unregisterPage:PropTypes.func,width:PropTypes.number});function Page(u,n){return React.createElement(DocumentContext.Consumer,null,function(t){return React.createElement(PageInternal,_extends({ref:n},t,u))})}const Page$1=React.forwardRef(Page);pdfExports.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdfExports.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfExports.version}/pdf.worker.js`;const resumeLink="https://raw.githubusercontent.com/faizan7800/samia-rani-portfolio/main/EJCzyN.pdf",Resume=()=>{const u=reactExports.useRef(null),[n,t]=reactExports.useState(null);reactExports.useEffect(()=>{var c;t(((c=u.current)==null?void 0:c.getBoundingClientRect().width)||null)},[]);const e=()=>{document.querySelectorAll(".react-pdf__Page__textContent").forEach(f=>{const{style:m}=f;m.top="0",m.left="0",m.transform=""})},[a,i]=reactExports.useState(1);return jsxRuntimeExports.jsx(BaseLayout,{layout:"resume",children:jsxRuntimeExports.jsxs("div",{className:s.content,id:"resume",children:[jsxRuntimeExports.jsxs("div",{className:s.header,children:[jsxRuntimeExports.jsxs("h1",{className:s.title,children:["My ",jsxRuntimeExports.jsx("br",{})," Resume"]}),jsxRuntimeExports.jsx("div",{className:s.filesImg,children:jsxRuntimeExports.jsx(SvgResumeFiles,{})})]}),jsxRuntimeExports.jsxs(Button,{style:{margin:"auto",width:"15rem"},className:"primary",href:resumeLink,target:"_blank",children:[jsxRuntimeExports.jsx(SvgDownload,{fill:"#fff"}),jsxRuntimeExports.jsx("span",{className:s.downloadText,children:" download resume"}),jsxRuntimeExports.jsx("span",{className:s.filename,children:".pdf"})]}),jsxRuntimeExports.jsx("div",{className:s.pdfWrapper,ref:u,children:jsxRuntimeExports.jsx(Document,{loading:jsxRuntimeExports.jsx(LinerProgress,{}),pageLayout:"twoColumnLeft",file:{url:resumeLink},children:jsxRuntimeExports.jsx(Page$1,{onLoadSuccess:e,loading:jsxRuntimeExports.jsx(LinerProgress,{}),width:n,pageNumber:a})})}),jsxRuntimeExports.jsxs("div",{className:s.buttons,children:[jsxRuntimeExports.jsx(Button,{style:{margin:"auto",width:"15rem"},className:"primary",onClick:()=>{if(a>0){let c=a-1;i(c)}},disabled:a===1,children:"Prev"}),jsxRuntimeExports.jsx(Button,{style:{margin:"auto",width:"15rem"},className:"primary",onClick:()=>{if(a<=4){let c=a+1;i(c)}},disabled:a===4,children:"Next"})]})]})})};export{Resume as default};
